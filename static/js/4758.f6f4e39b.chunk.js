"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[4758,1617,907,2258,1608],{61617:function(t,e,n){n.r(e),n.d(e,{AssetLabel:function(){return u}});var i=n(1413),s=n(45987),r=n(3498),a=n(75712),o=n(45263),c=["assetId","size","spacing","extraFields"],u=function(t){var e=t.assetId,n=t.size,u=void 0===n?"sm":n,l=t.spacing,d=t.extraFields,f=(0,s.Z)(t,c);return(0,o.jsx)(a.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,o.jsxs)(r.Ug,{spacing:l,alignItems:"center",justifyContent:"flex-start",children:[(0,o.jsx)(a.AssetProvider.Icon,{size:u}),(0,o.jsx)(a.AssetProvider.Name,(0,i.Z)({textStyle:"heading",fontSize:["15px","h3"],whiteSpace:"nowrap"},f)),null===d||void 0===d?void 0:d.map((function(t){return(0,o.jsx)(a.AssetProvider.GeneralData,{field:t},"extraField_".concat(t))}))]})})}},94758:function(t,e,n){n.r(e),n.d(e,{MaticNFTs:function(){return v}});var i=n(99594),s=n(7276),r=n(54447),a=n(87099),o=n(86059),c=n(61617),u=n(15542),l=n(1669),d=n(3498),f=n(75712),m=n(72258),h=n(45263),v=function(t){var e=t.assetId,n=(0,l.w)(),v=n.maticNFTs,x=n.selectors,g=x.selectAssetById,p=x.selectVaultById,w=(0,s.useMemo)((function(){return g&&g(e)}),[g,e]),j=(0,s.useMemo)((function(){return p&&p(e)}),[p,e]);return(0,s.useMemo)((function(){var t;return j&&"flags"in j&&(null===(t=j.flags)||void 0===t?void 0:t.showMaticNFTs)}),[j])&&null!==v&&void 0!==v&&v.length?(0,h.jsxs)(d.gC,{spacing:6,width:"100%",id:"vault-rewards",alignItems:"flex-start",children:[(0,h.jsx)(u.Translation,{translation:"defi.claimableNTFs",component:d.xv,textStyle:"heading",fontSize:"h3"}),(0,h.jsx)(d.MI,{spacing:6,width:"100%",columns:[1,3],children:v&&v.map((function(t){return(0,h.jsx)(r.Card,{p:6,children:(0,h.jsxs)(d.gC,{spacing:6,width:"100%",alignItems:"flex-start",children:[(0,h.jsxs)(d.Ug,{width:"100%",justifyContent:"space-between",children:[(0,h.jsx)(c.AssetLabel,{assetId:e}),(0,h.jsxs)(d.xv,{textStyle:"heading",fontSize:"h3",whiteSpace:"nowrap",children:["#",t.tokenId]})]}),(0,h.jsxs)(d.Ug,{spacing:4,width:"100%",justifyContent:"space-between",children:["available"===t.status?(0,h.jsx)(m.TransactionButton,{text:"defi.claim",vaultId:null===j||void 0===j?void 0:j.id,assetId:null===w||void 0===w?void 0:w.underlyingId,contractSendMethod:t.contractSendMethod,actionType:"claim",amount:t.amount.toString(),disabled:t.amount.lte(0)}):(0,h.jsxs)(d.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(u.Translation,{component:d.xv,translation:"defi.estUnlockDate",textStyle:"captionSmall"}),(0,h.jsx)(d.Ug,{spacing:1,children:(0,h.jsx)(d.xv,{textStyle:"tableCell",children:(0,i.p6)(t.unlockTimestamp,a.Cu)})})]}),(0,h.jsxs)(d.gC,{spacing:1,alignItems:"flex-end",children:[(0,h.jsx)(u.Translation,{component:d.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,h.jsxs)(d.Ug,{spacing:1,justifyContent:"flex-end",children:[(0,h.jsx)(o.Amount,{value:t.amount,decimals:8,textStyle:"tableCell"}),(0,h.jsx)(f.AssetProvider,{assetId:null===w||void 0===w?void 0:w.underlyingId,children:(0,h.jsx)(f.AssetProvider.Name,{textStyle:"tableCell"})})]})]})]})]})},"nft_".concat(t.tokenId))}))})]}):null}},72258:function(t,e,n){n.r(e),n.d(e,{TransactionButton:function(){return j},TransactionButtonValue:function(){return w}});var i=n(1413),s=n(29439),r=n(45987),a=(n(81608),n(39195)),o=n(55967),c=n(15542),u=n(53293),l=n(23023),d=n(7276),f=n(96699),m=n(52486),h=n(3498),v=n(43127),x=n(45263),g=["text","contractSendMethod"],p=["text","amount","assetId","vaultId","actionType","chainIds","contractSendMethod"],w=function(t){var e,n=t.text,a=t.contractSendMethod,u=(0,r.Z)(t,g),v=(0,f.Fg)(),p=(0,d.useRef)(null),w=(0,d.useState)(null),j=(0,s.Z)(w,2),y=j[0],S=j[1],b=(0,l.R)(),I=b.state.transaction,C=b.cleanTransaction,T=(0,d.useMemo)((function(){var t;return JSON.stringify(null===I||void 0===I||null===(t=I.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(a._method)}),[I,a]),M=(0,d.useMemo)((function(){return T&&I.status&&["pending","success","failed"].includes(I.status)&&I.estimatedTime}),[I,T]),k=(0,d.useMemo)((function(){return M&&"pending"===I.status?I.estimatedTime:.5}),[M,I]),Z=(0,d.useCallback)((function(){if(!I.timestamp||!I.estimatedTime)return null;var t=+I.timestamp+1e3*I.estimatedTime,e=Math.max(0,Math.ceil((t-Date.now())/1e3));S(e),e&&(p.current=setTimeout((function(){Z()}),1e3))}),[I]);(0,d.useEffect)((function(){var t;T&&("success"===I.status||"failed"===I.status?(p.current&&(clearInterval(p.current),p.current=null),"success"!==I.status&&4001===(null===(t=I.error)||void 0===t?void 0:t.code)||setTimeout((function(){C()}),4e3)):"pending"!==I.status||p.current||Z())}),[T,I.status,Z,C,null===(e=I.error)||void 0===e?void 0:e.code]);var z=(0,d.useMemo)((function(){var t;if(T)switch(null===I||void 0===I?void 0:I.status){case"created":return(0,x.jsx)(m.$,{size:"sm"});case"pending":return I.timestamp&&I.estimatedTime&&y?(0,x.jsxs)(h.xv,{textStyle:"ctaStatic",children:[y,"s"]}):(0,x.jsx)(m.$,{size:"sm"});case"success":return(0,x.jsx)(h.kC,(0,i.Z)((0,i.Z)({},u),{},{alignItems:"center",justifyContent:"center",children:(0,x.jsx)(o.ddU,{size:24,color:v.colors.green[400]})}));case"failed":if(4001!==(null===(t=I.error)||void 0===t?void 0:t.code))return(0,x.jsx)(h.kC,(0,i.Z)((0,i.Z)({},u),{},{alignItems:"center",justifyContent:"center",children:(0,x.jsx)(o.lTq,{size:24,color:v.colors.red[400]})}))}return(0,x.jsx)(c.Translation,{translation:n,textStyle:"ctaStatic"})}),[T,y,I,n,v,u]),F=(0,d.useMemo)((function(){switch(I.status){case"success":case"failed":return"transparent";default:return"primary"}}),[I]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(h.kC,{top:0,left:0,bottom:0,bg:F,overflow:"hidden",position:"absolute",alignItems:"center",justifyContent:"center",transition:"background 0.5s ease-in-out",sx:{animationIterationCount:1,animationFillMode:"forwards",animationTimingFunction:"ease-in-out",animationDuration:"".concat(k,"s"),animationName:M?"progress":"none",animationPlayState:M?"running":"stopped"},children:(0,x.jsx)(h.kC,{left:0,width:u.width,alignItems:"center",position:"absolute",justifyContent:"center",sx:{"> *":{color:"black !important",borderColor:"black !important"}},children:z})}),z]})},j=function(t){var e=t.text,n=t.amount,o=t.assetId,c=t.vaultId,f=t.actionType,m=t.chainIds,h=void 0===m?[]:m,g=t.contractSendMethod,j=(0,r.Z)(t,p),y=(0,u.Z)(),S=(0,s.Z)(y,2),b=S[0],I=S[1].width,C=(0,a.Y)().checkChainEnabled,T=(0,l.R)(),M=T.sendTransaction,k=T.state.transaction,Z=(0,d.useMemo)((function(){return C(h)}),[h,C]),z=(0,d.useMemo)((function(){var t;return JSON.stringify(null===k||void 0===k||null===(t=k.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(g._method)}),[k,g]),F=(0,d.useCallback)((function(){if("created"!==k.status&&"pending"!==k.status)return M(c,o,g,f,n)}),[k,c,o,g,f,n,M]),A=(0,d.useMemo)((function(){var t;if(!z)return"primary";switch(k.status){case"success":return"green.400";case"failed":return 4001!==(null===(t=k.error)||void 0===t?void 0:t.code)?"red.400":"primary";default:return"primary"}}),[z,k]),N=(0,d.useMemo)((function(){return!!j.disabled||!Z}),[j,Z]);return(0,x.jsx)(v.zx,(0,i.Z)((0,i.Z)({py:2,px:10,overflow:"hidden",position:"relative",width:I||"auto",borderColor:A,onClick:function(){return F()},ref:b,variant:"ctaPrimaryOutline",transition:"border 0.5s ease-in-out"},j),{},{disabled:N,children:(0,x.jsx)(w,{text:e,contractSendMethod:g,width:I})}))}},53293:function(t,e,n){n.d(e,{Z:function(){return l}});var i=n(74165),s=n(15861),r=n(29439),a=n(7276),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=null;return function(){n&&clearTimeout(n);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];n=setTimeout(e,t,s)}},c={x:0,y:0,top:0,left:0,width:0,height:0,right:0,bottom:0};function u(t){var e=t.getBoundingClientRect();return{x:e.x,y:e.y,top:e.top,left:e.left,width:e.width,height:e.height,right:e.right,bottom:e.bottom}}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=(0,a.useState)(null),n=(0,r.Z)(e,2),l=n[0],d=n[1],f=(0,a.useState)(c),m=(0,r.Z)(f,2),h=m[0],v=m[1],x=(0,a.useCallback)((function(t){d(t)}),[]);return(0,a.useLayoutEffect)((function(){if("undefined"!==typeof window&&l){var e=function(){var t=(0,s.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.requestAnimationFrame((function(){v(u(l))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e();var n=o(t||100,e);return window.addEventListener("resize",n),window.addEventListener("scroll",n),function(){window.removeEventListener("resize",n),window.removeEventListener("scroll",n)}}}),[l,t]),[x,h,l]}},81608:function(t,e,n){n.r(e),e.default={}}}]);