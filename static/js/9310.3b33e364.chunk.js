/*! For license information please see 9310.3b33e364.chunk.js.LICENSE.txt */
(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[9310,1617,5794,4872,4447,5276,219,6155,745,5130,110,1925,2258,1608,8024,8147,5349,71,9538,7413],{61617:function(t,e,n){"use strict";n.r(e),n.d(e,{AssetLabel:function(){return c}});var a=n(1413),r=n(45987),i=n(3498),s=n(75712),o=n(45263),l=["assetId","size","spacing"],c=function(t){var e=t.assetId,n=t.size,c=void 0===n?"sm":n,d=t.spacing,u=(0,r.Z)(t,l);return(0,o.jsx)(s.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,o.jsxs)(i.Ug,{spacing:d,alignItems:"center",justifyContent:"flex-start",children:[(0,o.jsx)(s.AssetProvider.Icon,{size:c}),(0,o.jsx)(s.AssetProvider.Name,(0,a.Z)({textStyle:"heading",fontSize:["15px","h3"],whiteSpace:"nowrap"},u))]})})}},95794:function(t,e,n){"use strict";n.r(e),n.d(e,{AssetsIcons:function(){return c}});var a=n(1413),r=n(45987),i=n(3498),s=n(75712),o=n(45263),l=["assetIds","showTooltip"],c=function(t){var e=t.assetIds,n=t.showTooltip,c=(0,r.Z)(t,l);return(0,o.jsx)(i.Ug,{spacing:0,children:e.map((function(t,e){return(0,o.jsx)(s.AssetProvider,{assetId:t,children:(0,o.jsx)(s.AssetProvider.Icon,(0,a.Z)((0,a.Z)({},c),{},{ml:e?-1:0,showTooltip:n}))},"asset_".concat(e))}))})}},54872:function(t,e,n){"use strict";n.r(e),n.d(e,{BalanceChart:function(){return c}});var a=n(3498),r=n(7276),i=n(45327),s=n(99594),o=n(15034),l=n(45263),c=function(t){var e=t.assetIds,n=t.accountId,c=t.timeframe,d=t.strategies,u=t.isRainbowChart,f=t.setPercentChange,x=t.color,h=void 0===x?"chart.stroke":x,m=t.margins,p=void 0===m?{top:0,right:0,bottom:0,left:0}:m,g=(0,o.k)({assetIds:e,accountId:n,timeframe:c,strategies:d}),v=g.balanceChartData,y=g.balanceChartDataLoading,j=v.total;(0,r.useEffect)((function(){return f((0,s.gB)(j))}),[j,f]);return(0,l.jsx)(a.xu,{width:"full",p:0,height:"350px",children:(0,l.jsx)(i.Graph,{color:h,margins:p,formatFn:function(t){return"$".concat((0,s.dm)(t))},data:v,isRainbowChart:u,loading:y,isLoaded:!y})})}},54447:function(t,e,n){"use strict";n.r(e),n.d(e,{Card:function(){return x},CardFlex:function(){return h},Dark:function(){return m},Light:function(){return p},Outline:function(){return g}});var a=n(1413),r=n(45987),i=n(3498),s=n(45263),o=["children"],l=["children","layerStyle"],c=["children","layerStyle"],d=["children"],u=["children"],f=["children"],x=function(t){var e=t.children,n=t.layerStyle,o=(0,r.Z)(t,l);return(0,s.jsx)(i.xu,(0,a.Z)((0,a.Z)({width:"100%",position:"relative",layerStyle:n||"card"},o),{},{children:e}))},h=function(t){var e=t.children,n=t.layerStyle,o=(0,r.Z)(t,c);return(0,s.jsx)(i.kC,(0,a.Z)((0,a.Z)({width:"100%",layerStyle:n||"card"},o),{},{children:e}))},m=function(t){var e=t.children,n=(0,r.Z)(t,d),i=["cardDark"].concat(t.layerStyle);return(0,s.jsx)(x,(0,a.Z)((0,a.Z)({},n),{},{layerStyle:i,children:e}))},p=function(t){var e=t.children,n=(0,r.Z)(t,u),i=["cardLight"].concat(t.layerStyle);return(0,s.jsx)(x,(0,a.Z)((0,a.Z)({},n),{},{layerStyle:i,children:e}))},g=function(t){var e=t.children,n=(0,r.Z)(t,f),i=["cardOutline"].concat(t.layerStyle);return(0,s.jsx)(x,(0,a.Z)((0,a.Z)({},n),{},{layerStyle:i,children:e}))};x.Dark=m,x.Light=p,x.Flex=h,x.Outline=g,x.Heading=function(t){var e=t.children,n=(0,r.Z)(t,o);return(0,s.jsx)(i.X6,(0,a.Z)((0,a.Z)({as:"h3",size:"md",mb:6},n),{},{children:e}))}},75276:function(t,e,n){"use strict";n.r(e),n.d(e,{CompositionChart:function(){return x}});var a=n(7276),r=n(99594),i=n(79681),s=n(96699),o=n(3498),l=n(66288),c=n(90219),d=n(1669),u=n(1494),f=n(45263),x=function(t){var e=t.assetIds,n=t.strategies,x=t.type,h=(0,s.Fg)(),m=(0,i.qM)(),p=(0,l.X)().isMobile,g=(0,d.w)().protocolToken,v=(0,u.O)({assetIds:e,strategies:n}),y=v.colors,j=v.compositions,b=(0,a.useCallback)((function(t){var e;if("assets"===x){var n=j[x].reduce((function(t,e){return t+e.value}),0),a=function(t){return"$".concat((0,r.dm)(t))},i=null===t||void 0===t||null===(e=t.extraData)||void 0===e?void 0:e.asset,s=(null===i||void 0===i?void 0:i.icon)||(null===g||void 0===g?void 0:g.icon),o=(null===i||void 0===i?void 0:i.name)||m("dashboard.portfolio.totalChart"),l=a(t?t.value:n);return t&&!i?null:(0,f.jsxs)(f.Fragment,{children:[s&&(0,f.jsx)("image",{y:"35%",href:s,height:"34",width:"34",textAnchor:"middle",x:p?"44.5%":"46.5%"}),(0,f.jsx)("text",{x:"50%",y:"54%",fill:"white",fontSize:26,fontWeight:600,textAnchor:"middle",pointerEvents:"none",children:l}),(0,f.jsx)("text",{x:"50%",y:"61%",fontSize:14,fontWeight:400,textAnchor:"middle",pointerEvents:"none",fill:h.colors.cta,children:o})]})}}),[g,j,h,m,x,p]);return(0,f.jsx)(o.xu,{height:350,width:"100%",children:j&&j[x]&&j[x].length?(0,f.jsx)(c.DonutChart,{colors:y[x],data:j[x],getSliceData:b}):(0,f.jsx)(c.DonutChart,{colors:{placeholder1:"#4c515d",placeholder2:"#2a3243",placeholder3:"#727680"},data:[{value:40,label:"placeholder1"},{value:60,label:"placeholder2"},{value:30,label:"placeholder3"}]})})}},9310:function(t,e,n){"use strict";n.r(e),n.d(e,{Dashboard:function(){return R}});var a=n(1413),r=n(93433),i=n(29439),s=n(54447),o=n(95173),l=n(87099),c=n(69802),d=n(86059),u=n(12056),f=n(66288),x=n(75349),h=n(88935),m=n(80745),p=n(97778),g=n(95794),v=n(15542),y=n(1669),j=n(54872),b=n(53293),w=n(7276),C=n(75712),S=n(56155),I=n(60110),A=n(39538),Z=n(18147),k=n(75276),T=n(35130),M=n(61925),O=n(72258),P=n(30071),z=n(98440),D=n(99594),E=n(1494),L=n(3498),U=n(43127),N=n(89030),_=n(82137),F=n(45263),R=function(){var t=(0,f.X)().isMobile,e=(0,b.Z)(),n=(0,i.Z)(e,2),R=n[0],B=n[1],q=(0,w.useState)(0),H=(0,i.Z)(q,2)[1],V=(0,w.useState)(z.W.YEAR),K=(0,i.Z)(V,2),W=K[0],G=K[1],$=(0,c.Z)("selectedStrategies",Object.keys(u.A)),J=(0,i.Z)($,2),Y=J[0],X=J[1],Q=(0,o.s0)(),tt=(0,h.Y)(),et=tt.account,nt=tt.walletInitialized,at=(0,y.w)(),rt=at.assetsData,it=at.stakingData,st=at.isVaultsPositionsLoaded,ot=at.isPortfolioLoaded,lt=at.vaultsPositions,ct=at.gaugesRewards,dt=at.vaultsRewards,ut=at.selectors,ft=ut.selectAssetById,xt=ut.selectAssetsByIds,ht=ut.selectVaultsAssetsByType,mt=ut.selectVaultsByType,pt=(0,w.useMemo)((function(){return Object.keys(u.A).filter((function(t){return u.A[t].visible}))}),[]),gt=(0,w.useMemo)((function(){return nt&&ot&&(!et||st)}),[nt,et,ot,st]),vt=(0,w.useMemo)((function(){var t;return mt&&(null===(t=mt("STK"))||void 0===t?void 0:t[0])}),[mt]),yt=(0,w.useMemo)((function(){if(!xt)return[];var t=Object.keys(lt);return xt(t).filter((function(t){return!Y||!t.type||Y.includes(t.type)&&pt.includes(t.type)})).map((function(t){return t.id}))}),[lt,Y,pt,xt]),jt=(0,w.useMemo)((function(){return Object.values(rt).filter((function(t){return t.id&&(!t.type||pt.includes(t.type))})).map((function(t){return t.id}))}),[rt,pt]),bt=(0,w.useMemo)((function(){return Object.keys(lt).filter((function(t){return yt.includes(t)})).map((function(t){return lt[t]})).reduce((function(t,e){return t.plus(e.usd.deposited)}),(0,D.gA)(0))}),[yt,lt]),wt=(0,w.useMemo)((function(){return Object.keys(lt).filter((function(t){return yt.includes(t)})).map((function(t){return lt[t]})).reduce((function(t,e){return t.plus(e.usd.redeemable)}),(0,D.gA)(0))}),[yt,lt]),Ct=(0,w.useMemo)((function(){return wt.div(bt).minus(1).times(100)}),[bt,wt]),St=(0,w.useMemo)((function(){return et&&st&&Object.keys(lt).length>0}),[et,st,lt]),It=(0,E.O)({assetIds:Object.keys(lt),strategies:pt}).compositions,At=(0,w.useCallback)((function(t){Y.includes(t)?X(Y.filter((function(e){return e!==t}))):X([].concat((0,r.Z)(Y),[t]))}),[Y,X]),Zt=(0,w.useMemo)((function(){return ht?(0,F.jsx)(L.MI,{mt:6,spacing:6,width:"100%",columns:[1,3],children:It.strategies.filter((function(t){return pt.includes(t.extraData.strategy.type)})).map((function(e,n){var a=e.extraData.strategy,r=(0,D.qC)("earn",[a.route]),i=e.extraData.avgRealizedApy,o=ht(a.type).filter((function(t){var e;return null===(e=t.tvlUsd)||void 0===e?void 0:e.gt(l.ho)})),c=St?Object.keys(lt).filter((function(t){var e=ft(t);return(null===e||void 0===e?void 0:e.type)===a.type})):[],u=c.length>0?s.Card:s.Card.Dark;return(0,F.jsx)(u,{py:4,px:6,children:(0,F.jsxs)(L.gC,{spacing:4,width:"100%",children:[(0,F.jsxs)(L.Ug,{pb:4,width:"100%",borderBottom:"1px solid",borderColor:"divider",justifyContent:"space-between",children:[(0,F.jsx)(I.StrategyLabel,{strategy:a.type,fontSize:"h3"}),(0,F.jsx)(v.Translation,{component:U.zx,translation:e.value>0?"common.manage":"common.enter",onClick:function(){return Q("".concat(r))},variant:"ctaPrimary",py:2,height:"auto"})]}),c.length>0?(0,F.jsxs)(L.Ug,{width:"100%",justifyContent:"space-between",children:[(0,F.jsxs)(L.Ug,{spacing:2,alignItems:"center",children:[(0,F.jsx)(v.Translation,{translation:"defi.balance",component:L.xv,textStyle:"captionSmall"}),(0,F.jsx)(N.N2,{noOfLines:2,isLoaded:!!st,children:e.value>0?(0,F.jsx)(d.Amount.Usd,{value:e.value,textStyle:["ctaStatic","h3"]}):(0,F.jsx)(v.Translation,{component:L.xv,translation:"common.noDeposits",textStyle:["ctaStatic","h3"]})})]}),(0,F.jsxs)(L.Ug,{spacing:2,alignItems:"center",children:[(0,F.jsx)(v.Translation,{translation:"defi.avgApy",component:L.xv,textStyle:"captionSmall"}),(0,F.jsx)(N.N2,{noOfLines:2,minWidth:"50px",isLoaded:!!st,children:e.value>0?(0,F.jsx)(d.Amount.Percentage,{value:i,textStyle:["ctaStatic","h3"]}):(0,F.jsx)(L.xv,{textStyle:["ctaStatic","h3"],children:"-"})})]})]}):(0,F.jsx)(L.Ug,{width:"100%",children:(0,F.jsx)(v.Translation,{translation:"dashboard.strategies.bestPerforming",component:L.xv,textStyle:"captionSmall"})}),(0,F.jsx)(m.Scrollable,{minH:190,maxH:190,children:(0,F.jsx)(L.gC,{spacing:2,width:"100%",children:!ot||et&&!st?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(N.Od,{width:"100%",height:10}),(0,F.jsx)(N.Od,{width:"100%",height:10}),(0,F.jsx)(N.Od,{width:"100%",height:10}),(0,F.jsx)(N.Od,{width:"100%",height:10})]}):c.length>0?c.sort((function(t,e){var n,a;return null!==(n=lt[t].usd)&&void 0!==n&&n.redeemable&&null!==(a=lt[e].usd)&&void 0!==a&&a.redeemable&&lt[t].usd.redeemable.gt(lt[e].usd.redeemable.toString())?-1:1})).map((function(e){return(0,F.jsx)(x.VaultCard.Inline,{bg:"card.bgLight",onClick:function(){return Q("".concat(r,"/").concat(e))},assetId:e,fields:[{label:"defi.balance",field:"balanceUsd"},{label:t?"defi.apy":"defi.realizedApy",field:"realizedApy"}]},"vault_".concat(e))})):o.sort((function(t,e){return t.apy&&e.apy&&t.apy.gt(e.apy.toString())?-1:1})).slice(0,4).map((function(t){return(0,F.jsx)(x.VaultCard.Inline,{onClick:function(){return Q("".concat(r,"/").concat(t.id))},assetId:"".concat(t.id),fields:[{label:"defi.tvl",field:"tvl"},{label:"defi.apy",field:"apy"}]},"vault_".concat(t.id))}))})})]})},"strategy_".concat(n))}))}):null}),[St,pt,et,t,ot,ft,Q,It,lt,st,ht]),kt=(0,w.useMemo)((function(){if(!gt)return(0,F.jsx)(N.Od,{width:"100%",height:"100px"});var t=u.A.BY,e=(0,D.qC)("earn",[t.route]);return(0,D.xb)(dt)?(0,F.jsx)(s.Card,{width:"100%",children:(0,F.jsxs)(L.Kq,{spacing:[10,0],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,F.jsx)(v.Translation,{translation:"dashboard.rewards.vaults.empty.body",component:L.xv,textAlign:["center","left"]}),(0,F.jsx)(v.Translation,{component:U.zx,translation:"dashboard.rewards.vaults.empty.cta",onClick:function(){return Q("".concat(e))},variant:["ctaPrimaryOutline"],px:10,py:2})]})}):(0,F.jsxs)(L.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,F.jsx)(L.MI,{spacing:6,width:"100%",columns:[1,3],children:Object.keys(dt).map((function(t){return(0,F.jsx)(P.VaultRewardOverview,(0,a.Z)({assetId:t},dt[t]),"reward_".concat(t))}))}),(0,F.jsx)(v.Translation,{component:U.zx,translation:"dashboard.rewards.vaults.cta",width:["full","auto"],onClick:function(){return Q("".concat(e))},variant:["ctaPrimaryOutline"],px:10,py:2})]})}),[dt,Q,gt]),Tt=(0,w.useMemo)((function(){if(!gt)return(0,F.jsx)(N.Od,{width:"100%",height:"100px"});var t=u.A.AA,e=(0,D.qC)("earn",[t.route]);return(0,D.xb)(ct)?(0,F.jsx)(s.Card,{width:"100%",children:(0,F.jsxs)(L.Kq,{spacing:[10,0],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,F.jsx)(v.Translation,{translation:"dashboard.rewards.gauges.empty.body",component:L.xv,textAlign:["center","left"]}),(0,F.jsx)(v.Translation,{component:U.zx,translation:"dashboard.rewards.gauges.empty.cta",onClick:function(){return Q("".concat(e))},variant:["ctaPrimaryOutline"],px:10,py:2})]})}):(0,F.jsxs)(L.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,F.jsx)(L.gC,{spacing:4,width:"100%",children:Object.keys(ct).map((function(t){var e=ct[t];return(0,F.jsx)(C.AssetProvider,{wrapFlex:!1,assetId:t,children:(0,F.jsx)(s.Card,{p:6,px:8,width:"100%",children:(0,F.jsx)(L.Kq,{spacing:0,width:"100%",alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:(0,F.jsxs)(L.MI,{width:"100%",spacing:[4,0],columns:[2,5],children:[(0,F.jsxs)(L.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"defi.asset",textStyle:"captionSmall"}),(0,F.jsx)(C.AssetProvider.GeneralData,{size:"xs",field:"asset"})]}),(0,F.jsxs)(L.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"defi.gauges",textStyle:"captionSmall"}),(0,F.jsx)(g.AssetsIcons,{size:"xs",assetIds:e.gauges,showTooltip:!0})]}),(0,F.jsxs)(L.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"defi.apy",textStyle:"captionSmall"}),(0,F.jsx)(d.Amount.Percentage,{textStyle:"tableCell",value:(0,D.gA)(e.apr).gt(0)?e.apr:null})]}),(0,F.jsxs)(L.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"defi.dailyDistribution",textStyle:"captionSmall"}),(0,F.jsxs)(L.Ug,{spacing:1,width:"100%",children:[(0,F.jsx)(d.Amount,{textStyle:"tableCell",value:e.rate,decimals:4}),(0,F.jsx)(C.AssetProvider.Symbol,{textStyle:"tableCell"})]})]}),(0,F.jsxs)(L.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,F.jsxs)(L.Ug,{spacing:1,width:"100%",children:[(0,F.jsx)(d.Amount,{textStyle:"tableCell",value:e.balance,decimals:(0,D.gA)(e.balance).lt(1)?4:2}),(0,F.jsx)(C.AssetProvider.Symbol,{textStyle:"tableCell"})]})]})]})})})},"reward_".concat(t))}))}),(0,F.jsx)(v.Translation,{component:U.zx,translation:"dashboard.rewards.gauges.cta",width:["full","auto"],onClick:function(){return Q(e)},variant:["ctaPrimaryOutline"],px:10,py:2})]})}),[Q,ct,gt]),Mt=(0,w.useMemo)((function(){var t,e,n;if(!gt||!vt||!it)return(0,F.jsx)(N.Od,{width:"100%",height:"100px"});var a=(0,D.qC)("stake"),r=(0,D.xW)("stake"),i=(0,D.Os)("stake"),o=vt.getClaimRewardsContractSendMethod();return it.position.balance.lte(0)?(0,F.jsx)(s.Card,{width:"100%",children:(0,F.jsxs)(L.Kq,{spacing:[10,0],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,F.jsx)(v.Translation,{translation:"dashboard.rewards.staking.empty.body",params:{apy:it.maxApr.toFixed(2)},component:L.xv,textAlign:["center","left"]}),(0,F.jsx)(v.Translation,{component:U.zx,translation:"dashboard.rewards.staking.empty.cta",onClick:function(){return r?Q(a):(0,D.xw)(i)},variant:["ctaPrimaryOutline"],px:10,py:2})]})}):(0,F.jsxs)(L.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,F.jsx)(s.Card,{p:6,px:8,width:"100%",children:(0,F.jsxs)(L.Kq,{width:"100%",spacing:[4,14],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,F.jsxs)(L.Ug,{width:"100%",spacing:[0,6],flexWrap:["wrap","nowrap"],justifyContent:["flex-start","space-between"],children:[(0,F.jsxs)(L.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"staking.totalSupply",textStyle:"captionSmall"}),(0,F.jsx)(p.TokenAmount,{assetId:null===it||void 0===it||null===(t=it.stkIDLE.asset)||void 0===t?void 0:t.id,showIcon:!1,amount:it.stkIDLE.totalSupply,textStyle:"tableCell"})]}),(0,F.jsxs)(L.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"defi.balance",textStyle:"captionSmall"}),(0,F.jsx)(p.TokenAmount,{assetId:null===it||void 0===it||null===(e=it.stkIDLE.asset)||void 0===e?void 0:e.id,showIcon:!1,amount:it.position.balance,textStyle:"tableCell"})]}),(0,F.jsxs)(L.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"defi.share",textStyle:"captionSmall"}),(0,F.jsx)(d.Amount.Percentage,{value:it.position.share,textStyle:"tableCell"})]}),(0,F.jsxs)(L.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,F.jsx)(p.TokenAmount,{assetId:null===it||void 0===it||null===(n=it.IDLE.asset)||void 0===n?void 0:n.id,showIcon:!1,amount:it.position.claimable,textStyle:"tableCell"})]}),(0,F.jsxs)(L.gC,{pb:[2,0],spacing:[1,2],width:["100%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,F.jsx)(v.Translation,{component:L.xv,translation:"staking.lockEnd",textStyle:"captionSmall"}),(0,F.jsx)(L.xv,{textStyle:"tableCell",children:(0,D.p6)(it.position.lockEnd)})]})]}),(0,F.jsx)(O.TransactionButton,{text:"defi.claim",vaultId:vt.id,assetId:vt.id,contractSendMethod:o,actionType:"claim",amount:it.position.claimable.toString(),width:["100%","150px"],disabled:it.position.claimable.lte(0)})]})}),(0,F.jsx)(v.Translation,{component:U.zx,translation:"dashboard.rewards.staking.cta",width:["full","auto"],onClick:function(){return r?Q(a):(0,D.xw)(i)},variant:["ctaPrimaryOutline"],px:10,py:2})]})}),[vt,it,Q,gt]),Ot=(0,w.useMemo)((function(){return(0,F.jsxs)(L.gC,{width:"100%",spacing:[10,20],children:[(0,F.jsxs)(L.gC,{spacing:6,width:"100%",id:"staking-rewards",alignItems:"flex-start",children:[(0,F.jsx)(v.Translation,{translation:"dashboard.rewards.staking.title",component:L.xv,textStyle:"heading",fontSize:"h3"}),Mt]}),(0,F.jsxs)(L.gC,{spacing:6,width:"100%",id:"gauges-rewards",alignItems:"flex-start",children:[(0,F.jsx)(I.StrategyLabel,{strategy:"AA",customText:"dashboard.rewards.gauges.title",textStyle:"heading",fontSize:"h3"}),Tt]}),(0,F.jsxs)(L.gC,{spacing:6,width:"100%",id:"best-yield-rewards",alignItems:"flex-start",children:[(0,F.jsx)(I.StrategyLabel,{strategy:"BY",customText:"dashboard.rewards.vaults.title",textStyle:"heading",fontSize:"h3"}),kt]})]})}),[kt,Tt,Mt]),Pt=(0,w.useMemo)((function(){if(1===Y.length)return u.A[Y[0]].color}),[Y]);return(0,F.jsxs)(L.xu,{mt:12,width:"100%",children:[(0,F.jsx)(A.VaultsCarousel,{}),(0,F.jsxs)(L.Kq,{mb:10,pt:[16,12],spacing:10,width:"100%",alignItems:["flex-start","center"],justifyContent:"flex-start",direction:["column","row"],children:[(0,F.jsx)(v.Translation,{translation:"navBar.dashboard",component:L.X6,as:"h2",size:"3xl"}),(0,F.jsx)(L.Ug,{pb:3,flex:1,borderBottom:"1px solid",borderColor:"divider",children:(0,F.jsx)(T.StrategiesFilters,{toggleStrategy:At,selectedStrategies:Y,checkUserFunds:!0,showOnMobile:!1})})]}),(0,F.jsxs)(L.Kq,{flex:1,spacing:6,width:"100%",direction:["column","row"],children:[(0,F.jsxs)(L.gC,{spacing:6,width:["full","66.3%"],alignItems:"flex-start",children:[(0,F.jsx)(v.Translation,{display:["none","block"],translation:"dashboard.portfolio.performance",component:L.xv,textStyle:"heading",fontSize:"h3"}),(0,F.jsxs)(s.Card.Flex,{p:0,overflow:"hidden",direction:"column",minH:["auto",460],position:"relative",layerStyle:"cardDark",justifyContent:"space-between",children:[wt.lte(0)&&(0,F.jsx)(L.M5,{layerStyle:"overlay",bg:"rgba(0, 0, 0, 0.4)",children:(0,F.jsx)(v.Translation,{translation:et?"dashboard.performanceChart.empty":"dashboard.performanceChart.emptyNotConnected",textAlign:"center",component:L.xv,py:1,px:3,bg:"rgba(0, 0, 0, 0.2)",borderRadius:8})}),(0,F.jsxs)(L.Kq,{pt:[6,8],px:[6,8],pb:[4,0],width:"100%",alignItems:"flex-start",direction:["column","row"],justifyContent:["center","space-between"],children:[St&&(0,F.jsx)(L.gC,{width:"100%",spacing:[5,1],alignItems:["center","flex-start"],children:(0,F.jsxs)(N.N2,{noOfLines:2,isLoaded:!!st,children:[(0,F.jsx)(v.Translation,{display:["none","block"],translation:"dashboard.portfolio.totalChart",component:L.xv,textStyle:"tableCell",fontWeight:400,color:"cta"}),(0,F.jsxs)(L.Ug,{spacing:[2,4],alignItems:"baseline",children:[(0,F.jsx)(d.Amount.Usd,{value:wt,textStyle:"heading",fontSize:"3xl"}),wt.gt(0)&&(0,F.jsx)(_.kN,{children:(0,F.jsxs)(L.Ug,{spacing:2,children:[(0,F.jsx)(d.Amount.Percentage,{value:Ct,textStyle:"captionSmall"}),(0,F.jsx)(_.uY,{type:Ct.gt(0)?"increase":"decrease"})]})})]})]})}),St&&(0,F.jsx)(M.TimeframeSelector,{timeframe:W,setTimeframe:G,width:["100%","auto"],justifyContent:["center","initial"]})]}),(0,F.jsx)(j.BalanceChart,{percentChange:0,color:Pt,assetIds:yt,timeframe:W,isRainbowChart:!1,strategies:Y,setPercentChange:H,margins:{top:10,right:0,bottom:65,left:0}})]})]}),(0,F.jsxs)(L.gC,{flex:1,spacing:6,width:["100%","500px"],alignItems:"flex-start",children:[(0,F.jsx)(v.Translation,{translation:"dashboard.portfolio.composition",component:L.xv,textStyle:"heading",fontSize:"h3"}),(0,F.jsxs)(s.Card.Dark,{p:0,flex:1,px:[6,0],display:"flex",alignItems:"center",children:[wt.lte(0)&&(0,F.jsx)(L.M5,{layerStyle:"overlay",bg:"rgba(0, 0, 0, 0.4)",children:(0,F.jsx)(v.Translation,{translation:et?"dashboard.compositionChart.empty":"dashboard.compositionChart.emptyNotConnected",textAlign:"center",component:L.xv,py:1,px:3,bg:"rgba(0, 0, 0, 0.2)",borderRadius:8})}),(0,F.jsx)(k.CompositionChart,{assetIds:yt,strategies:Y,type:"assets"})]})]})]}),Zt,et&&(0,F.jsxs)(L.Kq,{spacing:6,mt:[10,20],width:"100%",direction:["column","row"],children:[(0,F.jsx)(L.gC,{flex:1,alignItems:"flex-start",ref:R,children:Ot}),(0,F.jsx)(L.gC,{spacing:6,width:["100%","500px"],alignItems:"flex-start",children:(0,F.jsx)(Z.TransactionList,{assetIds:jt,maxH:[400,Math.max(400,null===B||void 0===B?void 0:B.height)],showTitleOnMobile:!0})})]}),(0,F.jsx)(S.JoinCommunity,{})]})}},90219:function(t,e,n){"use strict";n.r(e),n.d(e,{DonutChart:function(){return g},PieChart:function(){return x}});var a=n(1413),r=n(29439),i=n(14380),s=n(7276),o=n(28547),l=n(87563),c=n(68165),d=n(77806),u=n(45263),f={top:0,right:0,bottom:0,left:0};function x(t){var e=t.data,n=t.colors,l=t.width,c=t.height,x=t.margin,h=void 0===x?f:x,m=t.animate,g=void 0===m||m,v=t.getSliceData,y=(0,s.useState)(null),j=(0,r.Z)(y,2),b=j[0],w=j[1],C=l-h.left-h.right,S=c-h.top-h.bottom,I=Math.min(C,S)/2,A=S/2,Z=C/2,k=e.map((function(t){return t.label})),T=k.map((function(t){return n[t]})),M=(0,o.Z)({domain:k,range:T}),O=v&&v(b);return(0,u.jsxs)("svg",{width:l,height:c,children:[(0,u.jsx)("rect",{rx:14,width:l,height:c,fill:"url('#visx-pie-gradient')"}),O,(0,u.jsx)(i.Z,{top:A+h.top,left:Z+h.left,children:(0,u.jsx)(d.Z,{padAngle:0,cornerRadius:0,pieValue:function(t){return t.value},outerRadius:I,innerRadius:I-30,data:e,children:function(t){return(0,u.jsx)(p,(0,a.Z)((0,a.Z)({},t),{},{animate:g,onMouseOver:function(t){var e=t.data;return w(e)},getKey:function(t){return t.data.label},onMouseOut:function(){return w(null)},getColor:function(t){return M(t.data.label)}}))}})})]})}var h=function(t){var e=t.endAngle;return{startAngle:e>Math.PI?2*Math.PI:0,endAngle:e>Math.PI?2*Math.PI:0,opacity:0}},m=function(t){return{startAngle:t.startAngle,endAngle:t.endAngle,opacity:1}};function p(t){var e=t.animate,n=t.arcs,r=t.path,i=t.getKey,s=t.getColor,o=t.onMouseOut,l=t.onMouseOver,d=t.onClickDatum;return(0,c.useTransition)(n,{from:e?h:m,enter:m,update:m,leave:e?h:m,keys:i})((function(t,e){return(0,u.jsx)("g",{children:(0,u.jsx)(c.animated.path,{d:(0,c.interpolate)([t.startAngle,t.endAngle],(function(t,n){return r((0,a.Z)((0,a.Z)({},e),{},{startAngle:t,endAngle:n}))})),fill:s(e),onClick:function(){return d&&d(e)},onMouseOver:function(){return l&&l(e)},onMouseOut:function(){return o&&o(e)},onTouchStart:function(){return d&&d(e)}})},Math.random())}))}var g=function(t){var e=t.data,n=t.colors,a=t.getSliceData;return(0,u.jsx)(l.Z,{debounceTime:10,children:function(t){return(0,u.jsx)(x,{data:e,colors:n,width:t.width,height:t.height,getSliceData:a})}})}},56155:function(t,e,n){"use strict";n.r(e),n.d(e,{JoinCommunity:function(){return u}});n(7276);var a=n(54447),r=n(68905),i=n(9597),s=n(60361),o=n(15542),l=n(3498),c=n(43127),d=n(45263),u=function(){return(0,d.jsx)(a.Card.Outline,{px:5,pb:4,mt:20,pt:[10,4],children:(0,d.jsxs)(l.Kq,{spacing:10,width:"100%",alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,d.jsx)(o.Translation,{translation:"footer.joinCommunity",component:l.xv,textStyle:"heading",fontSize:"lg"}),(0,d.jsxs)(l.MI,{flex:1,spacing:4,width:"100%",columns:[1,4],children:[(0,d.jsx)(l.rU,{href:"https://medium.com/idle-finance",isExternal:!0,textDecoration:"none !important",children:(0,d.jsx)(c.zx,{width:"100%",height:14,variant:"cta",leftIcon:(0,d.jsx)(s.Ru$,{size:24}),children:(0,d.jsx)(i.Kfb,{size:72})})}),(0,d.jsx)(l.rU,{href:"https://twitter.com/idlefinance",isExternal:!0,textDecoration:"none !important",children:(0,d.jsx)(c.zx,{width:"100%",height:14,variant:"cta",leftIcon:(0,d.jsx)(s.mWf,{size:24}),children:"@idlefinance"})}),(0,d.jsx)(l.rU,{href:"https://discord.gg/mpySAJp",isExternal:!0,textDecoration:"none !important",children:(0,d.jsx)(c.zx,{width:"100%",height:14,variant:"cta",leftIcon:(0,d.jsx)(s.Mqf,{size:24}),children:"IdleDAO Server"})}),(0,d.jsx)(l.rU,{href:"https://gov.idle.finance/",isExternal:!0,textDecoration:"none !important",children:(0,d.jsx)(c.zx,{width:"100%",height:14,variant:"cta",leftIcon:(0,d.jsx)(r.Upc,{size:24}),children:"Governance Forum"})})]})]})})}},80745:function(t,e,n){"use strict";n.r(e),n.d(e,{Scrollable:function(){return l}});var a=n(1413),r=n(45987),i=(n(7276),n(3498)),s=n(45263),o=["children"],l=function(t){var e=t.children,n=(0,r.Z)(t,o);return(0,s.jsx)(i.kC,(0,a.Z)((0,a.Z)({flex:1,width:"100%",overflowY:"auto",overflowX:"hidden",direction:"column",alignItems:"flex-start"},n),{},{children:e}))}},35130:function(t,e,n){"use strict";n.r(e),n.d(e,{StrategiesFilters:function(){return f}});var a=n(7276),r=n(3498),i=n(43127),s=n(12056),o=n(66288),l=n(60110),c=n(88935),d=n(1669);var u=n(45263),f=function(t){var e=t.checkUserFunds,n=void 0!==e&&e,f=t.showOnMobile,x=void 0===f||f,h=t.toggleStrategy,m=t.availableStrategies,p=t.selectedStrategies,g=function(){var t=(0,c.Y)().account,e=(0,d.w)(),n=e.isVaultsPositionsLoaded,r=e.vaultsPositions;return!!(0,a.useMemo)((function(){return t&&n&&Object.keys(r).length>0}),[t,n,r])}(),v=(0,o.X)().isMobile;return n&&!g||!x&&v?null:(0,u.jsx)(r.Ug,{spacing:3,children:(m||Object.keys(s.A)).filter((function(t){return s.A[t].visible})).map((function(t){return(0,u.jsx)(i.zx,{minW:"180px",variant:"filter",onClick:function(){return h(t)},"aria-selected":null===p||void 0===p?void 0:p.includes(t),children:(0,u.jsx)(l.StrategyLabel,{color:"primary",strategy:t})},"strategy_".concat(t))}))})}},60110:function(t,e,n){"use strict";n.r(e),n.d(e,{StrategyLabel:function(){return d}});var a=n(1413),r=n(45987),i=(n(7276),n(12056)),s=n(15542),o=n(3498),l=n(45263),c=["strategy","customText","showLabel"],d=function(t){var e=t.strategy,n=t.customText,d=t.showLabel,u=void 0===d||d,f=(0,r.Z)(t,c);if(!e)return null;var x=i.A[e];return x?(0,l.jsxs)(o.Ug,{spacing:2,alignItems:"center",children:[u&&(0,l.jsx)(s.Translation,(0,a.Z)({component:o.xv,translation:n||(null===x||void 0===x?void 0:x.label),textStyle:"ctaStatic"},f)),(0,l.jsx)(o.xu,{width:2,height:2,borderRadius:"50%",bg:x.color})]}):null}},61925:function(t,e,n){"use strict";n.r(e),n.d(e,{TimeframeSelector:function(){return d}});var a=n(1413),r=n(45987),i=(n(7276),n(98440)),s=n(3498),o=n(43127),l=n(45263),c=["timeframe","setTimeframe","variant"],d=function(t){var e=t.timeframe,n=t.setTimeframe,d=t.variant,u=void 0===d?"text":d,f=(0,r.Z)(t,c);return(0,l.jsx)(s.Ug,(0,a.Z)((0,a.Z)({spacing:"button"===u?4:[6,10]},f),{},{children:Object.values(i.W).map((function(t){var a=t===e;switch(u){default:case"text":return(0,l.jsx)(s.xv,{textStyle:"cta",color:"ctaDisabled","aria-selected":a,onClick:function(){return n(t)},children:t.toUpperCase()},"timeframe_".concat(t));case"button":return(0,l.jsx)(o.zx,{px:6,border:0,variant:"filter","aria-selected":a,onClick:function(){return n(t)},children:t.toUpperCase()},"timeframe_".concat(t))}}))}))}},72258:function(t,e,n){"use strict";n.r(e),n.d(e,{TransactionButton:function(){return y},TransactionButtonValue:function(){return v}});var a=n(1413),r=n(29439),i=n(45987),s=(n(81608),n(55967)),o=n(53293),l=n(7276),c=n(15542),d=n(23023),u=n(96699),f=n(52486),x=n(3498),h=n(43127),m=n(45263),p=["text","contractSendMethod"],g=["text","amount","assetId","vaultId","actionType","contractSendMethod"],v=function(t){var e,n=t.text,o=t.contractSendMethod,h=(0,i.Z)(t,p),g=(0,u.Fg)(),v=(0,l.useRef)(null),y=(0,l.useState)(null),j=(0,r.Z)(y,2),b=j[0],w=j[1],C=(0,d.R)(),S=C.state.transaction,I=C.cleanTransaction,A=(0,l.useMemo)((function(){var t;return JSON.stringify(null===S||void 0===S||null===(t=S.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(o._method)}),[S,o]),Z=(0,l.useMemo)((function(){return A&&S.status&&["pending","success","failed"].includes(S.status)&&S.estimatedTime}),[S,A]),k=(0,l.useMemo)((function(){return Z&&"pending"===S.status?S.estimatedTime:.5}),[Z,S]),T=(0,l.useCallback)((function(){if(!S.timestamp||!S.estimatedTime)return null;var t=+S.timestamp+1e3*S.estimatedTime,e=Math.max(0,Math.ceil((t-Date.now())/1e3));w(e),e&&(v.current=setTimeout((function(){T()}),1e3))}),[S]);(0,l.useEffect)((function(){var t;A&&("success"===S.status||"failed"===S.status?(v.current&&(clearInterval(v.current),v.current=null),"success"!==S.status&&4001===(null===(t=S.error)||void 0===t?void 0:t.code)||setTimeout((function(){I()}),4e3)):"pending"!==S.status||v.current||T())}),[A,S.status,T,I,null===(e=S.error)||void 0===e?void 0:e.code]);var M=(0,l.useMemo)((function(){var t;if(A)switch(null===S||void 0===S?void 0:S.status){case"created":return(0,m.jsx)(f.$,{size:"sm"});case"pending":return S.timestamp&&S.estimatedTime&&b?(0,m.jsxs)(x.xv,{textStyle:"ctaStatic",children:[b,"s"]}):(0,m.jsx)(f.$,{size:"sm"});case"success":return(0,m.jsx)(x.kC,(0,a.Z)((0,a.Z)({},h),{},{alignItems:"center",justifyContent:"center",children:(0,m.jsx)(s.ddU,{size:24,color:g.colors.green[400]})}));case"failed":if(4001!==(null===(t=S.error)||void 0===t?void 0:t.code))return(0,m.jsx)(x.kC,(0,a.Z)((0,a.Z)({},h),{},{alignItems:"center",justifyContent:"center",children:(0,m.jsx)(s.lTq,{size:24,color:g.colors.red[400]})}))}return(0,m.jsx)(c.Translation,{translation:n,textStyle:"ctaStatic"})}),[A,b,S,n,g,h]),O=(0,l.useMemo)((function(){switch(S.status){case"success":case"failed":return"transparent";default:return"primary"}}),[S]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x.kC,{top:0,left:0,bottom:0,bg:O,overflow:"hidden",position:"absolute",alignItems:"center",justifyContent:"center",transition:"background 0.5s ease-in-out",sx:{animationIterationCount:1,animationFillMode:"forwards",animationTimingFunction:"ease-in-out",animationDuration:"".concat(k,"s"),animationName:Z?"progress":"none",animationPlayState:Z?"running":"stopped"},children:(0,m.jsx)(x.kC,{left:0,width:h.width,alignItems:"center",position:"absolute",justifyContent:"center",sx:{"> *":{color:"black !important",borderColor:"black !important"}},children:M})}),M]})},y=function(t){var e=t.text,n=t.amount,s=t.assetId,c=t.vaultId,u=t.actionType,f=t.contractSendMethod,x=(0,i.Z)(t,g),p=(0,o.Z)(),y=(0,r.Z)(p,2),j=y[0],b=y[1].width,w=(0,d.R)(),C=w.sendTransaction,S=w.state.transaction,I=(0,l.useMemo)((function(){var t;return JSON.stringify(null===S||void 0===S||null===(t=S.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(f._method)}),[S,f]),A=(0,l.useCallback)((function(){if("created"!==S.status&&"pending"!==S.status)return C(c,s,f,u,n)}),[S,c,s,f,u,n,C]),Z=(0,l.useMemo)((function(){var t;if(!I)return"primary";switch(S.status){case"success":return"green.400";case"failed":return 4001!==(null===(t=S.error)||void 0===t?void 0:t.code)?"red.400":"primary";default:return"primary"}}),[I,S]);return(0,m.jsx)(h.zx,(0,a.Z)((0,a.Z)({py:2,px:10,overflow:"hidden",position:"relative",width:b||"auto",borderColor:Z,onClick:function(){return A()},ref:j,variant:"ctaPrimaryOutline",transition:"border 0.5s ease-in-out"},x),{},{children:(0,m.jsx)(v,{text:e,contractSendMethod:f,width:b})}))}},48024:function(t,e,n){"use strict";n.r(e),n.d(e,{TransactionItem:function(){return d}});var a=n(99594),r=n(87099),i=n(3498),s=n(97778),o=n(15542),l=n(10658),c=n(45263),d=function(t){var e=t.transaction;return(0,c.jsxs)(i.gC,{mb:2,pb:4,spacing:4,width:"100%",alignItems:"flex-start",borderBottomWidth:"1px",borderBottomColor:"divider",children:[(0,c.jsxs)(i.Ug,{width:"100%",justifyContent:"space-between",children:[(0,c.jsx)(i.Ug,{spacing:3,direction:"row",alignItems:"center",children:(0,c.jsx)(o.Translation,{component:i.xv,translation:"transactionRow.".concat(e.action),textStyle:"captionSmall"})}),(0,c.jsx)(i.xv,{textStyle:"captionSmall",children:(0,a.p6)(1e3*+e.timeStamp,r.Cu)})]}),(0,c.jsxs)(i.Ug,{width:"100%",justifyContent:"space-between",children:[(0,c.jsx)(s.TokenAmount,{assetId:e.assetId,amount:e.underlyingAmount,size:"xs",textStyle:"tableCell"}),(0,c.jsx)(l.TransactionLink,{hash:e.hash})]})]})}},18147:function(t,e,n){"use strict";n.r(e),n.d(e,{TransactionList:function(){return j}});var a=n(1413),r=n(93433),i=n(29439),s=n(45987),o=n(99594),l=n(7276),c=n(54447),d=n(88935),u=n(80745),f=n(3498),x=n(89030),h=n(15542),m=n(1669),p=n(53293),g=n(48024),v=n(45263),y=["assetIds","showTitleOnMobile","fullHeightOnMobile"],j=function(t){var e=t.assetIds,n=t.showTitleOnMobile,j=void 0!==n&&n,b=t.fullHeightOnMobile,w=void 0!==b&&b,C=(0,s.Z)(t,y),S=(0,d.Y)().account,I=(0,p.Z)(),A=(0,i.Z)(I,2),Z=A[0],k=A[1],T=(0,m.w)(),M=T.isPortfolioLoaded,O=T.isVaultsPositionsLoaded,P=T.selectors,z=P.selectVaultTransactions,D=P.selectVaultGauge,E=(0,l.useMemo)((function(){return S&&e&&z&&D?e.reduce((function(t,e){var n=D(e),a=z(e),i=n?z(n.id):[];return[].concat((0,r.Z)(t),(0,r.Z)(a),(0,r.Z)(i))}),[]):[]}),[S,e,z,D]),L=(0,l.useMemo)((function(){return M&&(!S||O)}),[M,S,O]),U=(0,l.useMemo)((function(){return L?E.length>0?(0,o.Pf)(E,"timeStamp","desc").map((function(t,e){return(0,v.jsx)(g.TransactionItem,{transaction:t},"tx_".concat(e))})):(0,v.jsx)(f.kC,{flex:1,minH:250,width:"100%",alignItems:"center",justifyContent:"center",children:(0,v.jsx)(h.Translation,{component:f.xv,translation:"assets.assetDetails.assetHistory.emptyTransactions"})}):(0,v.jsxs)(f.gC,{spacing:4,width:"100%",children:[(0,v.jsx)(x.Od,{width:"100%",height:10}),(0,v.jsx)(x.Od,{width:"100%",height:10}),(0,v.jsx)(x.Od,{width:"100%",height:10}),(0,v.jsx)(x.Od,{width:"100%",height:10})]})}),[L,E]);return(0,v.jsx)(c.Card,(0,a.Z)((0,a.Z)({flex:1},C),{},{children:(0,v.jsxs)(f.gC,{flex:1,spacing:0,height:"100%",alignItems:"flex-start",ref:Z,justifyContent:"flex-start",children:[(0,v.jsx)(h.Translation,{display:j?"block":["none","block"],component:c.Card.Heading,translation:"assets.assetDetails.assetHistory.transactionHistory"}),(0,v.jsx)(u.Scrollable,{maxH:[w?"100%":280,Math.max((null===k||void 0===k?void 0:k.height)||400)],children:U})]})}))}},75349:function(t,e,n){"use strict";n.r(e),n.d(e,{VaultCard:function(){return p}});var a=n(1413),r=n(45987),i=n(7276),s=n(95173),o=n(54447),l=n(61617),c=n(15542),d=n(85267),u=n(1669),f=n(75712),x=n(3498),h=n(45263),m=["assetId","fields","onClick"],p=function(t){var e=t.assetId,n=(0,s.s0)(),a=(0,d.m)().location,r=(0,u.w)().selectors.selectAssetById,m=(0,i.useMemo)((function(){if(r)return r(e)}),[e,r]),p=(0,i.useMemo)((function(){var t;return null!==m&&void 0!==m&&null!==(t=m.vaultPosition)&&void 0!==t&&t.usd.deposited?(0,h.jsxs)(x.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.deposited",textStyle:"captionSmall"}),(0,h.jsx)(f.AssetProvider.DepositedUsd,{textStyle:"tableCell"})]}):"BY"===(null===m||void 0===m?void 0:m.type)?(0,h.jsxs)(x.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.protocols",textStyle:"captionSmall"}),(0,h.jsx)(f.AssetProvider.Protocols,{iconMargin:-1,size:"xs"})]}):(0,h.jsxs)(x.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.rewards",textStyle:"captionSmall"}),(0,h.jsx)(f.AssetProvider.Rewards,{iconMargin:-1,size:"xs"})]})}),[m]);return(0,h.jsx)(f.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,h.jsx)(o.Card,{p:4,onClick:function(){return n("".concat(null===a||void 0===a?void 0:a.pathname,"/").concat(e))},children:(0,h.jsxs)(x.gC,{spacing:3,alignItems:"flex-start",children:[(0,h.jsx)(l.AssetLabel,{assetId:e,size:"sm"}),(0,h.jsxs)(x.MI,{pt:3,pl:4,columns:3,width:"100%",borderTop:"1px solid",borderTopColor:"divider",children:[(0,h.jsxs)(x.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.pool",textStyle:"captionSmall"}),(0,h.jsx)(f.AssetProvider.PoolUsd,{textStyle:"tableCell"})]}),(0,h.jsxs)(x.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.apy",textStyle:"captionSmall"}),(0,h.jsx)(f.AssetProvider.Apy,{textStyle:"tableCell"})]}),p]})]})})})};p.Inline=function(t){var e=t.assetId,n=t.fields,s=t.onClick,l=(0,r.Z)(t,m);return(0,h.jsx)(f.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,h.jsx)(o.Card,(0,a.Z)((0,a.Z)({py:2,px:[4,6],layerStyle:["card","cardHover"],onClick:s},l),{},{children:(0,h.jsx)(x.Ug,{width:"100%",justifyContent:"space-between",children:(0,h.jsxs)(x.Ug,{spacing:3,width:"100%",alignItems:"center",children:[(0,h.jsx)(f.AssetProvider.Icon,{size:"xs"}),n.map((function(t,e){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(x.xu,{width:1,height:1,bg:"divider",borderRadius:"50%"}),(0,h.jsxs)(x.Ug,{spacing:2,children:[(0,h.jsx)(c.Translation,{translation:t.label,component:x.xv,textStyle:"captionSmall"}),(0,h.jsx)(f.AssetProvider.GeneralData,(0,a.Z)({field:t.field,textStyle:"tableCell"},t.props))]})]},"field_".concat(e))}))]})})}))})}},30071:function(t,e,n){"use strict";n.r(e),n.d(e,{VaultRewardOverview:function(){return d}});n(7276);var a=n(54447),r=n(86059),i=n(61617),s=n(15542),o=n(3498),l=n(75712),c=n(45263),d=function(t){var e=t.assetId,n=t.assets,d=t.amount;return(0,c.jsx)(l.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,c.jsx)(a.Card,{p:6,children:(0,c.jsxs)(o.gC,{spacing:5,alignItems:"flex-start",children:[(0,c.jsx)(i.AssetLabel,{assetId:e}),(0,c.jsxs)(o.Ug,{width:"100%",justifyContent:"space-between",children:[(0,c.jsxs)(o.gC,{spacing:1,alignItems:"flex-start",children:[(0,c.jsx)(s.Translation,{component:o.xv,translation:"defi.vaults",textStyle:"captionSmall"}),(0,c.jsx)(o.Ug,{spacing:0,children:n.map((function(t,e){return(0,c.jsx)(l.AssetProvider,{assetId:t,children:(0,c.jsx)(l.AssetProvider.Icon,{size:"xs",ml:e?-1:0,showTooltip:!0})},"asset_".concat(t))}))})]}),(0,c.jsxs)(o.gC,{spacing:1,alignItems:"flex-start",children:[(0,c.jsx)(s.Translation,{component:o.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,c.jsxs)(o.Ug,{spacing:1,children:[(0,c.jsx)(r.Amount,{value:d,decimals:8,textStyle:"tableCell"}),(0,c.jsx)(l.AssetProvider.Name,{textStyle:"tableCell"})]})]})]})]})})})}},39538:function(t,e,n){"use strict";n.r(e),n.d(e,{VaultsCarousel:function(){return f}});n(37413),n(7276);var a=n(10604),r=n(3498),i=n(95173),s=n(12056),o=n(99594),l=n(66288),c=n(75349),d=n(1669),u=n(45263),f=function(){var t=(0,i.s0)(),e=(0,l.X)().isMobile,n=(0,d.w)(),f=n.vaults;return n.isPortfolioLoaded?(0,u.jsx)(r.Ug,{left:0,zIndex:1,spacing:2,width:"100%",overflow:"hidden",position:"absolute",top:["90px","110px"],children:(0,u.jsx)(a.Z,{gradient:!1,pauseOnHover:!0,speed:e?40:50,children:(0,u.jsx)(r.Ug,{ml:2,spacing:2,children:f.map((function(e){var n=s.A[e.type];if(!n||!n.route)return null;var a=(0,o.qC)("earn",[n.route]);return(0,u.jsx)(c.VaultCard.Inline,{onClick:function(){return t("".concat(a,"/").concat(e.id))},assetId:"".concat(e.id),fields:[{label:"defi.tvl",field:"tvl"},{label:"defi.apy",field:"apy",props:{color:n.color}}]},"vault_".concat(e.id))}))})})}):null}},15034:function(t,e,n){"use strict";n.d(e,{k:function(){return u}});var a=n(1413),r=n(29439),i=n(66549),s=n.n(i),o=n(5128),l=n(7276),c=n(1669),d=n(99594),u=function(t){var e=t.assetIds,n=t.strategies,i=t.timeframe,u=t.useDollarConversion,f=void 0===u||u,x=(0,c.w)(),h=x.isPortfolioLoaded,m=x.historicalPrices,p=x.historicalPricesUsd,g=x.selectors,v=g.selectAssetsByIds,y=g.selectVaultTransactions,j=g.selectAssetHistoricalPriceByTimestamp,b=g.selectAssetHistoricalPriceUsdByTimestamp,w=(0,l.useState)(!0),C=(0,r.Z)(w,2),S=C[0],I=C[1],A=(0,l.useMemo)((function(){return v?v(e).filter((function(t){return!n||!t.type||n.includes(t.type)})):[]}),[e,n,v]),Z=(0,l.useMemo)((function(){return i?(0,d.pM)(i):0}),[i]),k=(0,l.useMemo)((function(){var t={total:[],rainbow:[]};if(!h||(0,d.xb)(m)||(0,d.xb)(p))return t;var e=A.reduce((function(t,e){if(null===e||void 0===e||!e.id)return t;var n=e.id,a=y(n);if(!a.length)return t;var r=a.reduce((function(t,e){var n=+s()(1e3*+e.timeStamp).startOf("day").valueOf();switch(e.action){case"deposit":t.total=t.total.plus(e.idleAmount);break;case"redeem":t.total=o.Z.maximum(0,t.total.minus(e.idleAmount))}return t.byDate[n]=t.total,t}),{total:(0,d.gA)(0),byDate:{}});return Object.keys(r.byDate).forEach((function(n){t[n]||(t[n]={}),e.id&&(t[n][e.id]=parseFloat(r.byDate[n].toFixed(8)))})),t}),{});if((0,d.xb)(e))return t;for(var n=+Object.keys(e).sort()[0],r=+s()().endOf("day").valueOf(),i=(0,d.Up)(n,r),l={},c=0,u=null;c<i.length;c++){var x=i[c];l[x]=(0,a.Z)((0,a.Z)({},u?l[u]:{}),e[x]),u=x}var g={},v={};return Object.keys(l).forEach((function(t){var e=l[t];Object.keys(e).forEach((function(n){var a=A.find((function(t){return t.id===n})),r=null===a||void 0===a?void 0:a.underlyingId,i=j(n,t)||g[n];if(i&&(e[n]=parseFloat((0,d.gA)(e[n]).times((0,d.gA)(i.value)).toFixed(8)),g[n]=i),f){var s=b(r,t)||v[n];s&&(e[n]=parseFloat((0,d.gA)(e[n]).times((0,d.gA)(s.value)).toFixed(8)),v[n]=s)}})),e.total=Object.values(e).reduce((function(t,e){return t+e}),0)})),t.total=Object.keys(l).reduce((function(t,e){return e<Z||t.push({date:parseInt(e),value:l[e].total}),t}),[]),t.rainbow=Object.keys(l).reduce((function(t,e){return e<Z||t.push((0,a.Z)({date:parseInt(e),total:l[e].total},l[e])),t}),[]),t}),[A,f,Z,y,h,m,p,j,b]);return(0,l.useEffect)((function(){if(k.rainbow.length)return I(!1),function(){I(!0)}}),[k]),{assets:A,balanceChartData:k,balanceChartDataLoading:S}}},53293:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var a=n(74165),r=n(15861),i=n(29439),s=n(7276),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=null;return function(){n&&clearTimeout(n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];n=setTimeout(e,t,r)}},l={x:0,y:0,top:0,left:0,width:0,height:0,right:0,bottom:0};function c(t){var e=t.getBoundingClientRect();return{x:e.x,y:e.y,top:e.top,left:e.left,width:e.width,height:e.height,right:e.right,bottom:e.bottom}}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=(0,s.useState)(null),n=(0,i.Z)(e,2),d=n[0],u=n[1],f=(0,s.useState)(l),x=(0,i.Z)(f,2),h=x[0],m=x[1],p=(0,s.useCallback)((function(t){u(t)}),[]);return(0,s.useLayoutEffect)((function(){if("undefined"!==typeof window&&d){var e=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.requestAnimationFrame((function(){m(c(d))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e();var n=o(t||100,e);return window.addEventListener("resize",n),window.addEventListener("scroll",n),function(){window.removeEventListener("resize",n),window.removeEventListener("scroll",n)}}}),[d,t]),[p,h,d]}},1494:function(t,e,n){"use strict";n.d(e,{O:function(){return u}});var a=n(93433),r=n(4942),i=n(1413),s=n(7276),o=n(99594),l=n(79681),c=n(12056),d=n(1669),u=function(t){var e=t.assetIds,n=t.strategies,u=(0,l.qM)(),f=(0,d.w)().selectors,x=f.selectAssetById,h=f.selectAssetsByIds,m=(0,s.useMemo)((function(){return h?h(e):[]}),[e,h]),p=Object.keys(c.A).reduce((function(t,e){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},e,{balance:(0,o.gA)(0),weightedRealizedApy:(0,o.gA)(0)}))}),{}),g=(0,s.useMemo)((function(){return m.filter((function(t){return t.type&&(!n||n.includes(t.type))})).reduce((function(t,e){var n;return e.type&&e.vaultPosition&&!(0,o.gA)(null===(n=e.vaultPosition)||void 0===n?void 0:n.realizedApy).isNaN()?(t[e.type].balance=t[e.type].balance.plus(e.vaultPosition.usd.redeemable),t[e.type].weightedRealizedApy=t[e.type].weightedRealizedApy.plus(e.vaultPosition.realizedApy.times(e.vaultPosition.usd.redeemable)),t):t}),p)}),[m,n,p]),v=(0,s.useMemo)((function(){return m.filter((function(t){return t.type&&(!n||n.includes(t.type))})).reduce((function(t,e){if(!e.underlyingId||!e.vaultPosition)return t;var n=x(e.underlyingId);return n?(t[n.id]||(t[n.id]=(0,o.gA)(0)),t[n.id]=t[n.id].plus(e.vaultPosition.usd.redeemable),t):t}),{})}),[m,n,x]),y={assets:[],strategies:[]};y.strategies=(0,s.useMemo)((function(){return Object.keys(g).map((function(t){return{label:u(c.A[t].label),extraData:{avgRealizedApy:g[t].balance.gt(0)?parseFloat(g[t].weightedRealizedApy.div(g[t].balance)):0,strategy:c.A[t]},value:parseFloat(g[t].balance)}}))}),[g,u]),y.assets=(0,s.useMemo)((function(){return Object.keys(v).reduce((function(t,e){var r=x(e);return!r||r.type&&(!n||n.includes(r.type))?t:[].concat((0,a.Z)(t),[{label:r.name,extraData:{asset:r},value:parseFloat(v[e])}])}),[])}),[v,x,n]);var j={assets:{},strategies:{}};return j.strategies=(0,s.useMemo)((function(){return Object.values(c.A).reduce((function(t,e){var n=u(e.label);return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},n,e.color))}),{})}),[u]),j.assets=(0,s.useMemo)((function(){return Object.keys(v).reduce((function(t,e){var n=x(e);if(!n)return t;var a=n.name;return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},a,n.color))}),{})}),[v,x]),{colors:j,compositions:y}}},82137:function(t,e,n){"use strict";n.d(e,{Jf:function(){return w},kN:function(){return v},uY:function(){return b}});var a=n(45987),r=n(1413),i=n(29439),s=n(7276),o=n(32390),l=n(96699),c=n(2548),d=n(11486),u=["className","children"],f=["type","aria-label"],x=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")},h=(0,c.k)({name:"StatStylesContext",errorMessage:"useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Stat />\" "}),m=(0,i.Z)(h,2),p=m[0],g=m[1],v=(0,l.Gp)((function(t,e){var n=(0,l.jC)("Stat",t),i=(0,r.Z)({position:"relative",flex:"1 1 0%"},n.container),o=(0,d.Lr)(t),c=o.className,f=o.children,h=(0,a.Z)(o,u);return s.createElement(p,{value:n},s.createElement(l.m$.div,(0,r.Z)((0,r.Z)({ref:e},h),{},{className:x("chakra-stat",c),__css:i}),s.createElement("dl",null,f)))}));v.displayName="Stat";var y=function(t){return s.createElement(o.JO,(0,r.Z)({color:"red.400"},t),s.createElement("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"}))};function j(t){return s.createElement(o.JO,(0,r.Z)({color:"green.400"},t),s.createElement("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"}))}function b(t){var e=t.type,n=t["aria-label"],i=(0,a.Z)(t,f),o=g(),c="increase"===e?j:y,d=n||("increase"===e?"increased by":"decreased by");return s.createElement(s.Fragment,null,s.createElement(l.m$.span,{srOnly:!0},d),s.createElement(c,(0,r.Z)((0,r.Z)({"aria-hidden":!0},i),{},{__css:o.icon})))}y.displayName="StatDownArrow",j.displayName="StatUpArrow",b.displayName="StatArrow",(0,l.Gp)((function(t,e){return s.createElement(l.m$.div,(0,r.Z)((0,r.Z)({},t),{},{ref:e,role:"group",className:x("chakra-stat__group",t.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))})).displayName="StatGroup",(0,l.Gp)((function(t,e){var n=g();return s.createElement(l.m$.dd,(0,r.Z)((0,r.Z)({ref:e},t),{},{className:x("chakra-stat__help-text",t.className),__css:n.helpText}))})).displayName="StatHelpText",(0,l.Gp)((function(t,e){var n=g();return s.createElement(l.m$.dt,(0,r.Z)((0,r.Z)({ref:e},t),{},{className:x("chakra-stat__label",t.className),__css:n.label}))})).displayName="StatLabel";var w=(0,l.Gp)((function(t,e){var n=g();return s.createElement(l.m$.dd,(0,r.Z)((0,r.Z)({ref:e},t),{},{className:x("chakra-stat__number",t.className),__css:(0,r.Z)((0,r.Z)({},n.number),{},{fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"})}))}));w.displayName="StatNumber"},10604:function(t,e,n){var a=n(7276);function r(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var i=r(a),s=function(){return s=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};!function(t){if(t&&"undefined"!==typeof window){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e)}}('.marquee-container {\n  overflow-x: hidden !important;\n  display: flex !important;\n  flex-direction: row !important;\n  position: relative;\n  width: 100%;\n}\n.marquee-container:hover div {\n  animation-play-state: var(--pause-on-hover);\n}\n.marquee-container:active div {\n  animation-play-state: var(--pause-on-click);\n}\n\n.overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.overlay::before, .overlay::after {\n  background: linear-gradient(to right, var(--gradient-color));\n  content: "";\n  height: 100%;\n  position: absolute;\n  width: var(--gradient-width);\n  z-index: 2;\n}\n.overlay::after {\n  right: 0;\n  top: 0;\n  transform: rotateZ(180deg);\n}\n.overlay::before {\n  left: 0;\n  top: 0;\n}\n\n.marquee {\n  flex: 0 0 auto;\n  min-width: 100%;\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);\n  animation-play-state: var(--play);\n  animation-delay: var(--delay);\n  animation-direction: var(--direction);\n}\n@keyframes scroll {\n  0% {\n    transform: translateX(0%);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}');e.Z=function(t){var e,n,r,o,l=t.style,c=void 0===l?{}:l,d=t.className,u=void 0===d?"":d,f=t.play,x=void 0===f||f,h=t.pauseOnHover,m=void 0!==h&&h,p=t.pauseOnClick,g=void 0!==p&&p,v=t.direction,y=void 0===v?"left":v,j=t.speed,b=void 0===j?20:j,w=t.delay,C=void 0===w?0:w,S=t.loop,I=void 0===S?0:S,A=t.gradient,Z=void 0===A||A,k=t.gradientColor,T=void 0===k?[255,255,255]:k,M=t.gradientWidth,O=void 0===M?200:M,P=t.onFinish,z=t.onCycleComplete,D=t.children,E=a.useState(0),L=E[0],U=E[1],N=a.useState(0),_=N[0],F=N[1],R=a.useState(!1),B=R[0],q=R[1],H=a.useRef(null),V=a.useRef(null);a.useEffect((function(){if(B){var t=function(){V.current&&H.current&&(U(H.current.getBoundingClientRect().width),F(V.current.getBoundingClientRect().width))};return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}}),[B]),a.useEffect((function(){q(!0)}),[]);var K="rgba("+T[0]+", "+T[1]+", "+T[2],W=_<L?L/b:_/b;return i.default.createElement(a.Fragment,null,B?i.default.createElement("div",{ref:H,style:s(s({},c),(e={},e["--pause-on-hover"]=!x||m?"paused":"running",e["--pause-on-click"]=!x||m&&!g||g?"paused":"running",e)),className:u+" marquee-container"},Z&&i.default.createElement("div",{style:(n={},n["--gradient-color"]=K+", 1), "+K+", 0)",n["--gradient-width"]="number"===typeof O?O+"px":O,n),className:"overlay"}),i.default.createElement("div",{ref:V,style:(r={},r["--play"]=x?"running":"paused",r["--direction"]="left"===y?"normal":"reverse",r["--duration"]=W+"s",r["--delay"]=C+"s",r["--iteration-count"]=I?""+I:"infinite",r),className:"marquee",onAnimationIteration:z,onAnimationEnd:P},D),i.default.createElement("div",{style:(o={},o["--play"]=x?"running":"paused",o["--direction"]="left"===y?"normal":"reverse",o["--duration"]=W+"s",o["--delay"]=C+"s",o["--iteration-count"]=I?""+I:"infinite",o),className:"marquee","aria-hidden":"true"},D)):null)}},81608:function(t,e,n){"use strict";n.r(e),e.default={}},37413:function(t,e,n){"use strict";n.r(e),e.default={}}}]);