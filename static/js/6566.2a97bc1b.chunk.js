"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[6566,9177,1617,6634,6064,1925],{39177:function(e,t,n){n.r(t),n.d(t,{AddressLink:function(){return d}});var a=n(1413),i=n(44925),s=n(7276),r=n(3498),o=n(99594),l=n(88935),c=n(45263),u=["address","text"],d=function(e){var t=e.address,n=e.text,d=(0,i.Z)(e,u),f=(0,l.Y)(),x=f.chainId,m=f.explorer,v=(0,s.useMemo)((function(){return(0,o.SV)(x,m,t)}),[x,m,t]);return(0,c.jsx)(r.rU,(0,a.Z)((0,a.Z)({href:v,textStyle:"tableCell",color:"link",isExternal:!0},d),{},{children:n||(0,o.pc)(t)}))}},3148:function(e,t,n){n.r(t),n.d(t,{AssetGeneralData:function(){return j},AssetGeneralDataField:function(){return h}});var a=n(1413),i=n(7276),s=n(55967),r=n(54447),o=n(79681),l=n(15542),c=n(1669),u=n(12056),d=n(75712),f=n(6940),x=n(96699),m=n(3498),v=n(70820),g=n(45263),p=function(e){var t=e.generalData,n=(0,x.Fg)(),a=(0,o.qM)();return t.tooltip?(0,g.jsxs)(m.Ug,{spacing:1,alignItems:"center",children:[(0,g.jsx)(l.Translation,{component:m.xv,translation:t.label,textStyle:"captionSmall"}),(0,g.jsx)(v.u,{hasArrow:!0,placement:"top",label:a(t.tooltip),children:(0,g.jsx)(f.TooltipContent,{children:(0,g.jsx)(s.I5p,{color:n.colors.cta,size:16})})})]}):(0,g.jsx)(l.Translation,{component:m.xv,translation:t.label,textStyle:"captionSmall"})},h=function(e){var t=e.generalData;return(0,g.jsxs)(m.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsxs)(m.Ug,{width:"100%",alignItems:"center",justifyContent:"space-between",children:[(0,g.jsx)(p,{generalData:t}),t.inlineField&&(0,g.jsx)(d.AssetProvider.GeneralData,{section:"asset",field:t.inlineField})]}),(0,g.jsx)(d.AssetProvider.GeneralData,(0,a.Z)({section:"asset",field:t.field},t.props))]})},j=function(e){var t=e.assetId,n=(0,c.w)().selectors.selectAssetById,a=(0,i.useMemo)((function(){return n&&n(t)}),[n,t]),s=(0,i.useMemo)((function(){return(null===a||void 0===a?void 0:a.type)&&u.A[a.type]}),[a]);return(0,g.jsx)(d.AssetProvider,{wrapFlex:!1,assetId:t,children:(0,g.jsxs)(r.Card.Dark,{children:[(0,g.jsx)(m.MI,{spacing:[6,0],columns:[2,Math.min(null===s||void 0===s?void 0:s.generalDataFields.length,5)],children:(null===s||void 0===s?void 0:s.generalDataFields)&&(null===s||void 0===s?void 0:s.generalDataFields.slice(0,5).map((function(e){return(0,g.jsx)(h,{generalData:e},"field_".concat(e.field))})))}),(null===s||void 0===s?void 0:s.generalDataFields)&&(null===s||void 0===s?void 0:s.generalDataFields.length)>5&&(0,g.jsx)(m.MI,{pt:6,mt:6,spacing:[6,0],columns:[2,Math.min(null===s||void 0===s?void 0:s.generalDataFields.length,5)],borderTop:"1px solid",borderTopColor:"divider",children:null===s||void 0===s?void 0:s.generalDataFields.slice(5).map((function(e){return(0,g.jsx)(h,{generalData:e},"field_".concat(e.field))}))})]})})}},61617:function(e,t,n){n.r(t),n.d(t,{AssetLabel:function(){return c}});var a=n(1413),i=n(44925),s=n(3498),r=n(75712),o=n(45263),l=["assetId","size","spacing"],c=function(e){var t=e.assetId,n=e.size,c=void 0===n?"sm":n,u=e.spacing,d=(0,i.Z)(e,l);return(0,o.jsx)(r.AssetProvider,{wrapFlex:!1,assetId:t,children:(0,o.jsxs)(s.Ug,{spacing:u,alignItems:"center",justifyContent:"flex-start",children:[(0,o.jsx)(r.AssetProvider.Icon,{size:c}),(0,o.jsx)(r.AssetProvider.Name,(0,a.Z)({textStyle:"heading",fontSize:["15px","h3"],whiteSpace:"nowrap"},d))]})})}},76566:function(e,t,n){n.r(t),n.d(t,{Earn:function(){return D}});var a=n(29439),i=n(95636),s=n(54447),r=n(79681),o=n(69802),l=n(7276),c=n(86059),u=n(66288),d=n(94758),f=n(99594),x=n(88935),m=n(98440),v=n(15542),g=n(85267),p=n(1669),h=n(10401),j=n(6634),y=n(75712),C=n(3148),b=n(61925),S=n(15034),I=n(68414),w=n(67972),A=n(3498),M=n(89030),k=n(65984),T=n(30422),P=n(45263),D=function(){var e=(0,r.qM)(),t=(0,g.m)().params,n=(0,x.Y)().account,D=(0,u.X)().isMobile,Z=(0,l.useState)(m.W.MONTH),F=(0,a.Z)(Z,2),U=F[0],z=F[1],O=(0,o.Z)("useDollarConversion",!0),B=(0,a.Z)(O,2),L=B[0],N=B[1],E=(0,p.w)(),_=E.isPortfolioLoaded,R=E.isVaultsPositionsLoaded,V=E.selectors,G=V.selectAssetById,H=V.selectVaultById,q=V.selectAssetBalanceUsd,W=(0,l.useMemo)((function(){return Object.keys(i.A2).find((function(e){return i.A2[e].route===t.strategy}))}),[t]),J=(0,l.useMemo)((function(){return W&&i.A2[W].color}),[W]),K=(0,l.useMemo)((function(){return G&&G(t.asset)}),[G,t.asset]),X=(0,l.useMemo)((function(){return K&&H&&H(K.id)}),[H,K]),Y=(0,l.useMemo)((function(){if(null!==K&&void 0!==K&&K.id)return q&&q(K.id)}),[K,q]),$=(0,l.useMemo)((function(){return(null===K||void 0===K?void 0:K.vaultPosition)&&Y&&Y.gt(0)}),[K,Y]),Q=(0,S.k)({assetIds:[null===K||void 0===K?void 0:K.id],timeframe:U,useDollarConversion:L}).balanceChartData,ee=(0,I.C)({assetIds:[null===K||void 0===K?void 0:K.id],timeframe:U}).performanceChartData,te=(0,l.useMemo)((function(){if(_)return $?Q:ee}),[_,$,Q,ee]),ne=(0,l.useMemo)((function(){var t,a,i,s,r,o,l=$?null===K||void 0===K||null===(t=K.vaultPosition)||void 0===t?void 0:t.earningsPercentage:(null===te||void 0===te||null===(a=te.total)||void 0===a?void 0:a.length)&&(0,f.gA)(te.total[te.total.length-1].value).div(te.total[0].value).minus(1).times(100),u=null!==te&&void 0!==te&&null!==(i=te.total)&&void 0!==i&&i.length?(0,f.gA)(te.total[te.total.length-1].date).minus(te.total[0].date).div(1e3).div(86400):(0,f.gA)(0),d=l&&u.gt(0)?l.times(365).div(u):(0,f.gA)(0),x=(null===te||void 0===te?void 0:te.total)&&te.total.length>0&&!!_&&(!n||R);return(0,P.jsx)(A.gC,{spacing:1,width:["100%","auto"],alignItems:["center","flex-start"],children:(0,P.jsxs)(M.N2,{noOfLines:2,isLoaded:x,children:[(0,P.jsx)(v.Translation,{translation:$?"dashboard.portfolio.totalChart":"dashboard.portfolio.assetPerformance",component:A.xv,textStyle:"caption",textAlign:["center","left"]}),(0,P.jsx)(A.Ug,{spacing:3,width:["100%","auto"],alignItems:"baseline",children:$?L?(0,P.jsx)(y.AssetProvider.BalanceUsd,{textStyle:"heading",textAlign:["center","left"],fontSize:"3xl"}):(0,P.jsx)(y.AssetProvider.Redeemable,{textStyle:"heading",textAlign:["center","left"],fontSize:"3xl",suffix:" ".concat(null===K||void 0===K?void 0:K.name)}):(0,P.jsxs)(A.Kq,{spacing:[0,2],alignItems:"baseline",direction:["column","row"],children:[(0,P.jsx)(c.Amount.Percentage,{value:d,suffix:" APY",textStyle:"heading",textAlign:["center","left"],fontSize:"3xl"}),(null===K||void 0===K||null===(s=K.apyBreakdown)||void 0===s?void 0:s.gauge)&&(0,f.gA)(null===K||void 0===K||null===(r=K.apyBreakdown)||void 0===r?void 0:r.gauge).gt(0)&&(0,P.jsx)(c.Amount.Percentage,{prefix:"+",value:null===K||void 0===K||null===(o=K.apyBreakdown)||void 0===o?void 0:o.gauge,suffix:" (".concat(e("assets.assetDetails.apyBreakdown.gauge"),")"),textStyle:"caption"})]})})]})})}),[K,$,e,te,L,n,R,_]),ae=(0,l.useMemo)((function(){return K&&$?(0,P.jsxs)(A.MI,{width:"100%",columns:[2,4],spacing:[10,14],alignItems:"flex-start",children:[(0,P.jsxs)(A.gC,{spacing:2,justifyContent:"center",children:[(0,P.jsx)(v.Translation,{component:A.xv,translation:"defi.deposited",textStyle:"titleSmall"}),(0,P.jsx)(y.AssetProvider.DepositedUsd,{textStyle:"heading",fontSize:"h3"}),(0,P.jsxs)(A.Ug,{spacing:1,children:[(0,P.jsx)(y.AssetProvider.Deposited,{decimals:4,textStyle:"captionSmaller"}),(0,P.jsx)(y.AssetProvider.Name,{textStyle:"captionSmaller"})]})]}),(0,P.jsxs)(A.gC,{spacing:2,justifyContent:"center",children:[(0,P.jsx)(v.Translation,{component:A.xv,translation:"defi.redeemable",textStyle:"titleSmall"}),(0,P.jsx)(y.AssetProvider.BalanceUsd,{textStyle:"heading",fontSize:"h3"}),(0,P.jsxs)(A.Ug,{spacing:1,children:[(0,P.jsx)(y.AssetProvider.Redeemable,{decimals:4,textStyle:"captionSmaller"}),(0,P.jsx)(y.AssetProvider.Name,{textStyle:"captionSmaller"})]})]}),(0,P.jsxs)(A.gC,{spacing:2,justifyContent:"center",children:[(0,P.jsx)(v.Translation,{component:A.xv,translation:"defi.netEarnings",textStyle:"titleSmall"}),(0,P.jsx)(y.AssetProvider.NetEarningsUsd,{textStyle:"heading",fontSize:"h3"}),(0,P.jsxs)(A.Ug,{spacing:1,children:[(0,P.jsx)(y.AssetProvider.NetEarnings,{decimals:4,textStyle:"captionSmaller"}),(0,P.jsx)(y.AssetProvider.Name,{textStyle:"captionSmaller"})]})]}),(0,P.jsxs)(A.gC,{spacing:2,justifyContent:"center",children:[(0,P.jsx)(v.Translation,{component:A.xv,translation:"defi.realizedApy",textStyle:"titleSmall"}),(0,P.jsx)(y.AssetProvider.RealizedApy,{textStyle:"heading",fontSize:"h3"}),(0,P.jsx)(A.xv,{textStyle:"captionSmaller"})]})]}):null}),[K,$]),ie=(0,l.useMemo)((function(){if(!W||!_)return null;var e=i.A2[W];return null!==e&&void 0!==e&&e.carouselItems?(0,P.jsx)(T.StrategyDescriptionCarousel,{color:J,strategy:W,delay:1e4}):null}),[W,J,_]),se=(0,l.useMemo)((function(){return X&&"description"in X&&X.description?(0,P.jsxs)(A.gC,{spacing:6,alignItems:"flex-start",children:[(0,P.jsx)(v.Translation,{component:A.X6,as:"h3",size:"md",translation:"defi.strategyDescription"}),(0,P.jsx)(s.Card.Dark,{children:(0,P.jsx)(A.xv,{dangerouslySetInnerHTML:{__html:X.description}})})]}):null}),[X]),re=(0,l.useMemo)((function(){return!K||(0,f.xb)(K.rewards)?null:Object.values(K.rewards).reduce((function(e,t){return e.plus(t)}),(0,f.gA)(0)).gt(0)?(0,P.jsx)(h.VaultRewards,{assetId:null===K||void 0===K?void 0:K.id}):null}),[K]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(A.xu,{children:[(0,P.jsxs)(A.Ug,{mb:6,spacing:6,alignItems:"center",children:[(0,P.jsx)(M.N2,{noOfLines:2,isLoaded:!!_,children:(0,P.jsx)(v.Translation,{component:A.X6,as:"h3",size:"md",translation:$?"defi.fundsOverview":"defi.historicalPerformance"})}),$&&(0,P.jsxs)(A.Ug,{spacing:2,children:[(0,P.jsx)(y.AssetProvider.Name,{fontWeight:600}),(0,P.jsx)(k.r,{size:"md",isChecked:L,onChange:function(e){return N(e.target.checked)}}),(0,P.jsx)(A.xv,{fontWeight:600,children:"USD"})]})]}),(0,P.jsxs)(s.Card.Flex,{p:0,overflow:"hidden",direction:"column",minH:["auto",460],layerStyle:"cardDark",justifyContent:"space-between",children:[(0,P.jsxs)(A.Kq,{pt:[6,8],px:[6,8],pb:[4,0],width:"100%",alignItems:"flex-start",direction:["column","row"],justifyContent:["center","space-between"],children:[ne,(0,P.jsx)(b.TimeframeSelector,{width:["100%","auto"],justifyContent:["center","flex-end"],timeframe:U,setTimeframe:z})]}),(0,P.jsx)(j.GenericChart,{data:te,percentChange:0,color:J,timeframe:U,isRainbowChart:!1,assetIds:[t.asset],setPercentChange:function(){},height:D?"300px":"350px",margins:{top:10,right:0,bottom:65,left:0},formatFn:L?void 0:function(e){return"".concat((0,f.dm)(e)," ").concat(null===K||void 0===K?void 0:K.name)}})]})]}),ae,(0,P.jsx)(d.MaticNFTs,{assetId:null===K||void 0===K?void 0:K.id}),re,(0,P.jsxs)(A.gC,{spacing:4,width:"100%",children:[ie,se]}),(0,P.jsx)(C.AssetGeneralData,{assetId:null===K||void 0===K?void 0:K.id}),(0,P.jsx)(w.VaultUnderlyingProtocols,{assetId:null===K||void 0===K?void 0:K.id})]})}},6634:function(e,t,n){n.r(t),n.d(t,{GenericChart:function(){return l}});var a=n(7276),i=n(3498),s=n(99594),r=n(64771),o=n(45263),l=function(e){var t=e.data,n=e.isRainbowChart,l=e.height,c=void 0===l?"350px":l,u=e.maxMinEnabled,d=void 0===u||u,f=e.color,x=void 0===f?"chart.stroke":f,m=e.formatFn,v=void 0===m?function(e){return"$".concat((0,s.dm)(e))}:m,g=e.margins,p=void 0===g?{top:0,right:0,bottom:0,left:0}:g,h=(0,a.useMemo)((function(){return t||{total:[],rainbow:[]}}),[t]),j=(0,a.useMemo)((function(){return!h.rainbow.length}),[h]);return(0,o.jsx)(i.xu,{width:"full",p:0,height:c,children:(0,o.jsx)(r.Graph,{color:x,data:h,loading:j,margins:p,isLoaded:!j,formatFn:v,maxMinEnabled:d,isRainbowChart:n})})}},94758:function(e,t,n){n.r(t),n.d(t,{MaticNFTs:function(){return v}});var a=n(99594),i=n(7276),s=n(54447),r=n(87099),o=n(86059),l=n(61617),c=n(15542),u=n(1669),d=n(3498),f=n(75712),x=n(72258),m=n(45263),v=function(e){var t=e.assetId,n=(0,u.w)(),v=n.maticNFTs,g=n.selectors,p=g.selectAssetById,h=g.selectVaultById,j=(0,i.useMemo)((function(){return p&&p(t)}),[p,t]),y=(0,i.useMemo)((function(){return h&&h(t)}),[h,t]);return null!==v&&void 0!==v&&v.length?(0,m.jsxs)(d.gC,{spacing:6,width:"100%",id:"vault-rewards",alignItems:"flex-start",children:[(0,m.jsx)(c.Translation,{translation:"defi.claimableNTFs",component:d.xv,textStyle:"heading",fontSize:"h3"}),(0,m.jsx)(d.MI,{spacing:6,width:"100%",columns:[1,3],children:v&&v.map((function(e){return(0,m.jsx)(s.Card,{p:6,children:(0,m.jsxs)(d.gC,{spacing:6,width:"100%",alignItems:"flex-start",children:[(0,m.jsxs)(d.Ug,{width:"100%",justifyContent:"space-between",children:[(0,m.jsx)(l.AssetLabel,{assetId:t}),(0,m.jsxs)(d.xv,{textStyle:"heading",fontSize:"h3",whiteSpace:"nowrap",children:["#",e.tokenId]})]}),(0,m.jsxs)(d.Ug,{spacing:4,width:"100%",justifyContent:"space-between",children:["available"===e.status?(0,m.jsx)(x.TransactionButton,{text:"defi.claim",vaultId:null===y||void 0===y?void 0:y.id,assetId:null===j||void 0===j?void 0:j.underlyingId,contractSendMethod:e.contractSendMethod,actionType:"claim",amount:e.amount.toString(),disabled:e.amount.lte(0)}):(0,m.jsxs)(d.gC,{spacing:1,alignItems:"flex-start",children:[(0,m.jsx)(c.Translation,{component:d.xv,translation:"defi.estUnlockDate",textStyle:"captionSmall"}),(0,m.jsx)(d.Ug,{spacing:1,children:(0,m.jsx)(d.xv,{textStyle:"tableCell",children:(0,a.p6)(e.unlockTimestamp,r.Cu)})})]}),(0,m.jsxs)(d.gC,{spacing:1,alignItems:"flex-end",children:[(0,m.jsx)(c.Translation,{component:d.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,m.jsxs)(d.Ug,{spacing:1,justifyContent:"flex-end",children:[(0,m.jsx)(o.Amount,{value:e.amount,decimals:8,textStyle:"tableCell"}),(0,m.jsx)(f.AssetProvider,{assetId:null===j||void 0===j?void 0:j.underlyingId,children:(0,m.jsx)(f.AssetProvider.Name,{textStyle:"tableCell"})})]})]})]})]})},"nft_".concat(e.tokenId))}))})]}):null}},13649:function(e,t,n){n.r(t),n.d(t,{PausableChakraCarouselProvider:function(){return d},usePausableChakraCarouselProvider:function(){return u}});var a=n(29439),i=n(3498),s=n(53673),r=n(7276);var o=n(45263),l={delay:0,activeItem:0,itemsLength:0,goNext:function(){},goBack:function(){},goToItem:function(){},setItemsLength:function(){},pausableTimer:{status:"stopped",start:function(){},pause:function(){},resume:function(){},stop:function(){}}},c=(0,r.createContext)(l),u=function(){return(0,r.useContext)(c)};function d(e){var t=e.children,n=e.delay,i=(0,r.useState)(0),s=(0,a.Z)(i,2),l=s[0],u=s[1],d=(0,r.useState)(0),f=(0,a.Z)(d,2),x=f[0],m=f[1],v=(0,r.useCallback)((function(e){return!(e>=0&&e<=x-1)||u(e)}),[u,x]),g=(0,r.useCallback)((function(){return!!l&&(u((function(e){return Math.max(0,e-1)})),!0)}),[u,l]),p=(0,r.useCallback)((function(){if(l===x-1)return!1;u((function(e){return Math.min(x-1,e+1)}))}),[u,l,x]),h=function(e,t){var n=(0,r.useRef)(null),i=(0,r.useState)("stopped"),s=(0,a.Z)(i,2),o=s[0],l=s[1],c=(0,r.useState)(null),u=(0,a.Z)(c,2),d=u[0],f=u[1],x=(0,r.useState)(null),m=(0,a.Z)(x,2),v=m[0],g=m[1],p=(0,r.useCallback)((function(){return!!n.current&&(clearTimeout(n.current),n.current=null,!0)}),[n]),h=(0,r.useCallback)((function(){p(),f(null),l("stopped"),g(null)}),[p]),j=(0,r.useCallback)((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(p(),l("running"),n.current=setTimeout((function(){e(),h()}),a),i){var s=Date.now();f(s)}}),[e,t,p,h]),y=(0,r.useCallback)((function(){if(d&&"paused"!==o){p();var e=Date.now()-d,n=(v||t)-e;return g(n),l("paused"),n}}),[o,d,p,t,v]),C=(0,r.useCallback)((function(){if(v)return j(v),l("running"),v}),[j,v]);return{status:o,start:j,pause:y,resume:C,stop:h}}((0,r.useCallback)((function(){l===x-1?v(0):p()}),[l,v,p,x]),n);return(0,o.jsx)(c.Provider,{value:{delay:n,goBack:g,goToItem:v,goNext:p,activeItem:l,itemsLength:x,pausableTimer:h,setItemsLength:m},children:t})}d.Carousel=function(e){var t=e.children,n=e.progressColor,a=void 0===n?"#cccccc":n,l=u(),c=l.delay,d=l.activeItem,f=l.itemsLength,x=l.pausableTimer,m=l.setItemsLength,v=r.Children.count(t);(0,r.useEffect)((function(){v&&m(v)}),[v,m]);var g=x.status,p=x.start,h=x.pause,j=x.resume,y=x.stop;(0,r.useEffect)((function(){if(!(f<=1))return p(),function(){y()}}),[p,y,f]);var C=(0,r.useMemo)((function(){return"stopped"===g?null:(0,o.jsx)(i.xu,{left:0,bottom:0,height:"3px",bg:a,position:"absolute",sx:{animationName:"progress",animationIterationCount:1,animationFillMode:"forwards",animationPlayState:g,animationTimingFunction:"ease-in-out",animationDuration:"".concat(Math.round(c/1e3),"s")}})}),[c,a,g]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.xu,{children:[(0,o.jsx)(i.xu,{layerStyle:"overlay",onMouseOut:function(){return j()},onMouseOver:function(){return h()}}),(0,o.jsx)(s.ChakraCarousel,{gap:0,enableDragging:!1,activeItem:d,children:t})]}),C]})}},66064:function(e,t,n){n.r(t),n.d(t,{ProtocolLabel:function(){return x}});var a=n(1413),i=n(44925),s=n(43098),r=n(22130),o=n(70221),l=n(3498),c=n(45263),u=["protocolId"],d=["protocolId","size"],f=function(e){var t=e.protocolId,n=(0,i.Z)(e,u),l=(0,r.i)(t);return l&&l.icon?(0,c.jsx)(o.qE,(0,a.Z)({p:0,bg:"transparent",src:l.icon,icon:(0,c.jsx)(s.HZe,{size:24}),sx:{"> img":{objectFit:"contain"}}},n)):null},x=function(e){var t=e.protocolId,n=e.size,s=void 0===n?"sm":n,o=(0,i.Z)(e,d),u=(0,r.i)(t);return u?(0,c.jsxs)(l.Ug,{alignItems:"center",justifyContent:"flex-start",children:[(0,c.jsx)(f,{protocolId:t,size:s}),(0,c.jsx)(l.xv,(0,a.Z)((0,a.Z)({textStyle:"heading",fontSize:"h3",whiteSpace:"nowrap"},o),{},{children:u.label}))]}):null}},30422:function(e,t,n){n.r(t),n.d(t,{StrategyDescriptionCarousel:function(){return v}});n(31895);var a=n(7276),i=n(54447),s=n(95636),r=n(15542),o=n(55967),l=n(96699),c=n(3498),u=n(43127),d=n(2092),f=n(13649),x=n(45263),m=function(){var e=(0,l.Fg)(),t=(0,f.usePausableChakraCarouselProvider)(),n=t.activeItem,a=t.itemsLength,i=t.pausableTimer.stop,s=t.goBack,r=t.goNext;return a<=1?null:(0,x.jsx)(c.kC,{width:"100%",alignItems:"center",justifyContent:"flex-end",children:(0,x.jsxs)(c.Ug,{spacing:2,children:[(0,x.jsx)(u.zx,{variant:"link",minW:"auto",onClick:function(){n&&i(),s()},children:(0,x.jsx)(o.lrP,{color:n?e.colors.primary:e.colors.ctaDisabled})}),(0,x.jsxs)(c.xv,{textStyle:"ctaStatic",children:[n+1,"/",a]}),(0,x.jsx)(u.zx,{variant:"link",minW:"auto",onClick:function(){n<a-1&&i(),r()},children:(0,x.jsx)(o.KEG,{color:n===a-1?e.colors.ctaDisabled:e.colors.primary})})]})})},v=function(e){var t=e.color,n=e.strategy,o=e.delay,l=s.A2[n],u=(0,a.useMemo)((function(){return l.carouselItems||[]}),[l]);return l.carouselItems?(0,x.jsx)(f.PausableChakraCarouselProvider,{delay:o,children:(0,x.jsxs)(c.gC,{width:"100%",spacing:[3,4],children:[(0,x.jsx)(i.Card.Dark,{p:0,border:0,bg:"black",overflow:"hidden",position:"relative",children:(0,x.jsx)(f.PausableChakraCarouselProvider.Carousel,{progressColor:t,children:u.map((function(e,t){return(0,x.jsxs)(c.Kq,{pr:[0,4],width:"100%",spacing:4,direction:["column","row"],justifyContent:["flex-start","space-between"],children:[(0,x.jsx)(d.Ee,{src:"".concat(e.image),width:["100%","55%"],sx:{objectFit:"contain"}}),(0,x.jsxs)(c.gC,{pb:[4,0],px:[6,0],spacing:1,width:["100%","50%"],justifyContent:"center",alignItems:"flex-start",children:[(0,x.jsx)(r.Translation,{component:c.xv,translation:e.title,textStyle:"ctaStatic"}),(0,x.jsx)(r.Translation,{component:c.xv,translation:e.description,textStyle:"caption"})]})]},"carousel_".concat(t))}))})}),(0,x.jsx)(m,{})]})}):null}},61925:function(e,t,n){n.r(t),n.d(t,{TimeframeSelector:function(){return u}});var a=n(1413),i=n(44925),s=(n(7276),n(98440)),r=n(3498),o=n(43127),l=n(45263),c=["timeframe","setTimeframe","variant"],u=function(e){var t=e.timeframe,n=e.setTimeframe,u=e.variant,d=void 0===u?"text":u,f=(0,i.Z)(e,c);return(0,l.jsx)(r.Ug,(0,a.Z)((0,a.Z)({spacing:"button"===d?4:[6,10]},f),{},{children:Object.values(s.W).map((function(e){var a=e===t;switch(d){default:case"text":return(0,l.jsx)(r.xv,{textStyle:"cta",color:"ctaDisabled","aria-selected":a,onClick:function(){return n(e)},children:e.toUpperCase()},"timeframe_".concat(e));case"button":return(0,l.jsx)(o.zx,{px:6,border:0,variant:"filter","aria-selected":a,onClick:function(){return n(e)},children:e.toUpperCase()},"timeframe_".concat(e))}}))}))}},72258:function(e,t,n){n.r(t),n.d(t,{TransactionButton:function(){return j},TransactionButtonValue:function(){return h}});var a=n(1413),i=n(29439),s=n(44925),r=(n(81608),n(55967)),o=n(53293),l=n(7276),c=n(15542),u=n(23023),d=n(96699),f=n(52486),x=n(3498),m=n(43127),v=n(45263),g=["text","contractSendMethod"],p=["text","amount","assetId","vaultId","actionType","contractSendMethod"],h=function(e){var t,n=e.text,o=e.contractSendMethod,m=(0,s.Z)(e,g),p=(0,d.Fg)(),h=(0,l.useRef)(null),j=(0,l.useState)(null),y=(0,i.Z)(j,2),C=y[0],b=y[1],S=(0,u.R)(),I=S.state.transaction,w=S.cleanTransaction,A=(0,l.useMemo)((function(){var e;return JSON.stringify(null===I||void 0===I||null===(e=I.contractSendMethod)||void 0===e?void 0:e._method)===JSON.stringify(o._method)}),[I,o]),M=(0,l.useMemo)((function(){return A&&I.status&&["pending","success","failed"].includes(I.status)&&I.estimatedTime}),[I,A]),k=(0,l.useMemo)((function(){return M&&"pending"===I.status?I.estimatedTime:.5}),[M,I]),T=(0,l.useCallback)((function(){if(!I.timestamp||!I.estimatedTime)return null;var e=+I.timestamp+1e3*I.estimatedTime,t=Math.max(0,Math.ceil((e-Date.now())/1e3));b(t),t&&(h.current=setTimeout((function(){T()}),1e3))}),[I]);(0,l.useEffect)((function(){var e;A&&("success"===I.status||"failed"===I.status?(h.current&&(clearInterval(h.current),h.current=null),"success"!==I.status&&4001===(null===(e=I.error)||void 0===e?void 0:e.code)||setTimeout((function(){w()}),4e3)):"pending"!==I.status||h.current||T())}),[A,I.status,T,w,null===(t=I.error)||void 0===t?void 0:t.code]);var P=(0,l.useMemo)((function(){var e;if(A)switch(null===I||void 0===I?void 0:I.status){case"created":return(0,v.jsx)(f.$,{size:"sm"});case"pending":return I.timestamp&&I.estimatedTime&&C?(0,v.jsxs)(x.xv,{textStyle:"ctaStatic",children:[C,"s"]}):(0,v.jsx)(f.$,{size:"sm"});case"success":return(0,v.jsx)(x.kC,(0,a.Z)((0,a.Z)({},m),{},{alignItems:"center",justifyContent:"center",children:(0,v.jsx)(r.ddU,{size:24,color:p.colors.green[400]})}));case"failed":if(4001!==(null===(e=I.error)||void 0===e?void 0:e.code))return(0,v.jsx)(x.kC,(0,a.Z)((0,a.Z)({},m),{},{alignItems:"center",justifyContent:"center",children:(0,v.jsx)(r.lTq,{size:24,color:p.colors.red[400]})}))}return(0,v.jsx)(c.Translation,{translation:n,textStyle:"ctaStatic"})}),[A,C,I,n,p,m]),D=(0,l.useMemo)((function(){switch(I.status){case"success":case"failed":return"transparent";default:return"primary"}}),[I]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.kC,{top:0,left:0,bottom:0,bg:D,overflow:"hidden",position:"absolute",alignItems:"center",justifyContent:"center",transition:"background 0.5s ease-in-out",sx:{animationIterationCount:1,animationFillMode:"forwards",animationTimingFunction:"ease-in-out",animationDuration:"".concat(k,"s"),animationName:M?"progress":"none",animationPlayState:M?"running":"stopped"},children:(0,v.jsx)(x.kC,{left:0,width:m.width,alignItems:"center",position:"absolute",justifyContent:"center",sx:{"> *":{color:"black !important",borderColor:"black !important"}},children:P})}),P]})},j=function(e){var t=e.text,n=e.amount,r=e.assetId,c=e.vaultId,d=e.actionType,f=e.contractSendMethod,x=(0,s.Z)(e,p),g=(0,o.Z)(),j=(0,i.Z)(g,2),y=j[0],C=j[1].width,b=(0,u.R)(),S=b.sendTransaction,I=b.state.transaction,w=(0,l.useMemo)((function(){var e;return JSON.stringify(null===I||void 0===I||null===(e=I.contractSendMethod)||void 0===e?void 0:e._method)===JSON.stringify(f._method)}),[I,f]),A=(0,l.useCallback)((function(){if("created"!==I.status&&"pending"!==I.status)return S(c,r,f,d,n)}),[I,c,r,f,d,n,S]),M=(0,l.useMemo)((function(){var e;if(!w)return"primary";switch(I.status){case"success":return"green.400";case"failed":return 4001!==(null===(e=I.error)||void 0===e?void 0:e.code)?"red.400":"primary";default:return"primary"}}),[w,I]);return(0,v.jsx)(m.zx,(0,a.Z)((0,a.Z)({py:2,px:10,overflow:"hidden",position:"relative",width:C||"auto",borderColor:M,onClick:function(){return A()},ref:y,variant:"ctaPrimaryOutline",transition:"border 0.5s ease-in-out"},x),{},{children:(0,v.jsx)(h,{text:t,contractSendMethod:f,width:C})}))}},1823:function(e,t,n){n.r(t),n.d(t,{VaultReward:function(){return u}});n(7276);var a=n(54447),i=n(86059),s=n(61617),r=n(15542),o=n(75712),l=n(3498),c=n(45263),u=function(e){var t=e.assetId,n=e.amount;return n.lte(0)?null:(0,c.jsx)(o.AssetProvider,{wrapFlex:!1,assetId:t,children:(0,c.jsx)(a.Card,{p:6,children:(0,c.jsxs)(l.Ug,{width:"100%",justifyContent:"space-between",children:[(0,c.jsx)(s.AssetLabel,{assetId:t}),(0,c.jsxs)(l.gC,{spacing:1,alignItems:"flex-end",children:[(0,c.jsx)(r.Translation,{component:l.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,c.jsxs)(l.Ug,{spacing:1,justifyContent:"flex-end",children:[(0,c.jsx)(i.Amount,{value:n,decimals:8,textStyle:"tableCell"}),(0,c.jsx)(o.AssetProvider.Name,{textStyle:"tableCell"})]})]})]})})})}},10401:function(e,t,n){n.r(t),n.d(t,{VaultRewards:function(){return d}});var a=n(99594),i=n(7276),s=n(3498),r=n(15542),o=n(1823),l=n(1669),c=n(72258),u=n(45263),d=function(e){var t=e.assetId,n=(0,l.w)().selectors,d=n.selectAssetById,f=n.selectVaultById,x=(0,i.useMemo)((function(){return f&&f(t)}),[f,t]),m=(0,i.useMemo)((function(){if(d&&t){var e=d(t);return null===e||void 0===e?void 0:e.rewards}}),[d,t]),v=(0,i.useMemo)((function(){return m?Object.values(m).reduce((function(e,t){return e.plus(t)}),(0,a.gA)(0)):(0,a.gA)(0)}),[m]),g=x.getClaimRewardsContractSendMethod();return(0,u.jsxs)(s.gC,{spacing:6,width:"100%",id:"vault-rewards",alignItems:"flex-start",children:[(0,u.jsx)(r.Translation,{translation:"assets.assetDetails.generalData.claimableRewards",component:s.xv,textStyle:"heading",fontSize:"h3"}),(0,u.jsx)(s.MI,{spacing:6,width:"100%",columns:[1,3],children:m&&Object.keys(m).map((function(e){return(0,u.jsx)(o.VaultReward,{assetId:e,amount:m[e]},"reward_".concat(e))}))}),t&&x&&v.gt(0)&&(0,u.jsx)(c.TransactionButton,{text:"assets.assetCards.rewards.claimRewards",vaultId:t,assetId:t,contractSendMethod:g,actionType:"claim",amount:v.toString(),width:["100%","150px"],disabled:v.lte(0)})]})}},67972:function(e,t,n){n.r(t),n.d(t,{VaultUnderlyingProtocols:function(){return g}});var a=n(99594),i=n(7276),s=n(54447),r=n(86059),o=n(93429),l=n(88935),c=n(39177),u=n(15542),d=n(1669),f=n(58383),x=n(66064),m=n(3498),v=n(45263),g=function(e){var t,n,g=e.assetId,p=(0,l.Y)().chainId,h=(0,d.w)().selectors,j=h.selectAssetById,y=h.selectVaultById,C=(0,i.useMemo)((function(){return j&&j(g)}),[j,g]),b=(0,i.useMemo)((function(){return y&&y(g)}),[y,g]);return b&&b instanceof o.H&&"tokenConfig"in b&&null!==(t=b.tokenConfig)&&void 0!==t&&t.protocols?(0,v.jsxs)(m.gC,{spacing:6,alignItems:"flex-start",children:[(0,v.jsx)(u.Translation,{component:m.X6,as:"h3",size:"md",translation:"defi.underlyingProtocols"}),(0,v.jsx)(m.MI,{spacing:6,width:"100%",columns:[1,3],children:null===(n=b.tokenConfig)||void 0===n?void 0:n.protocols.map((function(e){var t,n,i,o=(0,f.iL)(e.name),l=(0,a.gA)(null===(t=C.allocations)||void 0===t?void 0:t[e.name]).div(100),d=(0,a.gA)(null===C||void 0===C?void 0:C.tvlUsd).times(l),g=null===C||void 0===C||null===(n=C.protocolsAprs)||void 0===n?void 0:n[e.address.toLowerCase()];null===o||void 0===o||null===(i=o.govTokens)||void 0===i||i.reduce((function(e,t){var n=(0,f.Zs)(p,t);return null!==n&&void 0!==n&&n.address&&e.push(n.address),e}),[]);return(0,v.jsx)(s.Card,{p:6,children:(0,v.jsxs)(m.gC,{spacing:6,width:"100%",alignItems:"flex-start",children:[(0,v.jsx)(x.ProtocolLabel,{protocolId:e.name,size:"xs"}),(0,v.jsxs)(m.Ug,{spacing:6,width:"full",justifyContent:"space-between",children:[(0,v.jsxs)(m.gC,{spacing:1,alignItems:"flex-start",children:[(0,v.jsx)(u.Translation,{component:m.xv,translation:"defi.poolAddress",textStyle:"captionSmall"}),(0,v.jsx)(c.AddressLink,{address:e.address})]}),(0,v.jsxs)(m.gC,{spacing:1,alignItems:"flex-start",children:[(0,v.jsx)(u.Translation,{component:m.xv,translation:"defi.apy",textStyle:"captionSmall"}),(0,v.jsx)(r.Amount.Percentage,{value:g,textStyle:"tableCell"})]}),(0,v.jsxs)(m.gC,{spacing:1,alignItems:"flex-start",children:[(0,v.jsx)(u.Translation,{component:m.xv,translation:"assets.assetDetails.generalData.allocation",textStyle:"captionSmall"}),(0,v.jsx)(r.Amount.Usd,{value:d,textStyle:"tableCell"})]})]})]})},"protocol_".concat(e.name))}))})]}):null}},15034:function(e,t,n){n.d(t,{k:function(){return d}});var a=n(1413),i=n(29439),s=n(66549),r=n.n(s),o=n(5128),l=n(7276),c=n(1669),u=n(99594),d=function(e){var t=e.assetIds,n=e.strategies,s=e.timeframe,d=e.useDollarConversion,f=void 0===d||d,x=(0,c.w)(),m=x.isPortfolioLoaded,v=x.historicalPrices,g=x.historicalPricesUsd,p=x.selectors,h=p.selectAssetsByIds,j=p.selectVaultTransactions,y=p.selectAssetHistoricalPriceByTimestamp,C=p.selectAssetHistoricalPriceUsdByTimestamp,b=(0,l.useState)(!0),S=(0,i.Z)(b,2),I=S[0],w=S[1],A=(0,l.useMemo)((function(){return h?h(t).filter((function(e){return!n||!e.type||n.includes(e.type)})):[]}),[t,n,h]),M=(0,l.useMemo)((function(){return s?(0,u.pM)(s):0}),[s]),k=(0,l.useMemo)((function(){var e={total:[],rainbow:[]};if(!m||(0,u.xb)(v)||(0,u.xb)(g))return e;var t=A.reduce((function(e,t){if(null===t||void 0===t||!t.id)return e;var n=t.id,a=j(n);if(!a.length)return e;var i=a.reduce((function(e,t){var n=+r()(1e3*+t.timeStamp).startOf("day").valueOf();switch(t.action){case"deposit":e.total=e.total.plus(t.idleAmount);break;case"redeem":e.total=o.Z.maximum(0,e.total.minus(t.idleAmount))}return e.byDate[n]=e.total,e}),{total:(0,u.gA)(0),byDate:{}});return Object.keys(i.byDate).forEach((function(n){e[n]||(e[n]={}),t.id&&(e[n][t.id]=parseFloat(i.byDate[n].toFixed(8)))})),e}),{});if((0,u.xb)(t))return e;for(var n=+Object.keys(t).sort()[0],i=+r()().endOf("day").valueOf(),s=(0,u.Up)(n,i),l={},c=0,d=null;c<s.length;c++){var x=s[c];l[x]=(0,a.Z)((0,a.Z)({},d?l[d]:{}),t[x]),d=x}var p={},h={};return Object.keys(l).forEach((function(e){var t=l[e];Object.keys(t).forEach((function(n){var a=A.find((function(e){return e.id===n})),i=null===a||void 0===a?void 0:a.underlyingId,s=y(n,e)||p[n];if(s&&(t[n]=parseFloat((0,u.gA)(t[n]).times((0,u.gA)(s.value)).toFixed(8)),p[n]=s),f){var r=C(i,e)||h[n];r&&(t[n]=parseFloat((0,u.gA)(t[n]).times((0,u.gA)(r.value)).toFixed(8)),h[n]=r)}})),t.total=Object.values(t).reduce((function(e,t){return e+t}),0)})),e.total=Object.keys(l).reduce((function(e,t){return t<M||e.push({date:parseInt(t),value:l[t].total}),e}),[]),e.rainbow=Object.keys(l).reduce((function(e,t){return t<M||e.push((0,a.Z)({date:parseInt(t),total:l[t].total},l[t])),e}),[]),e}),[A,f,M,j,m,v,g,y,C]);return(0,l.useEffect)((function(){if(k.rainbow.length)return w(!1),function(){w(!0)}}),[k]),{assets:A,balanceChartData:k,balanceChartDataLoading:I}}},68414:function(e,t,n){n.d(t,{C:function(){return o}});var a=n(29439),i=n(99594),s=n(7276),r=n(1669),o=function(e){var t=(0,s.useState)(!0),n=(0,a.Z)(t,2),o=n[0],l=n[1],c=(0,r.w)(),u=c.historicalPrices,d=c.selectors,f=d.selectAssetsByIds,x=d.selectAssetHistoricalPrices,m=e.assetIds,v=e.timeframe,g=(0,s.useMemo)((function(){return f?f(m):[]}),[m,f]),p=(0,s.useMemo)((function(){return v?(0,i.pM)(v):0}),[v]),h=(0,s.useMemo)((function(){var e={total:[],rainbow:[]};if(!Object.keys(u).length)return e;var t=g.reduce((function(t,n,a){if(!n.id)return t;var i=x(n.id);return i?(i.forEach((function(i){var s=i.date;if(!(s<p)){var r=i.value;t[s]||(t[s]={date:s,total:0}),n.id&&(t[s][n.id]=r,a||e.total.push({date:s,value:r}))}})),t):t}),{});return e.rainbow=Object.values(t),e}),[g,u,x,p]);return(0,s.useEffect)((function(){if(h.rainbow.length)return l(!1),function(){l(!0)}}),[h]),{assets:g,performanceChartData:h,performanceChartDataLoading:o}}},31895:function(e,t,n){n.r(t),t.default={}},81608:function(e,t,n){n.r(t),t.default={}}}]);