"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[2969,956],{52969:function(e,t,r){r.r(t),r.d(t,{DepositedAssetsTable:function(){return Z},TableField:function(){return M}});var n=r(93433),i=r(29439),a=r(1413),s=r(54447),o=r(79681),l=r(95173),c=r(86059),d=r(66288),u=r(75349),f=r(39195),p=r(56292),x=r(30572),h=r(10956),v=r(58194),g=r(15542),w=r(1669),m=r(12056),j=r(99594),C=r(7276),y=r(55967),b=r(75712),A=r(89030),P=r(3498),k=r(82137),T=r(43127),I=r(45263),M=function(e){var t=e.field,r=e.row,n=e.value,i=e.props,s=r.original.id;return(0,I.jsx)(A.N2,{noOfLines:2,isLoaded:!!n,children:(0,I.jsx)(b.AssetProvider,{assetId:s,children:(0,I.jsx)(b.AssetProvider.GeneralData,(0,a.Z)({section:"strategy",field:t},i))})})},Z=function(){var e=(0,l.s0)(),t=(0,w.w)(),r=t.isPortfolioLoaded,b=t.isPortfolioAccountReady,Z=t.selectors,D=Z.selectVaultsWithBalance,S=Z.selectVaultsAssetsByType,_=Z.selectVaultsAssetsWithBalance,z=(0,o.qM)(),U=(0,C.useState)(1),F=(0,i.Z)(U,2),N=F[0],R=F[1],B=(0,d.X)(),L=B.theme,O=B.isMobile,H=(0,f.Y)(),W=H.account,V=H.prevAccount,Y=(0,C.useState)("Available"),E=(0,i.Z)(Y,2),q=E[0],K=E[1],G=(0,x.D)(q);(0,C.useEffect)((function(){if(q!==G)return R(1)}),[q,G,R]);var J=(0,C.useMemo)((function(){return[{width:"25%",accessor:"name",sortType:"alpha",id:"assetWithStatus",stackProps:{justifyContent:"space-between"},extraFields:["productTagWithRisk"]},{width:"18%",accessor:"id",id:"protocols",sortType:"alpha",fieldProps:{size:"xs"}},{id:"tvl",width:"13%",accessor:"tvlUsd",sortType:"numeric"},{id:"apy",width:"13%",accessor:"apy",sortType:"numeric"},{id:"apy7",width:"13%",accessor:"apy7",sortType:"numeric",tables:["Available"]},{id:"apy30",width:"13%",accessor:"apy30",sortType:"numeric",tables:["Available"]},{width:"5%",accessor:"id",id:"chainId",stackProps:{justifyContent:"center"},tables:["Available"]}]}),[]),X=(0,C.useMemo)((function(){return J.reduce((function(e,t){var r=t.id,n=t.accessor,i=t.sortType,s="alpha"===i?j.YC:"numeric"===i?j._O:void 0;return e[r]={id:r,accessor:n,width:t.width,disableSortBy:!s,defaultCanSort:!!s,Header:z(t.title||"defi.".concat(r)),sortType:s?function(e,t){return s(e,t,n)}:void 0,Cell:function(e){var n=e.value,i=e.row;return t.extraFields&&t.extraFields.length>0?(0,I.jsxs)(P.Kq,(0,a.Z)((0,a.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},t.stackProps),{},{children:[(0,I.jsx)(M,{field:r,value:n,row:i,props:t.fieldProps}),t.extraFields.map((function(e){return(0,I.jsx)(M,{field:e,value:n,row:i},"extraField_".concat(e))}))]})):(0,I.jsx)(M,{field:r,value:n,row:i,props:t.fieldProps})}},e}),{})}),[J,z]),Q=(0,C.useMemo)((function(){return J.filter((function(e){return!e.tables||e.tables.includes(q)})).map((function(e){var t=e.id,r=e.accessor,n=e.sortType,i="alpha"===n?j.YC:"numeric"===n?j._O:void 0;return{id:t,accessor:r,width:e.width,disableSortBy:!i,defaultCanSort:!!i,Header:z(e.title||"defi.".concat(t)),sortType:i?function(e,t){return i(e,t,r)}:void 0,Cell:function(r){var n=r.value,i=r.row;return e.extraFields&&e.extraFields.length>0?(0,I.jsxs)(P.Kq,(0,a.Z)((0,a.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,I.jsx)(M,{field:t,value:n,row:i,props:e.fieldProps}),e.extraFields.map((function(e){return(0,I.jsx)(M,{field:e,value:n,row:i},"extraField_".concat(e))}))]})):(0,I.jsx)(M,{field:t,value:n,row:i,props:e.fieldProps})}}}))}),[J,q,z]),$=(0,C.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,n.Z)(Q))}),[Q]),ee=(0,C.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,n.Z)(Q),[{width:"13%",accessor:"balanceUsd",Header:z("defi.balance"),Cell:function(e){var t=e.value;return(0,I.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:(0,I.jsx)(c.Amount.Usd,{value:t,textStyle:"tableCell"})})},sortType:j._O},{width:"13%",accessor:"vaultPosition",Header:z("defi.realizedApy"),Cell:function(e){var t=e.value,r=e.row;return(0,I.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:t&&(0,I.jsxs)(k.kN,{children:[(0,I.jsx)(k.Jf,{children:(0,I.jsxs)(P.kC,{direction:"row",alignItems:"center",children:[!t.realizedApy.isNaN()&&(0,I.jsx)(k.uY,{type:"increase"}),(0,I.jsx)(M,{field:"realizedApy",value:t,row:r})]})}),(0,I.jsx)(c.Amount.Usd,{prefix:"+",value:t.usd.earnings,textStyle:"captionSmall"})]})})},sortType:function(e,t){return(0,j._O)(e,t,"vaultPosition.earningsPercentage")}},X.chainId])}),[z,Q,X]),te=(0,C.useMemo)((function(){return p.R.reduce((function(e,t){return[].concat((0,n.Z)(e),(0,n.Z)(t.strategies))}),[])}),[]),re=(0,C.useMemo)((function(){return S?te.reduce((function(e,t){return[].concat((0,n.Z)(e),(0,n.Z)(S(t)))}),[]).filter((function(e){return"deprecated"!==e.status})).sort((function(e,t){return(0,j.gA)(e.tvlUsd).lt((0,j.gA)(t.tvlUsd))?1:-1})).slice(0,15).sort((function(e,t){return(0,j.gA)(e.apy).lt((0,j.gA)(t.apy))?1:-1})).slice(0,10):[]}),[S,te]),ne=(0,C.useMemo)((function(){return D&&r?te.reduce((function(e,t){var r=_(t);return r?[].concat((0,n.Z)(e),(0,n.Z)(r)):e}),[]):[]}),[r,D,_,te]);(0,C.useEffect)((function(){if(W&&"Available"===q)return K("Deposited")}),[]),(0,C.useEffect)((function(){return W||"Deposited"!==q?!V&&W&&"Available"===q?K("Deposited"):"Deposited"===q&&b&&!ne.length?K("Available"):void 0:K("Available")}),[q,W,V,b,ne]);var ie=(0,C.useCallback)((function(t,r,n){(0,j.fU)(r,n,t.original);var i=m.A[t.original.type].route;return e("/earn/".concat(i,"/").concat(t.original.id))}),[e]),ae=(0,C.useMemo)((function(){return 5}),[]),se=(0,C.useMemo)((function(){return"Deposited"===q?Math.ceil(ne.length/ae):Math.ceil(re.length/ae)}),[q,re,ne,ae]),oe=(0,C.useCallback)((function(){return!!N&&(R((function(e){return Math.max(1,e-1)})),!0)}),[R,N]),le=(0,C.useCallback)((function(){if(N===se)return!1;R((function(e){return Math.min(se,e+1)}))}),[R,N,se]),ce=(0,C.useMemo)((function(){if(!ne.length)return null;return O?(0,I.jsx)(P.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:(0,I.jsx)(P.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:ne.map((function(e){return e.id&&(0,I.jsx)(u.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})}):(0,I.jsxs)(P.gC,{spacing:6,width:"full",children:[(0,I.jsxs)(s.Card,{children:[(0,I.jsx)(P.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between"}),(0,I.jsx)(v.ReactTable,{columns:ee,data:ne,initialState:{sortBy:[{id:"balanceUsd",desc:!1}]},rowsPerPage:ae,page:N,onRowClick:function(e){return ie(e,"dashboard_deposited","Dashboard deposited")}})]}),se>1&&(0,I.jsx)(h.Pagination,{activePage:N,pages:se,justifyContent:"center",onPrevArrowClick:function(){N&&oe()},onNextArrowClick:function(){N<se&&le()},prevArrowColor:1===N?L.colors.ctaDisabled:L.colors.primary,nextArrowColor:N===se?L.colors.ctaDisabled:L.colors.primary})]})}),[O,ee,ne,N,se,L,ae,ie,oe,le]),de=(0,C.useMemo)((function(){if(!re.length)return null;return O?(0,I.jsx)(P.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:(0,I.jsx)(P.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:re.map((function(e){return e.id&&(0,I.jsx)(u.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})}):(0,I.jsxs)(P.gC,{spacing:6,width:"full",children:[(0,I.jsxs)(s.Card,{children:[(0,I.jsx)(P.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between"}),(0,I.jsx)(v.ReactTable,{columns:$,data:re,initialState:{sortBy:[{id:"apy",desc:!1}]},rowsPerPage:ae,page:N,onRowClick:function(e){return ie(e,"dashboard_deposited","Dashboard deposited")}})]}),se>1&&(0,I.jsx)(h.Pagination,{activePage:N,pages:se,justifyContent:"center",onPrevArrowClick:function(){N&&oe()},onNextArrowClick:function(){N<se&&le()},prevArrowColor:1===N?L.colors.ctaDisabled:L.colors.primary,nextArrowColor:N===se?L.colors.ctaDisabled:L.colors.primary})]})}),[O,$,re,N,se,L,ae,ie,oe,le]);return r?(0,I.jsxs)(P.gC,{mt:[10,20],spacing:6,width:"full",alignItems:"flex-start",children:[(0,I.jsxs)(P.Ug,{spacing:3,children:[(0,I.jsx)(g.Translation,{component:T.zx,leftIcon:(0,I.jsx)(y.lTP,{size:24}),translation:"common.wallet",variant:"filter","aria-selected":"Deposited"===q,fontSize:"sm",borderRadius:"80px",px:4,onClick:function(){return K("Deposited")}}),(0,I.jsx)(g.Translation,{component:T.zx,leftIcon:(0,I.jsx)(y.pIY,{size:24}),translation:"common.featured",variant:"filter","aria-selected":"Available"===q,fontSize:"sm",borderRadius:"80px",px:4,onClick:function(){return K("Available")}})]}),"Deposited"===q?ce:de]}):null}},10956:function(e,t,r){r.r(t),r.d(t,{Pagination:function(){return d}});var n=r(1413),i=r(45987),a=(r(7276),r(55967)),s=r(3498),o=r(43127),l=r(45263),c=["onPrevArrowClick","onNextArrowClick","prevArrowColor","nextArrowColor","activePage","pages"],d=function(e){var t=e.onPrevArrowClick,r=e.onNextArrowClick,d=e.prevArrowColor,u=e.nextArrowColor,f=e.activePage,p=e.pages,x=(0,i.Z)(e,c);return(0,l.jsx)(s.kC,(0,n.Z)((0,n.Z)({width:"100%",alignItems:"center",justifyContent:"flex-end"},x),{},{children:(0,l.jsxs)(s.Ug,{spacing:2,children:[(0,l.jsx)(o.zx,{variant:"link",minW:"auto",onClick:t,children:(0,l.jsx)(a.lrP,{color:d})}),(0,l.jsxs)(s.xv,{textStyle:"ctaStatic",children:[f,"/",p]}),(0,l.jsx)(o.zx,{variant:"link",minW:"auto",onClick:r,children:(0,l.jsx)(a.KEG,{color:u})})]})}))}}}]);