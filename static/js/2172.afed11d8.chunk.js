"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[2172,494,8129],{60494:function(e,t,n){n.r(t),n.d(t,{SearchBar:function(){return u}});var i=n(29439),a=n(55967),s=n(79681),r=n(7276),l=n(66288),o=n(3498),c=n(3497),d=n(45263),u=function(e){var t=e.placeholder,n=e.handleSearchChange,u=(0,l.X)().theme,f=(0,s.qM)(),x=(0,r.useState)(""),g=(0,i.Z)(x,2),p=g[0],h=g[1];return(0,r.useEffect)((function(){n(p)}),[p,n]),(0,d.jsx)(o.Ug,{children:(0,d.jsxs)(c.BZ,{children:[(0,d.jsx)(c.II,{type:"text",placeholder:f(t),variant:"search",onChange:function(e){return h(e.target.value)}}),(0,d.jsx)(c.xH,{children:(0,d.jsx)(a.vU7,{size:24,color:u.colors.cta})})]})})}},88129:function(e,t,n){n.r(t),n.d(t,{StrategyOverview:function(){return h}});var i=n(1413),a=n(29439),s=n(99594),r=n(7276),l=n(86059),o=n(15542),c=n(1669),d=n(9597),u=n(3498),f=n(43127),x=n(89030),g=n(1494),p=n(45263),h=function(e){var t=e.textProps,n=e.showHeader,h=void 0===n||n,v=e.showLoading,m=void 0===v||v,j=e.strategies,y=(0,r.useState)(!0),A=(0,a.Z)(y,2),w=A[0],S=A[1],C=(0,c.w)(),b=C.isVaultsPositionsLoaded,T=C.vaultsPositions,I=(0,g.O)({assetIds:Object.keys(T),strategies:j}).compositions,z=(0,r.useMemo)((function(){return I.strategies.filter((function(e){return j.includes(e.extraData.strategy.type)})).reduce((function(e,t){return e.redeemable=e.redeemable.plus(t.value),e.deposited=e.deposited.plus(t.extraData.deposited),e.realizedApy=e.realizedApy.plus((0,s.gA)(t.extraData.avgRealizedApy).times(t.value)),e}),{deposited:(0,s.gA)(0),redeemable:(0,s.gA)(0),realizedApy:(0,s.gA)(0)})}),[I,j]);return z.realizedApy=z.realizedApy.div(z.redeemable),m||b&&!z.deposited.lte(0)?(0,p.jsxs)(u.gC,{spacing:6,alignItems:"flex-start",children:[h&&(0,p.jsxs)(u.Ug,{spacing:2,children:[(0,p.jsx)(o.Translation,{translation:"defi.yourWallet",textStyle:"heading",color:"primary",fontSize:"lg"}),(0,p.jsx)(f.zx,{variant:"unstyled",onClick:function(){return S((function(e){return!e}))},children:w?(0,p.jsx)(d.Zju,{size:24,color:"white"}):(0,p.jsx)(d.I0d,{size:24,color:"white"})})]}),(0,p.jsxs)(u.MI,{columns:3,spacing:[2,10],children:[(0,p.jsxs)(u.gC,{spacing:2,alignItems:"flex-start",children:[(0,p.jsx)(o.Translation,{translation:"defi.deposited",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,p.jsx)(x.N2,{noOfLines:2,isLoaded:!!b,minW:"100%",children:(0,p.jsx)(l.Amount.Usd,(0,i.Z)({value:z.deposited,textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:w?{}:{filter:"blur(7px)"}},t))})]}),(0,p.jsxs)(u.gC,{spacing:2,alignItems:"flex-start",children:[(0,p.jsx)(o.Translation,{translation:"defi.earnings",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,p.jsx)(x.N2,{noOfLines:2,isLoaded:!!b,minW:"100%",children:(0,p.jsx)(l.Amount.Usd,(0,i.Z)({value:z.redeemable.minus(z.deposited),textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:w?{}:{filter:"blur(7px)"}},t))})]}),(0,p.jsxs)(u.gC,{spacing:2,alignItems:"flex-start",children:[(0,p.jsx)(o.Translation,{translation:"defi.realizedApy",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,p.jsx)(x.N2,{noOfLines:2,isLoaded:!!b,minW:"100%",children:(0,p.jsx)(l.Amount.Percentage,(0,i.Z)({value:z.realizedApy,textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:w?{}:{filter:"blur(7px)"}},t))})]})]})]}):null}},52172:function(e,t,n){n.r(t),n.d(t,{TableField:function(){return Z},Tranches:function(){return B}});var i=n(93433),a=n(1413),s=n(29439),r=n(54447),l=n(79681),o=n(56292),c=n(95173),d=n(86059),u=n(55967),f=n(4432),x=n(39807),g=n(66288),p=n(60494),h=n(75349),v=n(39195),m=n(58194),j=n(15542),y=n(1669),A=n(12056),w=n(75712),S=n(7276),C=n(88129),b=n(99594),T=n(89030),I=n(3498),z=n(2092),M=n(43127),k=n(82137),P=n(45263),Z=function(e){var t=e.field,n=e.row,i=e.value,a=e.showLoader,s=void 0===a||a,r=n.original.id;return s?(0,P.jsx)(T.N2,{noOfLines:2,isLoaded:!!i,children:(0,P.jsx)(w.AssetProvider,{assetId:r,children:(0,P.jsx)(w.AssetProvider.GeneralData,{section:"strategy",field:t})})}):(0,P.jsx)(w.AssetProvider,{assetId:r,children:(0,P.jsx)(w.AssetProvider.GeneralData,{section:"strategy",field:t})})},B=function(){var e=(0,c.s0)(),t=(0,l.qM)(),n=(0,v.Y)().account,B=(0,g.X)().isMobile,O=(0,x.f)(),U=O.openModal,L=O.closeModal,H=(0,S.useState)(null),R=(0,s.Z)(H,2),_=R[0],F=R[1],E=(0,S.useState)(null),N=(0,s.Z)(E,2),V=N[0],q=N[1],D=(0,S.useState)(null),W=(0,s.Z)(D,2),K=W[0],X=W[1],G=(0,S.useState)(null),Y=(0,s.Z)(G,2),J=Y[0],Q=Y[1],$=(0,y.w)(),ee=$.vaults,te=$.isPortfolioLoaded,ne=$.selectors,ie=ne.selectVaultById,ae=ne.selectAssetById,se=ne.selectVaultsWithBalance,re=ne.selectVaultsAssetsByType,le=ne.selectVaultsAssetsWithBalance,oe=(0,S.useMemo)((function(){return o.R.find((function(e){return"yield-tranches"===e.route}))}),[]),ce=(0,S.useMemo)((function(){return(null===oe||void 0===oe?void 0:oe.strategies)||[]}),[oe]),de=(0,S.useMemo)((function(){return null===ce||void 0===ce?void 0:ce[0]}),[ce]),ue=(0,S.useCallback)((function(t,n,i){(0,b.fU)(n,i,t.original);var a=A.A[t.original.type];return e("/earn/".concat(a.route,"/").concat(t.original.id))}),[e]),fe=(0,S.useCallback)((function(t){var n=ie(t),i={AA:ae(null===n||void 0===n?void 0:n.vaultConfig.Tranches.AA.address),BB:ae(null===n||void 0===n?void 0:n.vaultConfig.Tranches.BB.address)};return(0,P.jsx)(I.MI,{mb:6,spacing:6,width:"full",columns:[1,2],children:ce.map((function(t){var n,a,s,l=A.A[t].route,o=null===(n=i[t])||void 0===n?void 0:n.id;return(0,P.jsx)(w.AssetProvider,{wrapFlex:!1,assetId:o,children:(0,P.jsxs)(r.Card,{p:4,borderRadius:24,overflow:"hidden",position:"relative",layerStyle:"cardLight",children:[(0,P.jsx)(I.xu,{sx:{zIndex:0,top:"30%",width:"205%",right:"-115%",position:"absolute",height:B?"145%":"125%",background:"radial-gradient(circle, rgba(".concat((0,b.oo)(null===(a=A.A[t])||void 0===a?void 0:a.color).join(","),",0.8) 0%, rgba(50,61,83,0) 70%)")}}),(0,P.jsxs)(I.xu,{zIndex:1,width:"full",position:"relative",children:[(0,P.jsx)(I.Ug,{width:"full",justifyContent:"flex-end",children:(0,P.jsx)(z.Ee,{w:6,h:6,src:"".concat(f.P5).concat(t,".svg")})}),(0,P.jsxs)(I.gC,{px:2,width:"full",spacing:4,children:[(0,P.jsx)(I.Ug,{width:"full",justifyContent:"flex-start",children:(0,P.jsx)(j.Translation,{translation:A.A[t].label,textStyle:"ctaStatic",fontSize:"cardTitle",lineHeight:"initial"})}),(0,P.jsx)(I.gC,{spacing:2,children:null===(s=A.A[t].features)||void 0===s?void 0:s.map((function(e){return(0,P.jsxs)(I.Ug,{spacing:1,alignItems:"flex-start",children:[(0,P.jsx)(I.xu,{pt:1,children:(0,P.jsx)(u.KEG,{color:"white",size:12})}),(0,P.jsx)(j.Translation,{translation:e,textStyle:"captionSmall"})]},"feature_".concat(e))}))}),(0,P.jsxs)(I.gC,{spacing:0,width:"full",alignItems:"flex-start",children:[(0,P.jsxs)(I.Ug,{spacing:1,width:"full",alignItems:"baseline",children:[(0,P.jsx)(w.AssetProvider.Apy,{showTooltip:!1,color:A.A[t].color,textStyle:"heading",fontSize:"h3"}),(0,P.jsx)(j.Translation,{translation:"defi.apy",color:A.A[t].color,textStyle:"ctaStatic",fontSize:"sm"})]}),(0,P.jsxs)(I.Ug,{spacing:2,width:"full",children:[(0,P.jsx)(j.Translation,{translation:"defi.currentTVL",textStyle:"captionSmall"}),(0,P.jsx)(w.AssetProvider.PoolUsd,{textStyle:"captionSmall",color:"primary",fontSize:"md",fontWeight:"700"})]})]}),"AA"===t?(0,P.jsxs)(I.gC,{spacing:1,width:"full",alignItems:"flex-start",children:[(0,P.jsx)(j.Translation,{translation:"defi.seniorCoverage",textStyle:"ctaStatic"}),(0,P.jsx)(w.AssetProvider.Coverage,{textStyle:"captionSmall",color:"primary"})]}):(0,P.jsxs)(I.gC,{spacing:1,width:"full",alignItems:"flex-start",children:[(0,P.jsx)(j.Translation,{translation:"defi.apyBoost",textStyle:"ctaStatic"}),(0,P.jsxs)(I.Ug,{spacing:1,children:[(0,P.jsx)(w.AssetProvider.ApyBoost,{textStyle:"captionSmall",color:"primary"}),(0,P.jsx)(j.Translation,{translation:"defi.moreThanUnderlying",textStyle:"captionSmall",color:"primary"})]})]}),(0,P.jsx)(I.xu,{width:"full",children:(0,P.jsx)(j.Translation,{translation:"trade.vaults.".concat(t,".cta"),mt:4,component:M.zx,width:"full",variant:"ctaPrimary",onClick:function(){e("/earn/".concat(l,"/").concat(o)),L()}})})]})]})]})},"vault_".concat(o))}))})}),[e,L,ce,B,ie,ae]),xe=(0,S.useCallback)((function(e,t,n){(0,b.fU)(t,n,e);var i={subtitle:"defi.chooseTranche",body:fe(e.id)};return U(i,"2xl")}),[U,fe]),ge=(0,S.useMemo)((function(){return(null===oe||void 0===oe?void 0:oe.columns)||de&&A.A[de].columns}),[oe,de]),pe=(0,S.useCallback)((function(e,t,n,i){var a=ie(e.original.id),s=ie(t.original.id);switch(i){case"juniorApy":var r=ae(null===a||void 0===a?void 0:a.vaultConfig.Tranches.BB.address),l=ae(null===s||void 0===s?void 0:s.vaultConfig.Tranches.BB.address),o=(0,b.gA)(r.apy),c=(0,b.gA)(l.apy);return o.gt(c)?-1:1;case"seniorApy":var d=ae(null===a||void 0===a?void 0:a.vaultConfig.Tranches.AA.address),u=ae(null===s||void 0===s?void 0:s.vaultConfig.Tranches.AA.address),f=(0,b.gA)(d.apy),x=(0,b.gA)(u.apy);return f.gt(x)?-1:1;default:return 1}}),[ie,ae]),he=(0,S.useCallback)((function(e){switch(e){case"alpha":return b.YC;case"numeric":return b._O;case"trancheApy":return pe;default:return}}),[pe]),ve=(0,S.useMemo)((function(){return de&&ge?ge.filter((function(e){return!e.tables||e.tables.includes("Available")})).map((function(e){var n=e.id,i=e.accessor,s=e.sortType,r=he(s);return{id:n,accessor:i,width:e.width,disableSortBy:!r,defaultCanSort:!!r,Header:t(e.title||"defi.".concat(n)),sortType:r?function(e,t){return r(e,t,i,n)}:void 0,Cell:function(t){var i=t.value,s=t.row;return e.extraFields&&e.extraFields.length>0?(0,P.jsxs)(I.Kq,(0,a.Z)((0,a.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,P.jsx)(Z,{field:n,value:i,row:s}),(0,P.jsx)(I.kC,(0,a.Z)((0,a.Z)({flex:1},e.stackProps),{},{children:e.extraFields.map((function(e){return(0,P.jsx)(Z,{field:e,value:i,row:s,showLoader:!1},"extraField_".concat(e))}))}))]})):(0,P.jsx)(Z,{field:n,value:i,row:s})}}})):[]}),[de,ge,t,he]),me=(0,S.useMemo)((function(){return de&&ge?ge.filter((function(e){return!e.tables||e.tables.includes("Deposited")})).map((function(e){var n=e.id,i=e.accessor,s=e.sortType,r="alpha"===s?b.YC:"numeric"===s?b._O:void 0;return{id:n,accessor:i,disableSortBy:!r,defaultCanSort:!!r,Header:t(e.title||"defi.".concat(n)),sortType:r?function(e,t){return r(e,t,i)}:void 0,Cell:function(t){var i=t.value,s=t.row;return e.extraFields&&e.extraFields.length>0?(0,P.jsxs)(I.Kq,(0,a.Z)((0,a.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,P.jsx)(Z,{field:n,value:i,row:s}),(0,P.jsx)(I.kC,(0,a.Z)((0,a.Z)({flex:1},e.stackProps),{},{children:e.extraFields.map((function(e){return(0,P.jsx)(Z,{field:e,value:i,row:s,showLoader:!1},"extraField_".concat(e))}))}))]})):(0,P.jsx)(Z,{field:n,value:i,row:s})}}})):[]}),[de,ge,t]),je=(0,S.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,i.Z)(me),[{accessor:"balanceUsd",Header:t("defi.balance"),Cell:function(e){var t=e.value;return(0,P.jsx)(T.N2,{noOfLines:2,isLoaded:!!t,children:(0,P.jsx)(d.Amount.Usd,{value:t,textStyle:"tableCell"})})},sortType:b._O},{accessor:"vaultPosition",Header:t("defi.realizedApy"),Cell:function(e){var t=e.value;return(0,P.jsx)(T.N2,{noOfLines:2,isLoaded:!!t,children:t&&(0,P.jsxs)(k.kN,{children:[(0,P.jsx)(k.Jf,{children:(0,P.jsxs)(I.kC,{direction:"row",alignItems:"center",children:[!t.realizedApy.isNaN()&&(0,P.jsx)(k.uY,{type:"increase"}),(0,P.jsx)(d.Amount.Percentage,{value:t.realizedApy,textStyle:"tableCell"})]})}),(0,P.jsx)(d.Amount.Usd,{prefix:"+",value:t.usd.earnings,textStyle:"captionSmall"})]})})},sortType:function(e,t){return(0,b._O)(e,t,"vaultPosition.earningsPercentage")}}])}),[t,me]),ye=(0,S.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,i.Z)(ve))}),[ve]),Ae=(0,S.useMemo)((function(){return se&&te&&ce&&null!==n&&void 0!==n&&n.address?null===ce||void 0===ce?void 0:ce.reduce((function(e,t){var n=le(t);return[].concat((0,i.Z)(e),(0,i.Z)(n||[]))}),[]):[]}),[te,n,se,le,ce]),we=(0,S.useMemo)((function(){if(!re||!te)return[];var e=function(e){return Ae.map((function(e){return e.id})).includes(e.id)};return re(de).reduce((function(t,n){if("deprecated"===n.status)return t;if(e(n)){var i=ie(n.id);if(i){var a="AA"===n.type?"BB":"AA",s=ee.find((function(e){return"cdoConfig"in e&&"cdoConfig"in i&&e.type===a&&e.cdoConfig.address===i.cdoConfig.address}));if(s){var r=ae(s.id);"deprecated"===(null===r||void 0===r?void 0:r.status)||e(r)||t.push(r)}}}else t.push(n);return t}),[])}),[te,ee,ae,ie,re,Ae,de]),Se=(0,S.useMemo)((function(){return re&&te?re(de).filter((function(e){return!Ae.map((function(e){return e.id})).includes(e.id)&&"deprecated"===e.status&&(0,b.d5)(e.tvlUsd).gt(500)})):[]}),[te,re,Ae,de]),Ce=(0,S.useMemo)((function(){return de?"".concat(de,"_deposited"):""}),[de]),be=(0,S.useMemo)((function(){if(!de)return"";var e=t(A.A[de].label);return"".concat(e," - ").concat(t("defi.deposited"))}),[de,t]),Te=(0,S.useMemo)((function(){return de?"".concat(de,"_available"):""}),[de]),Ie=(0,S.useMemo)((function(){if(!de)return"";var e=t(A.A[de].label);return"".concat(e," - ").concat(t("common.available"))}),[de,t]),ze=(0,S.useMemo)((function(){return de?"".concat(de,"_deprecated"):""}),[de]),Me=(0,S.useMemo)((function(){if(!de)return"";var e=t(A.A[de].label);return"".concat(e," - ").concat(t("common.deprecated"))}),[de,t]);(0,S.useEffect)((function(){if(de&&J!==de&&Ae.length){var e=Ae.map((function(e){return(0,b.ym)(e,Ce,be)}));(0,b.y6)(Ce,be,e),Q(de)}}),[n,de,t,Ce,be,Ae,J,Q]),(0,S.useEffect)((function(){if(de&&K!==de&&we.length){var e=we.map((function(e){return(0,b.ym)(e,Te,Ie)}));(0,b.y6)(Te,Ie,e),X(de)}}),[n,t,Te,Ie,K,X,de,we]);var ke=(0,S.useMemo)((function(){if(!Ae.length)return null;var e=Ae.filter((function(e){return!V||!V.length||null!==new RegExp(V,"i").exec(e.name)||null!==new RegExp(V,"i").exec(e.protocol)}));return B?(0,P.jsxs)(I.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,P.jsx)(j.Translation,{translation:"defi.depositedAssets",component:I.X6,as:"h3",fontSize:"lg"}),(0,P.jsx)(I.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:e.map((function(e){return e.id&&(0,P.jsx)(h.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})]}):(0,P.jsxs)(r.Card,{mt:10,children:[(0,P.jsxs)(I.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between",children:[(0,P.jsx)(j.Translation,{translation:"defi.depositedAssets",component:r.Card.Heading,fontSize:"lg"}),(0,P.jsx)(p.SearchBar,{placeholder:"defi.searchToken",handleSearchChange:q})]}),(0,P.jsx)(m.ReactTable,{columns:je,data:e,initialState:{sortBy:[{id:"balanceUsd",desc:!1}]},onRowClick:function(e){return ue(e,Ce,be)}})]})}),[B,je,V,q,Ce,be,Ae,ue]),Pe=(0,S.useMemo)((function(){if(te&&!we.length)return null;var e=we.filter((function(e){return!_||!_.length||null!==new RegExp(_,"i").exec(e.name)||null!==new RegExp(_,"i").exec(e.protocol)}));return B?(0,P.jsxs)(I.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,P.jsx)(j.Translation,{translation:"defi.availableAssets",component:I.X6,as:"h3",fontSize:"lg"}),(0,P.jsx)(I.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:e.map((function(e){return e.id&&(0,P.jsx)(h.VaultCard.Tranche,{assetId:e.id,onClick:function(){return xe(e,Te,Ie)}},"vault_".concat(e.id))}))})]}):(0,P.jsxs)(r.Card,{mt:10,children:[(0,P.jsxs)(I.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between",children:[(0,P.jsx)(j.Translation,{translation:"defi.availableAssets",component:r.Card.Heading,fontSize:"lg"}),(0,P.jsx)(p.SearchBar,{placeholder:"defi.searchToken",handleSearchChange:F})]}),te?(0,P.jsx)(m.ReactTable,{columns:ye,data:e,initialState:{sortBy:[{id:"trancheTotalTvl",desc:!1}]},onRowClick:function(e){return xe(e.original,Te,Ie)}}):(0,P.jsxs)(I.Kq,{children:[(0,P.jsx)(T.Od,{}),(0,P.jsx)(T.Od,{})]})]})}),[B,te,_,F,ye,Te,Ie,we,xe]),Ze=(0,S.useMemo)((function(){if(!te||!Se.length)return null;return B?(0,P.jsxs)(I.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,P.jsx)(j.Translation,{translation:"defi.deprecatedAssets",component:I.X6,as:"h3",fontSize:"lg"}),(0,P.jsx)(I.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:Se.map((function(e){return e.id&&(0,P.jsx)(h.VaultCard.Tranche,{assetId:e.id,onClick:function(){return xe(e,ze,Me)}},"vault_".concat(e.id))}))})]}):(0,P.jsxs)(r.Card,{mt:10,children:[(0,P.jsx)(j.Translation,{translation:"defi.deprecatedAssets",component:r.Card.Heading,fontSize:"lg"}),Se.length?(0,P.jsx)(m.ReactTable,{columns:ye,data:Se,initialState:{sortBy:[{id:"trancheTotalTvl",desc:!1}]},onRowClick:function(e){return xe(e.original,ze,Me)}}):(0,P.jsxs)(I.Kq,{children:[(0,P.jsx)(T.Od,{}),(0,P.jsx)(T.Od,{})]})]})}),[B,te,ye,ze,Me,Se,xe]),Be=(0,S.useMemo)((function(){if(!de)return null;var e=null===oe||void 0===oe?void 0:oe.modal;return(0,P.jsx)(I.gC,{width:"full",spacing:10,children:(0,P.jsxs)(I.Kq,{spacing:[8,0],direction:["column","row"],alignItems:["center","flex-start"],width:["100%","100%","100%","100%","80%"],children:[(0,P.jsxs)(I.gC,{pr:[0,0],spacing:10,direction:"column",width:["100%","50%"],alignItems:["center","flex-start"],children:[(0,P.jsx)(j.Translation,{isHtml:!0,translation:"strategies.tranches.title",component:I.X6,fontFamily:"body",as:"h2",size:"3xl",fontWeight:"bold",lineHeight:"normal"}),!B&&(0,P.jsxs)(I.gC,{spacing:1,width:["100%","90%"],alignItems:"flex-start",children:[(0,P.jsx)(j.Translation,{isHtml:!0,translation:"strategies.tranches.description",textAlign:["center","left"]}),e&&(0,P.jsxs)(I.Ug,{spacing:2,children:[(0,P.jsx)(j.Translation,{translation:"defi.modals.learnMore.cta.learnMore",textStyle:"cta",onClick:function(){return U(e)}}),(0,P.jsx)(u.KEG,{})]})]}),!B&&(0,P.jsx)(C.StrategyOverview,{showLoading:!1,strategies:ce})]}),(0,P.jsx)(z.Ee,{width:["100%","50%"],src:null===oe||void 0===oe?void 0:oe.image}),B&&(0,P.jsx)(j.Translation,{isHtml:!0,translation:"strategies.tranches.description",textAlign:["center","left"]}),B&&(0,P.jsx)(C.StrategyOverview,{showLoading:!1,strategies:ce})]})})}),[de,oe,ce,B,U]);return(0,P.jsxs)(I.kC,{mt:20,width:"100%",direction:"column",alignItems:"center",children:[Be,ke,Pe,Ze]})}},1494:function(e,t,n){n.d(t,{O:function(){return u}});var i=n(93433),a=n(4942),s=n(1413),r=n(7276),l=n(99594),o=n(79681),c=n(12056),d=n(1669),u=function(e){var t=e.assetIds,n=e.strategies,u=(0,o.qM)(),f=(0,d.w)().selectors,x=f.selectAssetById,g=f.selectAssetsByIds,p=(0,r.useMemo)((function(){return g?g(t):[]}),[t,g]),h=Object.keys(c.A).reduce((function(e,t){return(0,s.Z)((0,s.Z)({},e),{},(0,a.Z)({},t,{balance:(0,l.gA)(0),deposited:(0,l.gA)(0),weightedRealizedApy:(0,l.gA)(0)}))}),{}),v=(0,r.useMemo)((function(){return p.filter((function(e){return e.type&&(!n||n.includes(e.type))})).reduce((function(e,t){var n;return t.type&&t.vaultPosition?(e[t.type].balance=e[t.type].balance.plus(t.vaultPosition.usd.redeemable),e[t.type].deposited=e[t.type].deposited.plus(t.vaultPosition.usd.deposited),(0,l.gA)(null===(n=t.vaultPosition)||void 0===n?void 0:n.realizedApy).gt(0)&&(e[t.type].weightedRealizedApy=e[t.type].weightedRealizedApy.plus(t.vaultPosition.realizedApy.times(t.vaultPosition.usd.redeemable))),e):e}),h)}),[p,n,h]),m=(0,r.useMemo)((function(){return p.filter((function(e){return e.type&&(!n||n.includes(e.type))})).reduce((function(e,t){if(!t.underlyingId||!t.vaultPosition)return e;var n=x(t.underlyingId);return n?(e[n.id]||(e[n.id]=(0,l.gA)(0)),e[n.id]=e[n.id].plus(t.vaultPosition.usd.redeemable),e):e}),{})}),[p,n,x]),j={assets:[],strategies:[]};j.strategies=(0,r.useMemo)((function(){return Object.keys(v).map((function(e){return{label:u(c.A[e].label),extraData:{avgRealizedApy:v[e].balance.gt(0)?parseFloat(v[e].weightedRealizedApy.div(v[e].balance)):0,strategy:c.A[e],deposited:parseFloat(v[e].deposited)},value:parseFloat(v[e].balance)}}))}),[v,u]),j.assets=(0,r.useMemo)((function(){return Object.keys(m).reduce((function(e,t){var a=x(t);return!a||a.type&&(!n||n.includes(a.type))?e:[].concat((0,i.Z)(e),[{label:a.name,extraData:{asset:a},value:parseFloat(m[t])}])}),[])}),[m,x,n]);var y={assets:{},strategies:{}};return y.strategies=(0,r.useMemo)((function(){return Object.values(c.A).reduce((function(e,t){var n=u(t.label);return(0,s.Z)((0,s.Z)({},e),{},(0,a.Z)({},n,t.color))}),{})}),[u]),y.assets=(0,r.useMemo)((function(){return Object.keys(m).reduce((function(e,t){var n=x(t);if(!n)return e;var i=n.name;return(0,s.Z)((0,s.Z)({},e),{},(0,a.Z)({},i,n.color))}),{})}),[m,x]),{colors:y,compositions:j}}}}]);