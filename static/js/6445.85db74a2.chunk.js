"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[6445,1838,8194,745,8024],{6445:function(e,t,n){n.r(t),n.d(t,{AssetDiscountedFees:function(){return v}});var o=n(1413),s=n(54447),r=n(87099),i=n(86059),l=n(7276),a=n(39807),d=n(80745),u=n(97778),c=n(15542),f=n(1669),m=n(3498),x=n(20910),g=n(75712),h=n(48024),p=n(61838),b=n(45263),v=function(e){var t=e.assetId,n=(0,a.f)().openModal,v=(0,f.w)(),y=v.stakingData,j=v.selectors.selectAssetById,S=(0,l.useMemo)((function(){return j&&j(t)}),[j,t]),C=(0,l.useCallback)((function(){var e={cta:"defi.modals.feeDiscount.cta",body:(0,b.jsxs)(m.gC,{spacing:2,width:"full",children:[(0,b.jsx)(c.Translation,{translation:"defi.modals.feeDiscount.body",isHtml:!0}),(0,b.jsx)(p.FeeDiscountTable,{showHeader:!1,sortEnabled:!1})]}),subtitle:"defi.modals.feeDiscount.title"};return n(e,"2xl")}),[n]),w=(0,l.useMemo)((function(){return(0,x.xb)(null===S||void 0===S?void 0:S.discountedFees)?null:(0,b.jsx)(d.Scrollable,{maxH:400,children:(0,x.Pf)(null===S||void 0===S?void 0:S.discountedFees,"timeStamp","desc").map((function(e){var t=(0,o.Z)((0,o.Z)({},e.tx),{},{action:"feeDiscount",idlePrice:(0,x.gA)(0),idleAmount:(0,x.gA)(0),chainId:e.chainId,assetId:e.assetId,underlyingAmount:e.value});return(0,b.jsx)(h.TransactionItem,{transaction:t},"tx_".concat(t.hash))}))})}),[null===S||void 0===S?void 0:S.discountedFees]),I=(0,l.useCallback)((function(){return n({cta:"common.close",body:w,subtitle:"common.discountsHistory"},"2xl")}),[n,w]),T=(0,l.useMemo)((function(){return!S||(0,x.xb)(S.discountedFees)?(0,x.gA)(0):S.discountedFees.reduce((function(e,t){return e.plus(t.value)}),(0,x.gA)(0))}),[S]),k=(0,l.useMemo)((function(){return(0,x.xb)(null===S||void 0===S?void 0:S.discountedFees)?null:(0,x.Pf)(S.discountedFees,"timeStamp","desc")[0]}),[S]),R=(0,l.useMemo)((function(){var e;return S&&"flags"in S&&!(null===(e=S.flags)||void 0===e||!e.feeDiscountEnabled)}),[S]);return S&&S.underlyingId&&R?(0,b.jsxs)(m.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,b.jsx)(c.Translation,{component:m.X6,as:"h3",fontSize:"h3",translation:"defi.discountedFees"}),(0,b.jsx)(m.gC,{spacing:4,width:"full",alignItems:"flex-start",children:(0,b.jsx)(s.Card,{py:6,px:8,width:"full",children:(0,b.jsx)(g.AssetProvider,{assetId:S.underlyingId,children:(0,b.jsxs)(m.MI,{width:"full",spacing:[3,0],columns:[2,4],justifyContent:"center",alignItems:"space-between",children:[(0,b.jsx)(u.TokenAmount,{assetId:S.underlyingId,size:"sm",spacing:3,amount:T,showIcon:!0,textStyle:"heading",fontSize:"h3"}),(0,b.jsxs)(m.gC,{spacing:1,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,b.jsx)(c.Translation,{component:m.xv,translation:"defi.feeDiscount",textStyle:"titleSmall"}),(0,b.jsx)(i.Amount.Percentage,{value:null===y||void 0===y?void 0:y.feeDiscount,textStyle:"tableCell"})]}),(0,b.jsxs)(m.gC,{spacing:1,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,b.jsx)(c.Translation,{component:m.xv,translation:"common.lastDistribution",textStyle:"titleSmall"}),k?(0,b.jsx)(m.xv,{textStyle:"tableCell",children:(0,x.p6)(k.timeStamp,r.Cu)}):(0,b.jsx)(m.xv,{textStyle:"tableCell",children:"-"})]}),(0,b.jsx)(m.gC,{justifyContent:"center",alignItems:"flex-end",children:k?(0,b.jsx)(c.Translation,{translation:"assets.assetDetails.assetHistory.discountsHistory",textStyle:"linkBlue",fontSize:"md",fontWeight:700,onClick:function(){return I()}}):(0,b.jsx)(c.Translation,{translation:"common.howItWorks",textStyle:"linkBlue",fontSize:"md",fontWeight:700,onClick:function(){return C()}})})]})})})})]}):null}},61838:function(e,t,n){n.r(t),n.d(t,{FeeDiscountTable:function(){return g}});var o=n(1413),s=n(45987),r=n(20910),i=n(7276),l=n(79681),a=n(86059),d=n(54447),u=n(58194),c=n(15542),f=n(76590),m=n(45263),x=["showHeader","sortEnabled"],g=function(e){var t=e.showHeader,n=void 0===t||t,g=e.sortEnabled,h=void 0===g||g,p=(0,s.Z)(e,x),b=(0,l.qM)(),v=(0,i.useMemo)((function(){return Object.keys(f.S).reduce((function(e,t,n){return e.push({tier:n+1,amount:t,discount:f.S[+t]}),e}),[])}),[]),y=(0,i.useMemo)((function(){return[{id:"tier",accessor:"tier",disableSortBy:!h,defaultCanSort:h,Header:b("feeDiscount.table.columns.tier"),Cell:function(e){var t=e.value;return(0,m.jsx)(a.Amount.Int,{textStyle:"tableCell",value:t})},sortType:r._O},{id:"amount",accessor:"amount",disableSortBy:!h,defaultCanSort:h,Header:b("feeDiscount.table.columns.stkIDLE"),Cell:function(e){var t=e.value;return(0,m.jsx)(a.Amount,{abbreviate:!1,decimals:0,textStyle:"tableCell",prefix:"\u2265 ",value:t})},sortType:r._O},{id:"discount",accessor:"discount",disableSortBy:!h,defaultCanSort:h,Header:b("feeDiscount.table.columns.feeDiscount"),Cell:function(e){var t=e.value;return(0,m.jsx)(a.Amount.Percentage,{textStyle:"tableCell",value:t})},sortType:r._O}]}),[h,b]);return(0,m.jsxs)(d.Card,(0,o.Z)((0,o.Z)({p:0},p),{},{children:[n&&(0,m.jsx)(c.Translation,{translation:"feeDiscount.table.header",fontSize:"lg",component:d.Card.Heading}),(0,m.jsx)(c.Translation,{translation:"feeDiscount.table.description",fontSize:"sm"}),(0,m.jsx)(u.ReactTable,{columns:y,data:v,page:1,rowsPerPage:v.length,initialState:{sortBy:[{id:"tier",desc:!0}]}})]}))}},58194:function(e,t,n){n.r(t),n.d(t,{ReactTable:function(){return x}});var o=n(1413),s=n(29439),r=n(7276),i=n(55967),l=n(63591),a=n(96699),d=n(3498),u=n(26720),c=n(67503),f=n(45263),m=function(e){var t=e.column,n=(0,a.Fg)();return(0,f.jsxs)(d.kC,{alignItems:"center",layerStyle:"tableHeader",justifyContent:"space-between",children:[t.render("Header"),t.canSort&&(0,f.jsxs)(d.kC,{direction:"column",children:[(0,f.jsx)(i.rWj,{size:20,fill:t.isSorted&&t.isSortedDesc?n.colors.primary:n.colors.table.arrow,"aria-label":"sorted ascending",style:{position:"absolute"}}),(0,f.jsx)(i.Ix0,{size:20,fill:t.isSorted?t.isSortedDesc?n.colors.table.arrow:n.colors.primary:n.colors.table.arrow,"aria-label":"sorted descending",style:{marginTop:10}})]})]})},x=function(e){var t=e.columns,n=e.data,x=e.page,g=e.rowsPerPage,h=e.displayHeaders,p=void 0===h||h,b=e.onRowClick,v=e.onToggleRow,y=e.initialState,j=(0,a.Fg)(),S=(0,u.ff)("black","white"),C=(0,r.useState)(null),w=(0,s.Z)(C,2),I=w[0],T=w[1],k=(0,l.useTable)({columns:t,data:n,initialState:y},l.useSortBy),R=k.getTableProps,Z=k.getTableBodyProps,A=k.headerGroups,D=k.rows,P=k.prepareRow,B=(0,r.useCallback)((function(e){T((function(t){return t===e?null:e}))}),[T]);(0,r.useEffect)((function(){if(v)return v(I)}),[v,I]);var H=(0,r.useMemo)((function(){return g&&x?D.slice(g*(x-1),g*x):D}),[D,x,g]),z=(0,r.useMemo)((function(){return H.map((function(e,t){var n=!1;P(e);var s=t===H.length-1,l=s&&!I?{borderBottom:0}:{};return(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(c.Tr,(0,o.Z)((0,o.Z)({},e.getRowProps()),{},{tabIndex:e.index,layerStyle:"tableRow",backgroundColor:I===e?"card.bgLight":"initial",onClick:function(){var t;return(null===(t=e.subRows)||void 0===t?void 0:t.length)>0?B(e):null===b||void 0===b?void 0:b(e)},cursor:b?"pointer":void 0,sx:l,children:e.cells.map((function(t,s){var l,a=!n&&"none"!==t.column.display,u=s===e.cells.length-1;a&&(n=!0);var m=a?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:u?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,r.createElement)(c.Td,(0,o.Z)((0,o.Z)({},t.getCellProps()),{},{display:t.column.display,sx:m,key:s}),(0,f.jsxs)(d.Ug,{flex:1,width:"full",justifyContent:"space-between",children:[t.render("Cell"),u&&(null===(l=e.subRows)||void 0===l?void 0:l.length)>0&&(I===e?(0,f.jsx)(i.rWj,{size:24,color:j.colors.primary}):(0,f.jsx)(i.Ix0,{size:24,color:j.colors.primary}))]}))}))})),I===e&&e.subRows.map((function(t,i){P(t);var l=i===e.subRows.length-1,a=s&&l?{borderBottom:0}:{};return(0,r.createElement)(c.Tr,(0,o.Z)((0,o.Z)({},t.getRowProps()),{},{tabIndex:t.index,layerStyle:"tableRow",backgroundColor:"button.bgHover",onClick:function(){return null===b||void 0===b?void 0:b(t)},cursor:b?"pointer":void 0,sx:a,key:i}),t.cells.map((function(e,s){var i=!n&&"none"!==e.column.display,l=s===t.cells.length-1;i&&(n=!0);var a=i?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:l?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,r.createElement)(c.Td,(0,o.Z)((0,o.Z)({},e.getCellProps()),{},{display:e.column.display,sx:a,key:s}),e.render("Cell"))})))}))]},t)}))}),[B,I,P,j,H,b]);return(0,f.jsxs)(c.iA,(0,o.Z)((0,o.Z)({variant:"clickable",size:{base:"sm",md:"md"}},R()),{},{children:[p&&(0,f.jsx)(c.hr,{children:A.map((function(e,t){var n=!1;return(0,r.createElement)(c.Tr,(0,o.Z)((0,o.Z)({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map((function(t,s){var i=!n&&"none"!==t.display,l=s===e.headers.length-1;i&&(n=!0);var a=i?{paddingLeft:0,paddingRight:4}:l?{paddingLeft:4,paddingRight:0}:{paddingLeft:4,paddingRight:4};return t.width&&(a.width=t.width),(0,r.createElement)(c.Th,(0,o.Z)((0,o.Z)({},t.getHeaderProps(t.getSortByToggleProps({title:void 0}))),{},{color:"gray.500",fontWeight:400,display:t.display,textAlign:t.textAlign,_hover:{color:t.canSort?S:"gray.500"},style:a,key:s}),(0,f.jsx)(m,{column:t}))})))}))}),(0,f.jsx)(c.p3,(0,o.Z)((0,o.Z)({},Z()),{},{children:z}))]}))}},80745:function(e,t,n){n.r(t),n.d(t,{Scrollable:function(){return a}});var o=n(1413),s=n(45987),r=(n(7276),n(3498)),i=n(45263),l=["children"],a=function(e){var t=e.children,n=(0,s.Z)(e,l);return(0,i.jsx)(r.kC,(0,o.Z)((0,o.Z)({flex:1,width:"100%",overflowY:"auto",overflowX:"hidden",direction:"column",alignItems:"flex-start"},n),{},{children:t}))}},48024:function(e,t,n){n.r(t),n.d(t,{TransactionItem:function(){return c}});var o=n(20910),s=n(87099),r=n(86059),i=n(3498),l=n(97778),a=n(15542),d=n(10658),u=n(45263),c=function(e){var t=e.transaction;return(0,u.jsxs)(i.gC,{mb:2,pb:4,spacing:4,width:"100%",alignItems:"flex-start",borderBottomWidth:"1px",borderBottomColor:"divider",children:[(0,u.jsxs)(i.Ug,{width:"100%",justifyContent:"space-between",children:[(0,u.jsx)(i.Ug,{spacing:3,direction:"row",alignItems:"center",children:(0,u.jsx)(a.Translation,{component:i.xv,translation:"transactionRow.".concat(t.action),textStyle:"captionSmall"})}),(0,u.jsx)(i.xv,{textStyle:"captionSmall",children:(0,o.p6)(1e3*+t.timeStamp,s.Cu)})]}),(0,u.jsxs)(i.Ug,{width:"100%",justifyContent:"space-between",children:[(0,u.jsxs)(i.Ug,{spacing:1,alignItems:"center",children:[(0,u.jsx)(l.TokenAmount,{assetId:t.assetId,amount:t.underlyingAmount,size:"xs",textStyle:"tableCell"}),t.amountUsd&&!(0,o.gA)(t.amountUsd).eq(t.underlyingAmount)&&(0,u.jsx)(r.Amount.Usd,{prefix:"~",value:t.amountUsd,color:"cta",fontSize:"xs"})]}),(0,u.jsx)(d.TransactionLink,{hash:t.hash,chainId:t.chainId})]})]})}}}]);