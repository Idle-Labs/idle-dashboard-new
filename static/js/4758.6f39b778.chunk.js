"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[4758,1617,907,7360,2258,1608],{61617:function(t,e,n){n.r(e),n.d(e,{AssetLabel:function(){return u}});var i=n(1413),r=n(45987),s=n(3498),a=n(75712),o=n(45263),c=["assetId","size","spacing","extraFields"],u=function(t){var e=t.assetId,n=t.size,u=void 0===n?"sm":n,d=t.spacing,l=t.extraFields,f=(0,r.Z)(t,c);return(0,o.jsx)(a.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,o.jsxs)(s.Ug,{spacing:d,alignItems:"center",justifyContent:"flex-start",children:[(0,o.jsx)(a.AssetProvider.Icon,{size:u}),(0,o.jsx)(a.AssetProvider.Name,(0,i.Z)({textStyle:"heading",fontSize:["15px","h3"],whiteSpace:"nowrap"},f)),null===l||void 0===l?void 0:l.map((function(t){return(0,o.jsx)(a.AssetProvider.GeneralData,{field:t},"extraField_".concat(t))}))]})})}},94758:function(t,e,n){n.r(e),n.d(e,{MaticNFTs:function(){return p}});var i=n(20910),r=n(7276),s=n(54447),a=n(87099),o=n(86059),c=n(82172),u=n(61617),d=n(15542),l=n(1669),f=n(3498),m=n(75712),h=n(72258),v=n(67360),x=n(45263),p=function(t){var e=t.assetId,n=(0,c.Y)().chainId,p=(0,l.w)(),g=p.maticNFTs,w=p.selectors,j=w.selectAssetById,y=w.selectVaultById,I=(0,r.useMemo)((function(){return j&&j(e)}),[j,e]),S=(0,r.useMemo)((function(){return y&&y(e)}),[y,e]);return(0,r.useMemo)((function(){var t;return S&&"flags"in S&&(null===(t=S.flags)||void 0===t?void 0:t.showMaticNFTs)}),[S])&&null!==g&&void 0!==g&&g.length?(0,x.jsxs)(f.gC,{spacing:6,width:"100%",id:"vault-rewards",alignItems:"flex-start",children:[(0,x.jsx)(d.Translation,{translation:"defi.claimableNTFs",component:f.xv,textStyle:"heading",fontSize:"h3"}),(0,x.jsx)(f.MI,{spacing:6,width:"100%",columns:[1,3],children:g&&g.map((function(t){return(0,x.jsx)(s.Card,{p:6,children:(0,x.jsxs)(f.gC,{spacing:6,width:"100%",alignItems:"flex-start",children:[(0,x.jsxs)(f.Ug,{width:"100%",justifyContent:"space-between",children:[(0,x.jsx)(u.AssetLabel,{assetId:e}),(0,x.jsxs)(f.xv,{textStyle:"heading",fontSize:"h3",whiteSpace:"nowrap",children:["#",t.tokenId]})]}),(0,x.jsxs)(f.Ug,{spacing:4,width:"100%",justifyContent:"space-between",children:[1!==n?(0,x.jsx)(v.SwitchNetworkButton,{chainId:1,size:"sm"}):"available"===t.status?(0,x.jsx)(h.TransactionButton,{text:"defi.claim",vaultId:null===S||void 0===S?void 0:S.id,assetId:null===I||void 0===I?void 0:I.underlyingId,contractSendMethod:t.contractSendMethod,actionType:"claim",amount:t.amount.toString(),disabled:t.amount.lte(0)}):(0,x.jsxs)(f.gC,{spacing:1,alignItems:"flex-start",children:[(0,x.jsx)(d.Translation,{component:f.xv,translation:"defi.estUnlockDate",textStyle:"captionSmall"}),(0,x.jsx)(f.Ug,{spacing:1,children:(0,x.jsx)(f.xv,{textStyle:"tableCell",children:(0,i.p6)(t.unlockTimestamp,a.Cu)})})]}),(0,x.jsxs)(f.gC,{spacing:1,alignItems:"flex-end",children:[(0,x.jsx)(d.Translation,{component:f.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,x.jsxs)(f.Ug,{spacing:1,justifyContent:"flex-end",children:[(0,x.jsx)(o.Amount,{value:t.amount,decimals:8,textStyle:"tableCell"}),(0,x.jsx)(m.AssetProvider,{assetId:null===I||void 0===I?void 0:I.underlyingId,children:(0,x.jsx)(m.AssetProvider.Name,{textStyle:"tableCell"})})]})]})]})]})},"nft_".concat(t.tokenId))}))})]}):null}},67360:function(t,e,n){n.r(e),n.d(e,{SwitchNetworkButton:function(){return v}});var i=n(1413),r=n(29439),s=n(45987),a=n(7276),o=n(65963),c=n(74285),u=n(98258),d=n(43127),l=n(82172),f=n(15542),m=n(45263),h=["chainId"],v=function(t){var e=t.chainId,n=(0,s.Z)(t,h),v=(0,c.Um)(),x=(0,r.Z)(v,2)[1],p=(0,l.Y)(),g=p.chainId,w=p.setChainId,j=(0,a.useCallback)((function(){if(+g!==+e)return w(e);var t=(0,u.G1)(e);return t?x({chainId:t.id}):void 0}),[e,g,x,w]);return(0,m.jsx)(f.Translation,(0,i.Z)({component:d.zx,translation:"network.switchTo",params:{network:o.Q[e].name},onClick:function(){return j()},variant:"ctaPrimary",width:["full","auto"],px:10,py:2},n))}},72258:function(t,e,n){n.r(e),n.d(e,{TransactionButton:function(){return S},TransactionButtonValue:function(){return I}});var i=n(1413),r=n(29439),s=n(45987),a=(n(81608),n(74285)),o=n(98258),c=n(82172),u=n(55967),d=n(15542),l=n(1669),f=n(53293),m=n(23023),h=n(7276),v=n(96699),x=n(52486),p=n(3498),g=n(43127),w=n(45263),j=["text","contractSendMethod"],y=["text","amount","assetId","vaultId","actionType","contractSendMethod"],I=function(t){var e,n=t.text,a=t.contractSendMethod,o=(0,s.Z)(t,j),c=(0,v.Fg)(),l=(0,h.useRef)(null),f=(0,h.useState)(null),g=(0,r.Z)(f,2),y=g[0],I=g[1],S=(0,m.R)(),C=S.state.transaction,b=S.cleanTransaction,T=(0,h.useMemo)((function(){var t;return JSON.stringify(null===C||void 0===C||null===(t=C.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(a._method)}),[C,a]),k=(0,h.useMemo)((function(){return T&&C.status&&["pending","success","failed"].includes(C.status)&&C.estimatedTime}),[C,T]),M=(0,h.useMemo)((function(){return k&&"pending"===C.status?C.estimatedTime:.5}),[k,C]),Z=(0,h.useCallback)((function(){if(!C.timestamp||!C.estimatedTime)return null;var t=+C.timestamp+1e3*C.estimatedTime,e=Math.max(0,Math.ceil((t-Date.now())/1e3));I(e),e&&(l.current=setTimeout((function(){Z()}),1e3))}),[C]);(0,h.useEffect)((function(){var t;T&&("success"===C.status||"failed"===C.status?(l.current&&(clearInterval(l.current),l.current=null),"success"!==C.status&&4001===(null===(t=C.error)||void 0===t?void 0:t.code)||setTimeout((function(){b()}),4e3)):"pending"!==C.status||l.current||Z())}),[T,C.status,Z,b,null===(e=C.error)||void 0===e?void 0:e.code]);var z=(0,h.useMemo)((function(){var t;if(T)switch(null===C||void 0===C?void 0:C.status){case"created":return(0,w.jsx)(x.$,{size:"sm"});case"pending":return C.timestamp&&C.estimatedTime&&y?(0,w.jsxs)(p.xv,{textStyle:"ctaStatic",children:[y,"s"]}):(0,w.jsx)(x.$,{size:"sm"});case"success":return(0,w.jsx)(p.kC,(0,i.Z)((0,i.Z)({},o),{},{alignItems:"center",justifyContent:"center",children:(0,w.jsx)(u.ddU,{size:24,color:c.colors.green[400]})}));case"failed":if(4001!==(null===(t=C.error)||void 0===t?void 0:t.code))return(0,w.jsx)(p.kC,(0,i.Z)((0,i.Z)({},o),{},{alignItems:"center",justifyContent:"center",children:(0,w.jsx)(u.lTq,{size:24,color:c.colors.red[400]})}))}return(0,w.jsx)(d.Translation,{translation:n,textStyle:"ctaStatic"})}),[T,y,C,n,c,o]),N=(0,h.useMemo)((function(){switch(C.status){case"success":case"failed":return"transparent";default:return"primary"}}),[C]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.kC,{top:0,left:0,bottom:0,bg:N,overflow:"hidden",position:"absolute",alignItems:"center",justifyContent:"center",transition:"background 0.5s ease-in-out",sx:{animationIterationCount:1,animationFillMode:"forwards",animationTimingFunction:"ease-in-out",animationDuration:"".concat(M,"s"),animationName:k?"progress":"none",animationPlayState:k?"running":"stopped"},children:(0,w.jsx)(p.kC,{left:0,width:o.width,alignItems:"center",position:"absolute",justifyContent:"center",sx:{"> *":{color:"black !important",borderColor:"black !important"}},children:z})}),z]})},S=function(t){var e=t.text,n=t.amount,u=t.assetId,d=t.vaultId,v=t.actionType,x=t.contractSendMethod,p=(0,s.Z)(t,y),j=(0,f.Z)(),S=(0,r.Z)(j,2),C=S[0],b=S[1].width,T=(0,a.Um)(),k=(0,r.Z)(T,2)[1],M=(0,l.w)().selectors.selectAssetById,Z=(0,m.R)(),z=Z.sendTransaction,N=Z.state.transaction,A=(0,c.Y)(),F=A.chainId,_=A.isNetworkCorrect,B=A.setChainId,P=(0,h.useMemo)((function(){var t;return JSON.stringify(null===N||void 0===N||null===(t=N.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(x._method)}),[N,x]),U=(0,h.useMemo)((function(){return M?M(u):null}),[M,u]),L=(0,h.useCallback)((function(){if("created"!==N.status&&"pending"!==N.status){var t=(0,o.G1)(null===U||void 0===U?void 0:U.chainId);return!_&&t?k({chainId:t.id}):U.chainId!==F?B(U.chainId):z(d,u,x,v,n)}}),[N,d,u,F,x,v,n,z,U,k,B,_]),E=(0,h.useMemo)((function(){var t;if(!P)return"primary";switch(N.status){case"success":return"green.400";case"failed":return 4001!==(null===(t=N.error)||void 0===t?void 0:t.code)?"red.400":"primary";default:return"primary"}}),[P,N]),O=(0,h.useMemo)((function(){return!!p.disabled}),[p]);return(0,w.jsx)(g.zx,(0,i.Z)((0,i.Z)({py:2,px:10,overflow:"hidden",position:"relative",width:b||"auto",borderColor:E,onClick:function(){return L()},ref:C,variant:"ctaPrimaryOutline",transition:"border 0.5s ease-in-out"},p),{},{disabled:O,children:(0,w.jsx)(I,{text:e,contractSendMethod:x,width:b})}))}},53293:function(t,e,n){n.d(e,{Z:function(){return d}});var i=n(74165),r=n(15861),s=n(29439),a=n(7276),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=null;return function(){n&&clearTimeout(n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];n=setTimeout(e,t,r)}},c={x:0,y:0,top:0,left:0,width:0,height:0,right:0,bottom:0};function u(t){var e=t.getBoundingClientRect();return{x:e.x,y:e.y,top:e.top,left:e.left,width:e.width,height:e.height,right:e.right,bottom:e.bottom}}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=(0,a.useState)(null),n=(0,s.Z)(e,2),d=n[0],l=n[1],f=(0,a.useState)(c),m=(0,s.Z)(f,2),h=m[0],v=m[1],x=(0,a.useCallback)((function(t){l(t)}),[]);return(0,a.useLayoutEffect)((function(){if("undefined"!==typeof window&&d){var e=function(){var t=(0,r.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.requestAnimationFrame((function(){v(u(d))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e();var n=o(t||100,e);return window.addEventListener("resize",n),window.addEventListener("scroll",n),function(){window.removeEventListener("resize",n),window.removeEventListener("scroll",n)}}}),[d,t]),[x,h,d]}},81608:function(t,e,n){n.r(e),e.default={}}}]);