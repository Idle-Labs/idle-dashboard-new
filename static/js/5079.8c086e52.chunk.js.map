{"version":3,"file":"static/js/5079.8c086e52.chunk.js","mappings":"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","sources":["components/Card/Card.tsx","components/ChakraCarousel/ChakraCarousel.js","hooks/useBoundingRect/useBoundingRect.ts"],"sourcesContent":["import { Heading, Flex, Box, FlexProps, BoxProps, ThemingProps } from '@chakra-ui/react'\n\nexport type CardProps = BoxProps & ThemingProps \n\nconst HeadingTitle = (props: CardProps) => {\n  const { children, ...rest } = props\n  return (\n    <Heading as={'h3'} size={'md'} mb={6} {...rest}>{children}</Heading>\n  )\n}\n\nexport const Card = (props: CardProps) => {\n  const { children, layerStyle, ...rest } = props\n  return (\n    <Box\n      width={'100%'}\n      position={'relative'}\n      layerStyle={layerStyle || 'card'}\n      {...rest}\n    >\n      {children}\n    </Box>\n  )\n}\n\nexport const CardFlex = (props: CardProps & FlexProps) => {\n  const { children, layerStyle, ...rest } = props\n  return (\n    <Flex\n      width={'100%'}\n      layerStyle={layerStyle || 'card'}\n      {...rest}\n    >\n      {children}\n    </Flex>\n  )\n}\n\nexport const Dark = (props: CardProps) => {\n  const { children, ...rest } = props\n  const layerStyle: string[] = ['cardDark'].concat(props.layerStyle as string[])\n  return (\n    <Card {...rest} layerStyle={layerStyle}>{children}</Card>\n  )\n}\n\nexport const Light = (props: CardProps) => {\n  const { children, ...rest } = props\n  const layerStyle: string[] = ['cardLight'].concat(props.layerStyle as string[])\n  return (\n    <Card {...rest} layerStyle={layerStyle}>{children}</Card>\n  )\n}\n\nexport const Outline = (props: CardProps) => {\n  const { children, ...rest } = props\n  const layerStyle: string[] = ['cardOutline'].concat(props.layerStyle as string[])\n  return (\n    <Card {...rest} layerStyle={layerStyle}>{children}</Card>\n  )\n}\n\nCard.Dark = Dark\nCard.Light = Light\nCard.Flex = CardFlex\nCard.Outline = Outline\nCard.Heading = HeadingTitle","//TODO: Properly handle user tabbing\n\nimport React, {\n  useLayoutEffect,\n  useCallback,\n  useEffect,\n  useState,\n  useMemo,\n  useRef\n} from \"react\";\n\nimport {\n  // useMediaQuery,\n  // useTheme,\n  // Progress,\n  VStack,\n  // Button,\n  Flex,\n  // Box\n} from \"@chakra-ui/react\";\n\nimport useBoundingRect from \"hooks/useBoundingRect/useBoundingRect\";\n// import { ChevronRightIcon, ChevronLeftIcon } from \"@chakra-ui/icons\";\nimport { motion, useAnimation, useMotionValue } from \"framer-motion\";\n\nconst MotionFlex = motion(Flex);\n\n// function percentage(x, y) {\n//   return 100 / (y / x)\n// }\n\nconst transitionProps = {\n  stiffness: 400,\n  type: \"spring\",\n  damping: 60,\n  mass: 3\n};\n\nexport const ChakraCarousel = ({\n  children,\n  gap,\n  activeItem: defaultActiveItem = 0,\n  enableDragging = false\n}) => {\n\n  const [trackIsActive, setTrackIsActive] = useState(false);\n  const [multiplier, setMultiplier] = useState(0.35);\n  const [sliderWidth, setSliderWidth] = useState(0);\n  const [activeItem, setActiveItem] = useState(defaultActiveItem);\n  const [constraint, setConstraint] = useState(0);\n  const [itemWidth, setItemWidth] = useState(0);\n\n  const initSliderWidth = useCallback((width) => setSliderWidth(width), []);\n\n  const positions = useMemo(\n    () => React.Children.map(children, (_, index) => -Math.abs((itemWidth + gap) * index)),\n    [children, itemWidth, gap]\n  );\n\n  // const { breakpoints } = useTheme();\n\n  // const [isBetweenBaseAndMd] = useMediaQuery(\n  //   `(min-width: ${breakpoints.base}) and (max-width: ${breakpoints.md})`\n  // );\n\n  // const [isBetweenMdAndXl] = useMediaQuery(\n  //   `(min-width: ${breakpoints.md}) and (max-width: ${breakpoints.xl})`\n  // );\n\n  // const [isGreaterThanXL] = useMediaQuery(`(min-width: ${breakpoints.xl})`);\n\n  useEffect(() => {\n    if (defaultActiveItem>0 || defaultActiveItem<positions.length-1){\n      setActiveItem(defaultActiveItem)\n    }\n  }, [positions, defaultActiveItem])\n\n  useEffect(() => {\n    // console.log('itemWidth', sliderWidth, gap, sliderWidth - gap)\n    setItemWidth(sliderWidth - gap);\n    setMultiplier(0.65);\n    setConstraint(1);\n    /*\n    if (isBetweenBaseAndMd) {\n      setItemWidth(sliderWidth - gap);\n      setMultiplier(0.65);\n      setConstraint(1);\n    }\n    if (isBetweenMdAndXl) {\n      setItemWidth(sliderWidth / 2 - gap);\n      setMultiplier(0.5);\n      setConstraint(2);\n    }\n    if (isGreaterThanXL) {\n      setItemWidth(sliderWidth / 3 - gap);\n      setMultiplier(0.35);\n      setConstraint(3);\n    }\n    */\n  }, [/*isBetweenBaseAndMd, isBetweenMdAndXl, isGreaterThanXL, */sliderWidth, gap]);\n\n  const sliderProps = {\n    setTrackIsActive,\n    initSliderWidth,\n    setActiveItem,\n    activeItem,\n    constraint,\n    itemWidth,\n    positions,\n    gap\n  };\n\n  const trackProps = {\n    setTrackIsActive,\n    enableDragging,\n    trackIsActive,\n    setActiveItem,\n    sliderWidth,\n    activeItem,\n    constraint,\n    multiplier,\n    itemWidth,\n    positions,\n    gap\n  };\n\n  const itemProps = {\n    setTrackIsActive,\n    trackIsActive,\n    setActiveItem,\n    activeItem,\n    constraint,\n    itemWidth,\n    positions,\n    gap\n  };\n\n  // console.log('itemProps', isBetweenBaseAndMd, isBetweenMdAndXl, isGreaterThanXL, sliderWidth, itemProps)\n\n  return (\n    <Slider {...sliderProps}>\n      <Track {...trackProps}>\n        {React.Children.map(children, (child, index) => (\n          <Item {...itemProps} index={index} key={index}>\n            {child}\n          </Item>\n        ))}\n      </Track>\n    </Slider>\n  );\n};\n\nconst Slider = ({\n  // setTrackIsActive,\n  initSliderWidth,\n  // setActiveItem,\n  // activeItem,\n  // constraint,\n  // itemWidth,\n  // positions,\n  children,\n  gap\n}) => {\n  const [ref, { width }] = useBoundingRect();\n\n  useLayoutEffect(() => initSliderWidth(Math.round(width)), [\n    width,\n    initSliderWidth\n  ]);\n\n  // const handleFocus = () => setTrackIsActive(true);\n\n  // const handleDecrementClick = () => {\n  //   setTrackIsActive(true);\n  //   !(activeItem === positions.length - positions.length) &&\n  //     setActiveItem((prev) => prev - 1);\n  // }\n\n  // const handleIncrementClick = () => {\n  //   setTrackIsActive(true);\n  //   !(activeItem === positions.length - constraint) &&\n  //     setActiveItem((prev) => prev + 1);\n  // }\n\n  return (\n    <Flex\n      flex={1}\n      ref={ref}\n      w={{ base: \"100%\", md: `calc(100% + ${gap}px)` }}\n      ml={{ base: 0, md: `-${gap / 2}px` }}\n      mt={0}\n      px={`${gap / 2}px`}\n      position=\"relative\"\n      overflow=\"hidden\"\n      _before={{\n        bgGradient: \"linear(to-r, base.d400, transparent)\",\n        position: \"absolute\",\n        w: `${gap / 2}px`,\n        content: \"''\",\n        zIndex: 1,\n        h: \"100%\",\n        left: 0,\n        top: 0\n      }}\n      _after={{\n        bgGradient: \"linear(to-l, base.d400, transparent)\",\n        position: \"absolute\",\n        w: `${gap / 2}px`,\n        content: \"''\",\n        zIndex: 1,\n        h: \"100%\",\n        right: 0,\n        top: 0\n      }}\n    >\n      {children}\n    </Flex>\n    /*\n    <>\n        <Flex w={`${itemWidth}px`} mt={`${gap / 2}px`} mx=\"auto\">\n          <Button\n            onClick={handleDecrementClick}\n            onFocus={handleFocus}\n            mr={`${gap / 3}px`}\n            color=\"gray.200\"\n            variant=\"link\"\n            minW={0}\n          >\n            <ChevronLeftIcon boxSize={9} />\n          </Button>\n\n          <Progress\n            value={percentage(activeItem, positions.length - constraint)}\n            alignSelf=\"center\"\n            borderRadius=\"2px\"\n            bg=\"base.d100\"\n            flex={1}\n            h=\"3px\"\n            sx={{\n              \"> div\": {\n                backgroundColor: \"gray.400\"\n              }\n            }}\n          />\n\n          <Button\n            onClick={handleIncrementClick}\n            onFocus={handleFocus}\n            ml={`${gap / 3}px`}\n            color=\"gray.200\"\n            variant=\"link\"\n            zIndex={2}\n            minW={0}\n          >\n            <ChevronRightIcon boxSize={9} />\n          </Button>\n        </Flex>\n    </>\n    */\n  );\n};\n\nconst Track = ({\n  setTrackIsActive,\n  enableDragging,\n  trackIsActive,\n  setActiveItem,\n  activeItem,\n  constraint,\n  multiplier,\n  itemWidth,\n  positions,\n  children\n}) => {\n  const [dragStartPosition, setDragStartPosition] = useState(0);\n  const controls = useAnimation();\n  const x = useMotionValue(0);\n  const node = useRef(null);\n\n  const handleDragStart = () => setDragStartPosition(positions[activeItem]);\n\n  const handleDragEnd = (_, info) => {\n    // console.log(info);\n    const distance = info.offset.x;\n    const velocity = info.velocity.x * multiplier;\n    const direction = velocity < 0 || distance < 0 ? 1 : -1;\n\n    const extrapolatedPosition =\n      dragStartPosition +\n      (direction === 1\n        ? Math.min(velocity, distance)\n        : Math.max(velocity, distance));\n\n    const closestPosition = positions.reduce((prev, curr) => {\n      return Math.abs(curr - extrapolatedPosition) <\n        Math.abs(prev - extrapolatedPosition)\n        ? curr\n        : prev;\n    }, 0);\n\n    if (!(closestPosition < positions[positions.length - constraint])) {\n      setActiveItem(positions.indexOf(closestPosition));\n      controls.start({\n        x: closestPosition,\n        transition: {\n          velocity: info.velocity.x,\n          ...transitionProps\n        }\n      });\n    } else {\n      setActiveItem(positions.length - constraint);\n      controls.start({\n        x: positions[positions.length - constraint],\n        transition: {\n          velocity: info.velocity.x,\n          ...transitionProps\n        }\n      });\n    }\n  };\n\n  const handleResize = useCallback(\n    () =>\n      controls.start({\n        x: positions[activeItem],\n        transition: {\n          ...transitionProps\n        }\n      }),\n    [activeItem, controls, positions]\n  );\n\n  const handleClick = useCallback(\n    (event) =>\n      node.current.contains(event.target)\n        ? setTrackIsActive(true)\n        : setTrackIsActive(false),\n    [setTrackIsActive]\n  );\n\n  const handleKeyDown = useCallback(\n    (event) => {\n      if (trackIsActive) {\n        if (activeItem < positions.length - constraint) {\n          if (event.key === \"ArrowRight\" || event.key === \"ArrowUp\") {\n            event.preventDefault();\n            setActiveItem((prev) => prev + 1);\n          }\n        }\n        if (activeItem > positions.length - positions.length) {\n          if (event.key === \"ArrowLeft\" || event.key === \"ArrowDown\") {\n            event.preventDefault();\n            setActiveItem((prev) => prev - 1);\n          }\n        }\n      }\n    },\n    [trackIsActive, setActiveItem, activeItem, constraint, positions.length]\n  );\n\n  useEffect(() => {\n    handleResize(positions);\n\n    // document.addEventListener(\"keydown\", handleKeyDown);\n    // document.addEventListener(\"mousedown\", handleClick);\n    // return () => {\n    //   document.removeEventListener(\"keydown\", handleKeyDown);\n    //   document.removeEventListener(\"mousedown\", handleClick);\n    // };\n  }, [handleClick, handleResize, handleKeyDown, positions]);\n\n  const dragProps = enableDragging ? {\n    drag:\"x\",\n    cursor:\"grab\",\n    onDragStart:handleDragStart,\n    onDragEnd:handleDragEnd,\n    _active:{cursor: \"grabbing\"},\n  } : {}\n\n  return (\n    <>\n      {itemWidth ? (\n        <VStack ref={node} spacing={5} alignItems=\"stretch\">\n          <MotionFlex\n            flex={1}\n            dragConstraints={node}\n            animate={controls}\n            style={{ x }}\n            minWidth=\"min-content\"\n            flexWrap=\"nowrap\"\n            {...dragProps}\n          >\n            {children}\n          </MotionFlex>\n        </VStack>\n      ) : null}\n    </>\n  );\n};\n\nconst Item = ({\n  setTrackIsActive,\n  setActiveItem,\n  activeItem,\n  constraint,\n  itemWidth,\n  positions,\n  children,\n  index,\n  gap\n}) => {\n  const [userDidTab, setUserDidTab] = useState(false);\n\n  const handleFocus = () => setTrackIsActive(true);\n\n  const handleBlur = () => {\n    userDidTab && index + 1 === positions.length && setTrackIsActive(false);\n    setUserDidTab(false);\n  };\n\n  const handleKeyUp = (event) =>\n    event.key === \"Tab\" &&\n    !(activeItem === positions.length - constraint) &&\n    setActiveItem(index);\n\n  const handleKeyDown = (event) => event.key === \"Tab\" && setUserDidTab(true);\n\n  return (\n    <Flex\n      onFocus={handleFocus}\n      onBlur={handleBlur}\n      onKeyUp={handleKeyUp}\n      onKeyDown={handleKeyDown}\n      w={`${itemWidth}px`}\n      _notLast={{\n        mr: `${gap}px`\n      }}\n    >\n      {children}\n    </Flex>\n  );\n};","import { requestTimeout } from 'helpers/'\nimport { useState, useCallback, useLayoutEffect } from \"react\";\n\n// let timeoutRequest: any = null;\n\nconst debounce = (delay: number = 0, callback: Function) => {\n  let timeoutId: any = null;\n  return (...args: any[]) => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    timeoutId = setTimeout(callback, delay, args);\n\n    // if (timeoutRequest) {\n    //   timeoutRequest.clear();\n    // }\n    // timeoutRequest = requestTimeout(callback, delay);\n  };\n};\n\nexport type Dimensions = {\n  x: number\n  y: number\n  top: number\n  left: number\n  width: number\n  height: number\n  right: number\n  bottom: number\n}\n\nconst initialDimensions: Dimensions = {\n  x: 0,\n  y: 0,\n  top: 0,\n  left: 0,\n  width: 0,\n  height: 0,\n  right: 0,\n  bottom: 0\n}\n\nfunction getDimensionObject(node: any): Dimensions {\n  const rect = node.getBoundingClientRect();\n  return {\n    x: rect.x,\n    y: rect.y,\n    top: rect.top,\n    left: rect.left,\n    width: rect.width,\n    height: rect.height,\n    right: rect.right,\n    bottom: rect.bottom\n  };\n}\n\nexport default function useBoundingRect(delay: number = 0) {\n  const [node, setNode] = useState<any>(null);\n  const [dimensions, setDimensions] = useState<Dimensions>(initialDimensions);\n\n  const ref = useCallback((node: any) => {\n    setNode(node);\n  }, []);\n\n  useLayoutEffect(() => {\n    if (\"undefined\" !== typeof window && node) {\n      const measure = async () => {\n        window.requestAnimationFrame(() => {\n          // console.log('measure', getDimensionObject(node))\n          setDimensions(getDimensionObject(node))\n        });\n      }\n\n      measure();\n\n      const listener = debounce(delay || 100, measure);\n\n      window.addEventListener(\"resize\", listener);\n      window.addEventListener(\"scroll\", listener);\n      \n      return () => {\n        window.removeEventListener(\"resize\", listener);\n        window.removeEventListener(\"scroll\", listener);\n      };\n    }\n  }, [node, delay]);\n\n  return [ref, dimensions, node];\n}\n"],"names":["Card","props","children","layerStyle","rest","width","position","CardFlex","Dark","concat","Light","Outline","Flex","Heading","as","size","mb","MotionFlex","motion","transitionProps","stiffness","type","damping","mass","ChakraCarousel","gap","activeItem","defaultActiveItem","enableDragging","useState","trackIsActive","setTrackIsActive","multiplier","setMultiplier","sliderWidth","setSliderWidth","setActiveItem","constraint","setConstraint","itemWidth","setItemWidth","initSliderWidth","useCallback","positions","useMemo","React","_","index","Math","abs","useEffect","length","sliderProps","trackProps","itemProps","Slider","Track","child","Item","key","useBoundingRect","ref","useLayoutEffect","round","flex","w","base","md","ml","mt","px","overflow","_before","bgGradient","content","zIndex","h","left","top","_after","right","dragStartPosition","setDragStartPosition","controls","useAnimation","x","useMotionValue","node","useRef","handleResize","start","transition","handleClick","event","current","contains","target","handleKeyDown","preventDefault","prev","dragProps","drag","cursor","onDragStart","onDragEnd","info","distance","offset","velocity","extrapolatedPosition","min","max","closestPosition","reduce","curr","indexOf","_active","spacing","alignItems","dragConstraints","animate","style","minWidth","flexWrap","userDidTab","setUserDidTab","onFocus","onBlur","onKeyUp","onKeyDown","_notLast","mr","debounce","delay","callback","timeoutId","clearTimeout","args","setTimeout","initialDimensions","y","height","bottom","getDimensionObject","rect","getBoundingClientRect","setNode","dimensions","setDimensions","window","measure","requestAnimationFrame","listener","addEventListener","removeEventListener"],"sourceRoot":""}