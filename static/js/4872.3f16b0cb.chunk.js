"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[4872],{54872:function(a,t,e){e.r(t),e.d(t,{BalanceChart:function(){return C},BalanceChartProvider:function(){return f},useBalanceChartProvider:function(){return v}});var n=e(1413),r=e(93433),o=e(21031),i=e(45327),l=e(3498),c=e(86059),d=e(66288),s=e(7276),u=e(15034),h=e(45263),g=(0,s.createContext)({assets:[],balanceChartData:{total:[],rainbow:[]},balanceChartDataLoading:!1}),v=function(){return(0,s.useContext)(g)};function f(a){var t=a.children,e=a.assetIds,n=a.accountId,r=a.timeframe,o=a.strategies,i=a.allowFlatChart,l=void 0===i||i,c=(0,u.k)({assetIds:e,accountId:n,timeframe:r,strategies:o,allowFlatChart:l});return(0,h.jsx)(g.Provider,{value:c,children:t})}var C=function(a){var t=a.isRainbowChart,e=a.height,n=void 0===e?"350px":e,r=a.setPercentChange,c=a.maxMinEnabled,d=void 0===c||c,u=a.loadingEnabled,g=void 0===u||u,f=a.color,C=void 0===f?"chart.stroke":f,b=a.gradientEnabled,m=void 0===b||b,x=a.margins,p=void 0===x?{top:0,right:0,bottom:0,left:0}:x,w=v(),B=w.balanceChartData,j=w.balanceChartDataLoading,k=B.total;(0,s.useEffect)((function(){return r((0,o.gB)(k))}),[k,r]);return(0,h.jsx)(l.xu,{width:"full",p:0,height:n,children:(0,h.jsx)(i.Graph,{color:C,margins:p,formatFn:function(a){return"$".concat((0,o.dm)(a))},data:B,maxMinEnabled:d,isRainbowChart:t,gradientEnabled:m,isLoaded:!j,loading:j&&g})})};f.BalanceChart=C,f.BalanceChangeUsd=function(a){var t=v().balanceChartData,e=(0,o.d5)(t.total[0].value),i=(0,o.d5)((0,r.Z)(t.total).pop().value).minus(e),l=i.lt(0)?"loss":"gain",d=i.gt(0)?"+":"";return(0,h.jsx)(c.Amount.Usd,(0,n.Z)({prefix:d,value:i,color:l},a))},f.BalanceChangePercentage=function(a){var t=(0,d.X)().theme,e=v().balanceChartData,i=(0,o.d5)(e.total[0].value),s=(0,o.d5)((0,r.Z)(e.total).pop().value),u=i.gt(0)?s.div(i).minus(1).times(100):(0,o.d5)(0),g=u.lt(0)?"loss":"gain",f=u.gt(0)?"+":"";return(0,h.jsx)(l.xu,{py:"3px",px:2,bgColor:"".concat(t.colors[g],"20"),children:(0,h.jsx)(c.Amount.Percentage,(0,n.Z)({prefix:f,value:u,color:g},a))})}}}]);