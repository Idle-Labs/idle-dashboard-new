"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[9220],{9220:function(t,e,o){o.r(e),o.d(e,{HistogramChart:function(){return q}});var r=o(1413),n=o(93433),i=o(57118),a=o(99594),l=o(14380),s=o(7276),c=o(84033),d=o.n(c),f=o(64625),h=o(46177),u=o(97862),p=o(57478),g=o(25908),x=o(12528),m=o(23369),b=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function y(){return y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},y.apply(this,arguments)}function v(t){var e=t.data,o=t.className,r=t.top,n=t.left,i=t.x,a=t.y0,c=void 0===a?h.l8:a,v=t.y1,k=void 0===v?h.xf:v,j=t.xScale,w=t.yScale,Z=t.color,S=t.keys,T=t.value,C=t.order,L=t.offset,O=t.children,M=function(t,e){if(null==t)return{};var o,r,n={},i=Object.keys(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||(n[o]=t[o]);return n}(t,b),P=(0,f.Z)();S&&P.keys(S),T&&(0,p.Z)(P.value,T),C&&P.order((0,g.ZP)(C)),L&&P.offset((0,x.ZP)(L));var A=P(e),W=(0,u.Z)(j),F=A.map((function(t,e){var o=t.key;return{index:e,key:o,bars:t.map((function(e,r){var n=(w(c(e))||0)-(w(k(e))||0),a=w(k(e)),l="bandwidth"in j?j(i(e.data)):Math.max((j(i(e.data))||0)-W/2);return{bar:e,key:o,index:r,height:n,width:W,x:l||0,y:a||0,color:Z(t.key,r)}}))}}));return O?s.createElement(s.Fragment,null,O(F)):s.createElement(l.Z,{className:d()("visx-bar-stack",o),top:r,left:n},F.map((function(t){return t.bars.map((function(e){return s.createElement(m.Z,y({key:"bar-stack-"+t.index+"-"+e.index,x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color},M))}))})))}var k,j=o(79866),w=o(10577),Z=o(27091),S=o(87563),T=o(86059),C=o(29564),L=o(26720),O=o(96699),M=o(3498),P=o(75712),A=o(61168),W=o(5151),F=o(82173),I=o(32802),N=o(20663),z=o(48379),_=o(28547),D=o(45263),E={top:20,left:0,right:0,bottom:35},R=(0,A.Z)((function(t){var e,o=t.data,s=t.colors,c=t.width,d=t.height,f=t.events,h=void 0!==f&&f,u=t.tooltip,p=void 0===u||u,g=t.margin,x=void 0===g?E:g,m=t.tooltipOpen,b=t.tooltipTop,y=t.tooltipData,S=t.hideTooltip,A=t.showTooltip,R=(0,O.Fg)(),q=(0,C.R)().locale,U=function(t){return t.date},B={textAnchor:"middle",fontSize:12,fontWeight:"bold",fill:R.colors.table.axisLabel},H=d-x.top-x.bottom-10,J=c-x.left-x.right,G=Object.keys(s),K=G.map((function(t){return s[t]})),Q=o.map((function(t){return t.total})),V=(0,I.Z)({padding:.2,range:[0,J],domain:o.map(U)}),X=(0,N.Z)({range:[0,J],domain:(0,i.Z)(o,(function(t){return(0,a.qF)(t.date).toDate()}))}),Y=Math.max.apply(Math,(0,n.Z)(Q.map((function(t){return Math.abs(t)})))),$=-Y,tt=(0,z.Z)({nice:!1,range:[H,0],domain:[$,Y]}),et=(0,_.Z)({domain:G,range:K}),ot=(0,L.ff)("white",R.colors.card.bg),rt=(0,L.ff)(R.colors.gray[200],R.colors.gray[700]),nt=(0,L.ff)(R.colors.gray[800],"white");return(0,D.jsxs)("div",{style:{position:"relative"},children:[(0,D.jsxs)(Z.Z,{width:c,height:d,children:[(0,D.jsx)(l.Z,{top:x.top,children:(0,D.jsx)(v,{data:o,keys:G,x:U,color:et,xScale:V,yScale:tt,offset:"diverging",children:function(t){return t.map((function(t){return t.bars.map((function(e){return(0,D.jsx)("rect",{x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color,onClick:function(){h&&alert("clicked: ".concat(JSON.stringify(e)))},onMouseLeave:function(){k=window.setTimeout((function(){S()}),300)},onMouseMove:function(t){k&&clearTimeout(k);var o=(0,w.Z)(t),r=e.x+e.width/2;A({tooltipData:e,tooltipTop:null===o||void 0===o?void 0:o.y,tooltipLeft:r})}},"bar-stack-".concat(t.index,"-").concat(e.index))}))}))}})}),(0,D.jsx)(j.Z,{strokeWidth:1,hideTicks:!0,top:H/2+x.top,scale:V,stroke:"white",tickFormat:function(){return""}}),(0,D.jsx)(j.Z,{hideTicks:!0,hideAxisLine:!0,numTicks:5,scale:X,top:d-x.bottom,tickLabelProps:function(){return B}})]}),p&&m&&y&&(0,D.jsx)(W.Z,{top:b,left:y.x,style:(0,r.Z)((0,r.Z)({},F.j),{},{border:"none",backgroundColor:"transparent",paddingTop:0,paddingLeft:0,paddingBottom:0,paddingRight:0}),children:(0,D.jsxs)(M.gC,{p:2,spacing:3,width:"full",alignItems:"flex-start",borderRadius:"lg",borderColor:rt,borderWidth:1,color:nt,bgColor:ot,children:[(0,D.jsx)(M.gC,{spacing:4,width:"full",alignItems:"flex-start",children:Object.keys(y.bar.data).filter((function(t){return!["date","total"].includes(t)})).map((function(t){return(0,D.jsxs)(M.gC,{spacing:2,width:"full",alignItems:"flex-start",children:[(0,D.jsx)(P.AssetProvider,{assetId:t,children:(0,D.jsxs)(M.Ug,{spacing:1,children:[(0,D.jsx)(P.AssetProvider.Icon,{size:"2xs"}),(0,D.jsx)(P.AssetProvider.Name,{fontWeight:"bold"}),(0,D.jsx)(P.AssetProvider.Strategy,{color:"gray.500",fontWeight:"bold",prefix:"(",suffix:")"})]})}),(0,D.jsx)(T.Amount.Usd,{abbreviate:!1,fontWeight:"bold",fontSize:"md",value:y.bar.data[t],color:et(t)})]},t)}))}),(0,D.jsx)(M.xv,{fontSize:"xs",color:R.colors.gray[500],children:(e=y.bar.data,(0,a.qF)(U(e)).locale(q).format("LLL"))})]})},Math.random())]})})),q=function(t){var e=t.data,o=t.colors,r=t.labels,n=t.tooltip;return(0,D.jsx)(S.Z,{debounceTime:10,children:function(t){return(0,D.jsx)(R,{width:t.width,height:t.height,data:e,tooltip:n,colors:o,labels:r})}})}}}]);