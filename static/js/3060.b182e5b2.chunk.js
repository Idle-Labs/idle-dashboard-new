"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[3060],{13060:function(t,e,s){s.r(e),s.d(e,{AssetDistributedRewards:function(){return h}});var n=s(54447),i=s(87099),a=s(86059),l=s(7276),r=s(39807),d=s(99594),o=s(97778),u=s(15542),c=s(1669),f=s(3498),x=s(75712),m=s(45263),h=function(t){var e=t.assetId,s=(0,r.f)().openModal,h=(0,c.w)().selectors,p=h.selectAssetById,g=h.selectVaultById,b=(0,l.useMemo)((function(){return p&&p(e)}),[p,e]),w=(0,l.useMemo)((function(){return g&&g(e)}),[g,e]),j=(0,l.useCallback)((function(){return s({cta:"defi.modals.opDistribution.cta",subtitle:"defi.modals.opDistribution.title",text:"defi.modals.opDistribution.body"},"2xl")}),[s]);return b&&"distributedTokens"in w&&w.distributedTokens.length?(0,m.jsxs)(f.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,m.jsx)(u.Translation,{component:f.X6,as:"h3",fontSize:"h3",translation:"staking.distributedRewards"}),(0,m.jsx)(f.gC,{spacing:4,width:"full",alignItems:"flex-start",children:w.distributedTokens.map((function(t){var e,s,l;if(!t.address)return null;var r=null!==(e=b.distributedRewards)&&void 0!==e&&e[t.address]?b.distributedRewards[t.address].reduce((function(t,e){return t.plus(e.value)}),(0,d.gA)(0)):(0,d.gA)(0),c=null!==(s=b.distributedRewards)&&void 0!==s&&s[t.address]?(0,d.Pf)(b.distributedRewards[t.address],"timeStamp","desc")[0]:null,h=(null===c||void 0===c?void 0:c.apr)||(null===(l=b.apyBreakdown)||void 0===l?void 0:l.rewards)||(0,d.gA)(0);return(0,m.jsx)(n.Card,{py:6,px:8,width:"full",children:(0,m.jsx)(x.AssetProvider,{assetId:t.address,children:(0,m.jsxs)(f.MI,{columns:4,width:"full",justifyContent:"center",alignItems:"space-between",children:[(0,m.jsx)(o.TokenAmount,{assetId:t.address,size:"md",spacing:3,amount:r,showIcon:!0,textStyle:"heading",fontSize:"h3"}),(0,m.jsxs)(f.gC,{spacing:1,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,m.jsx)(u.Translation,{component:f.xv,translation:"defi.apy",textStyle:"titleSmall"}),(0,m.jsx)(a.Amount.Percentage,{value:h,textStyle:"tableCell"})]}),(0,m.jsxs)(f.gC,{spacing:1,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,m.jsx)(u.Translation,{component:f.xv,translation:"common.lastUpdate",textStyle:"titleSmall"}),(0,m.jsx)(f.xv,{textStyle:"tableCell",children:c?(0,d.qF)(c.timeStamp).format(i.Cu):"-"})]}),(0,m.jsx)(f.gC,{justifyContent:"center",alignItems:"flex-end",children:c?(0,m.jsx)(u.Translation,{translation:"assets.assetDetails.assetHistory.rewardsHistory",textStyle:"linkBlue",fontSize:"md",fontWeight:700}):(0,m.jsx)(u.Translation,{translation:"common.howItWorks",textStyle:"linkBlue",fontSize:"md",fontWeight:700,onClick:function(){return j()}})})]})})},"row_".concat(t.address))}))})]}):null}}}]);