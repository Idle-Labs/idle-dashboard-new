"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[8129],{88129:function(e,t,i){i.r(t),i.d(t,{StrategyOverview:function(){return x}});var s=i(1413),n=i(29439),a=i(99594),r=i(7276),l=i(86059),o=i(15542),d=i(1669),u=i(9597),c=i(3498),p=i(43127),f=i(89030),g=i(1494),y=i(45263),x=function(e){var t=e.textProps,i=e.showHeader,x=void 0===i||i,m=e.showLoading,v=void 0===m||m,A=e.strategies,b=(0,r.useState)(!0),h=(0,n.Z)(b,2),j=h[0],z=h[1],S=(0,d.w)(),w=S.isVaultsPositionsLoaded,Z=S.vaultsPositions,I=(0,g.O)({assetIds:Object.keys(Z),strategies:A}).compositions,O=(0,r.useMemo)((function(){return I.strategies.filter((function(e){return A.includes(e.extraData.strategy.type)})).reduce((function(e,t){return e.redeemable=e.redeemable.plus(t.value),e.deposited=e.deposited.plus(t.extraData.deposited),e.realizedApy=e.realizedApy.plus((0,a.gA)(t.extraData.avgRealizedApy).times(t.value)),e}),{deposited:(0,a.gA)(0),redeemable:(0,a.gA)(0),realizedApy:(0,a.gA)(0)})}),[I,A]);return O.realizedApy=O.realizedApy.div(O.redeemable),v||w&&!O.deposited.lte(0)?(0,y.jsxs)(c.gC,{spacing:6,alignItems:"flex-start",children:[x&&(0,y.jsxs)(c.Ug,{spacing:2,children:[(0,y.jsx)(o.Translation,{translation:"defi.yourWallet",textStyle:"heading",color:"primary",fontSize:"lg"}),(0,y.jsx)(p.zx,{variant:"unstyled",onClick:function(){return z((function(e){return!e}))},children:j?(0,y.jsx)(u.Zju,{size:24,color:"white"}):(0,y.jsx)(u.I0d,{size:24,color:"white"})})]}),(0,y.jsxs)(c.MI,{columns:3,spacing:[2,10],children:[(0,y.jsxs)(c.gC,{spacing:2,alignItems:"flex-start",children:[(0,y.jsx)(o.Translation,{translation:"defi.deposited",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,y.jsx)(f.N2,{noOfLines:2,isLoaded:!!w,minW:"100%",children:(0,y.jsx)(l.Amount.Usd,(0,s.Z)({value:O.deposited,textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:j?{}:{filter:"blur(7px)"}},t))})]}),(0,y.jsxs)(c.gC,{spacing:2,alignItems:"flex-start",children:[(0,y.jsx)(o.Translation,{translation:"defi.earnings",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,y.jsx)(f.N2,{noOfLines:2,isLoaded:!!w,minW:"100%",children:(0,y.jsx)(l.Amount.Usd,(0,s.Z)({value:O.redeemable.minus(O.deposited),textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:j?{}:{filter:"blur(7px)"}},t))})]}),(0,y.jsxs)(c.gC,{spacing:2,alignItems:"flex-start",children:[(0,y.jsx)(o.Translation,{translation:"defi.realizedApy",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,y.jsx)(f.N2,{noOfLines:2,isLoaded:!!w,minW:"100%",children:(0,y.jsx)(l.Amount.Percentage,(0,s.Z)({value:O.realizedApy,textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:j?{}:{filter:"blur(7px)"}},t))})]})]})]}):null}},1494:function(e,t,i){i.d(t,{O:function(){return c}});var s=i(93433),n=i(4942),a=i(1413),r=i(7276),l=i(99594),o=i(79681),d=i(12056),u=i(1669),c=function(e){var t=e.assetIds,i=e.strategies,c=(0,o.qM)(),p=(0,u.w)().selectors,f=p.selectAssetById,g=p.selectAssetsByIds,y=(0,r.useMemo)((function(){return g?g(t):[]}),[t,g]),x=Object.keys(d.A).reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},t,{balance:(0,l.gA)(0),deposited:(0,l.gA)(0),weightedRealizedApy:(0,l.gA)(0)}))}),{}),m=(0,r.useMemo)((function(){return y.filter((function(e){return e.type&&(!i||i.includes(e.type))})).reduce((function(e,t){var i;return t.type&&t.vaultPosition?(e[t.type].balance=e[t.type].balance.plus(t.vaultPosition.usd.redeemable),e[t.type].deposited=e[t.type].deposited.plus(t.vaultPosition.usd.deposited),(0,l.gA)(null===(i=t.vaultPosition)||void 0===i?void 0:i.realizedApy).gt(0)&&(e[t.type].weightedRealizedApy=e[t.type].weightedRealizedApy.plus(t.vaultPosition.realizedApy.times(t.vaultPosition.usd.redeemable))),e):e}),x)}),[y,i,x]),v=(0,r.useMemo)((function(){return y.filter((function(e){return e.type&&(!i||i.includes(e.type))})).reduce((function(e,t){if(!t.underlyingId||!t.vaultPosition)return e;var i=f(t.underlyingId);return i?(e[i.id]||(e[i.id]=(0,l.gA)(0)),e[i.id]=e[i.id].plus(t.vaultPosition.usd.redeemable),e):e}),{})}),[y,i,f]),A={assets:[],strategies:[]};A.strategies=(0,r.useMemo)((function(){return Object.keys(m).map((function(e){return{label:c(d.A[e].label),extraData:{avgRealizedApy:m[e].balance.gt(0)?parseFloat(m[e].weightedRealizedApy.div(m[e].balance)):0,strategy:d.A[e],deposited:parseFloat(m[e].deposited)},value:parseFloat(m[e].balance)}}))}),[m,c]),A.assets=(0,r.useMemo)((function(){return Object.keys(v).reduce((function(e,t){var n=f(t);return!n||n.type&&(!i||i.includes(n.type))?e:[].concat((0,s.Z)(e),[{label:n.name,extraData:{asset:n},value:parseFloat(v[t])}])}),[])}),[v,f,i]);var b={assets:{},strategies:{}};return b.strategies=(0,r.useMemo)((function(){return Object.values(d.A).reduce((function(e,t){var i=c(t.label);return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},i,t.color))}),{})}),[c]),b.assets=(0,r.useMemo)((function(){return Object.keys(v).reduce((function(e,t){var i=f(t);if(!i)return e;var s=i.name;return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},s,i.color))}),{})}),[v,f]),{colors:b,compositions:A}}}}]);