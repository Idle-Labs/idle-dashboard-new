/*! For license information please see 2742.83480f5e.chunk.js.LICENSE.txt */
(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[2742,4872,465,2969,219,4185,956,792,8129,7360,1925,7413],{54872:function(e,t,n){"use strict";n.r(t),n.d(t,{BalanceChart:function(){return h},BalanceChartProvider:function(){return g},useBalanceChartProvider:function(){return m}});var r=n(1413),i=n(93433),a=n(99594),o=n(45327),s=n(3498),l=n(86059),c=n(66288),u=n(7276),d=n(15034),f=n(45263),p=(0,u.createContext)({assets:[],balanceChartData:{total:[],rainbow:[]},balanceChartDataLoading:!1}),m=function(){return(0,u.useContext)(p)};function g(e){var t=e.children,n=e.assetIds,r=e.accountId,i=e.timeframe,a=e.strategies,o=e.allowFlatChart,s=void 0===o||o,l=(0,d.k)({assetIds:n,accountId:r,timeframe:i,strategies:a,allowFlatChart:s});return(0,f.jsx)(p.Provider,{value:l,children:t})}var h=function(e){var t=e.isRainbowChart,n=e.height,r=void 0===n?"350px":n,i=e.setPercentChange,l=e.maxMinEnabled,c=void 0===l||l,d=e.loadingEnabled,p=void 0===d||d,g=e.color,h=void 0===g?"chart.stroke":g,x=e.gradientEnabled,v=void 0===x||x,y=e.margins,j=void 0===y?{top:0,right:0,bottom:0,left:0}:y,b=m(),w=b.balanceChartData,C=b.balanceChartDataLoading,A=w.total;(0,u.useEffect)((function(){return i((0,a.gB)(A))}),[A,i]);return(0,f.jsx)(s.xu,{width:"full",p:0,height:r,children:(0,f.jsx)(o.Graph,{color:h,margins:j,formatFn:function(e){return"$".concat((0,a.dm)(e))},data:w,maxMinEnabled:c,isRainbowChart:t,gradientEnabled:v,isLoaded:!C,loading:C&&p})})};g.BalanceChart=h,g.BalanceChangeUsd=function(e){var t=m().balanceChartData,n=(0,a.d5)(t.total[0].value),o=(0,a.d5)((0,i.Z)(t.total).pop().value).minus(n),s=o.lt(0)?"loss":"gain",c=o.gt(0)?"+":"";return(0,f.jsx)(l.Amount.Usd,(0,r.Z)({prefix:c,value:o,color:s},e))},g.BalanceChangePercentage=function(e){var t=(0,c.X)().theme,n=m().balanceChartData,o=(0,a.d5)(n.total[0].value),u=(0,a.d5)((0,i.Z)(n.total).pop().value),d=o.gt(0)?u.div(o).minus(1).times(100):(0,a.d5)(0),p=d.lt(0)?"loss":"gain",g=d.gt(0)?"+":"";return(0,f.jsx)(s.xu,{py:"3px",px:2,bgColor:"".concat(t.colors[p],"20"),children:(0,f.jsx)(l.Amount.Percentage,(0,r.Z)({prefix:g,value:d,color:p},e))})}},2742:function(e,t,n){"use strict";n.r(t),n.d(t,{Dashboard:function(){return B}});var r=n(93433),i=n(1413),a=n(29439),o=n(5128),s=n(54447),l=n(95173),c=n(7276),u=n(64185),d=n(86059),f=n(12056),p=n(55967),m=n(99594),g=n(66288),h="https://platform.twitter.com/widgets.js",x="createTimeline",v=function(e){var t=c.useRef(null),r=c.useState(!0),i=r[0],a=r[1];return c.useEffect((function(){var r=!0;return n(69929)(h,"twitter-embed",(function(){if(window.twttr){if(r){if(!window.twttr.widgets[x])return void console.error("Method createTimeline is not present anymore in twttr.widget api");var n=function(){var n,r,i=Object.assign({},e.options);return null!==e&&void 0!==e&&e.autoHeight&&(i.height=null===(n=t.current)||void 0===n||null===(r=n.parentNode)||void 0===r?void 0:r.offsetHeight),i=Object.assign({},i,{theme:null===e||void 0===e?void 0:e.theme,linkColor:null===e||void 0===e?void 0:e.linkColor,borderColor:null===e||void 0===e?void 0:e.borderColor,lang:null===e||void 0===e?void 0:e.lang,tweetLimit:null===e||void 0===e?void 0:e.tweetLimit,ariaPolite:null===e||void 0===e?void 0:e.ariaPolite})}();n=function(t){return t.chrome="",e.noHeader&&(t.chrome=t.chrome+" noheader"),e.noFooter&&(t.chrome=t.chrome+" nofooter"),e.noBorders&&(t.chrome=t.chrome+" noborders"),e.noScrollbar&&(t.chrome=t.chrome+" noscrollbar"),e.transparent&&(t.chrome=t.chrome+" transparent"),t}(n),window.twttr.widgets[x]({sourceType:e.sourceType,screenName:e.screenName,userId:e.userId,ownerScreenName:e.ownerScreenName,slug:e.slug,id:e.id||e.widgetId,url:e.url},null===t||void 0===t?void 0:t.current,n).then((function(t){a(!1),e.onLoad&&e.onLoad(t)}))}}else console.error("Failure to load window.twttr, aborting load")})),function(){r=!1}}),[]),c.createElement(c.Fragment,null,i&&c.createElement(c.Fragment,null,e.placeholder),c.createElement("div",{ref:t}))},y=n(56292),j=n(39195),b=n(15542),w=n(1669),C=n(39538),A=n(27295),S=n(40792),k=n(88129),I=n(98440),P=n(61925),T=n(90219),z=n(67360),M=n(90465),Z=n(54872),O=n(52969),D=n(3498),E=n(89030),U=n(2092),L=n(45263),B=function(){var e=(0,g.X)().theme,t=(0,c.useState)(0),n=(0,a.Z)(t,2)[1],h=(0,c.useMemo)((function(){return Object.keys(f.A)}),[]),x=(0,c.useState)(I.W.YEAR),B=(0,a.Z)(x,2),F=B[0],N=B[1],R=(0,l.s0)(),H=(0,j.Y)().network,q=(0,w.w)(),_=q.assetsData,W=q.isPortfolioAccountReady,V=q.isPortfolioLoaded,K=q.vaultsPositions,X=q.selectors,Y=X.selectAssetsByIds,G=X.selectAssetStrategies,J=X.selectVaultsAssetsByType,$=(0,c.useMemo)((function(){return(0,A.f)()}),[]),Q=(0,c.useMemo)((function(){if(!Y)return[];var e=Object.keys(K);return Y(e).filter((function(e){return!h||!e.type||h.includes(e.type)&&$.includes(e.type)})).map((function(e){return e.id}))}),[K,h,$,Y]),ee=(0,c.useMemo)((function(){return Object.values(_).filter((function(e){return e.id&&(!e.type||$.includes(e.type))})).map((function(e){return e.id}))}),[_,$]),te=(0,c.useMemo)((function(){return Object.keys(K).filter((function(e){return Q.includes(e)})).map((function(e){return K[e]})).reduce((function(e,t){return e.plus(t.usd.redeemable)}),(0,m.gA)(0))}),[Q,K]),ne=(0,c.useMemo)((function(){return Object.keys(K).filter((function(e){return Q.includes(e)})).map((function(e){return K[e]})).reduce((function(e,t){return e.staked=e.staked.plus(t.usd.staked),e.earnings=e.earnings.plus(t.usd.earnings),e.deposited=e.deposited.plus(t.usd.deposited),e.redeemable=e.redeemable.plus(t.usd.redeemable),e}),{staked:(0,m.gA)(0),earnings:(0,m.gA)(0),deposited:(0,m.gA)(0),redeemable:(0,m.gA)(0)})}),[Q,K]),re=(0,c.useMemo)((function(){var e=Object.keys(K).filter((function(e){return Q.includes(e)})).map((function(e){return K[e]})).reduce((function(e,t){return e.num=e.num.plus((0,m.d5)(t.usd.redeemable).times((0,m.d5)(t.realizedApy))),e.den=e.den.plus(t.usd.redeemable),e}),{num:(0,m.gA)(0),den:(0,m.gA)(0)});return e.num.div(e.den)}),[Q,K]),ie=(0,c.useMemo)((function(){return Object.keys(K).reduce((function(e,t){var n=K[t];return G(t).forEach((function(t){e[t].total=e[t].total.plus(n.usd.redeemable),e[t].perc=e[t].total.div(te)})),e}),{AA:{perc:(0,m.gA)(0),total:(0,m.gA)(0)},BB:{perc:(0,m.gA)(0),total:(0,m.gA)(0)}})}),[K,te,G]),ae=(0,c.useMemo)((function(){var t=te.gt(0)?Object.keys(ie).reduce((function(e,t){return e.colors[t]=f.A[t].color,e.data.push({label:t,value:ie[t].perc.times(100).toFixed(2)}),e}),{data:[],colors:{}}):{data:[{value:1,label:"empty"}],colors:{empty:e.colors.ctaDisabled}};return(0,L.jsx)(T.DonutChart,(0,i.Z)((0,i.Z)({},t),{},{getSliceData:function(){},donutThickness:6}))}),[e,te,ie]),oe=(0,c.useMemo)((function(){return te.lte(0)?null:(0,L.jsxs)(D.MI,{width:"full",columns:[2,4],spacing:[10,14],alignItems:"flex-start",children:[(0,L.jsxs)(D.gC,{spacing:2,justifyContent:"center",children:[(0,L.jsx)(b.Translation,{component:D.xv,translation:"defi.deposited",textStyle:"titleSmall"}),(0,L.jsx)(d.Amount.Usd,{textStyle:"heading",fontSize:"h3",value:ne.deposited})]}),(0,L.jsxs)(D.gC,{spacing:2,justifyContent:"center",children:[(0,L.jsx)(b.Translation,{component:D.xv,translation:"defi.redeemable",textStyle:"titleSmall"}),(0,L.jsx)(d.Amount.Usd,{textStyle:"heading",fontSize:"h3",value:ne.redeemable})]}),(0,L.jsxs)(D.gC,{spacing:2,justifyContent:"center",children:[(0,L.jsx)(b.Translation,{component:D.xv,translation:"defi.earnings",textStyle:"titleSmall"}),(0,L.jsx)(d.Amount.Usd,{textStyle:"heading",fontSize:"h3",value:ne.earnings})]}),(0,L.jsxs)(D.gC,{spacing:2,justifyContent:"center",children:[(0,L.jsx)(b.Translation,{component:D.xv,translation:"defi.avgRealizedApy",textStyle:"titleSmall"}),(0,L.jsx)(d.Amount.Percentage,{textStyle:"heading",fontSize:"h3",value:re})]})]})}),[te,ne,re]),se=(0,c.useMemo)((function(){return J?(0,L.jsxs)(D.gC,{width:"full",spacing:[4,6],children:[y.R.map((function(t){var n=(0,m.qC)("earn",[t.route]),i=t.strategies.reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(J(t)))}),[]),a=i.filter((function(e){return"deprecated"!==e.status})).reduce((function(e,t){return e.totalTVL=(0,m.d5)(e.totalTVL).plus((0,m.d5)(t.tvlUsd)),e.minApy=(0,m.d5)(e.minApy).lte(0)?(0,m.d5)(t.apy):o.Z.minimum((0,m.d5)(e.minApy),(0,m.d5)(t.apy)),e.maxApy=e.maxApy?o.Z.maximum((0,m.d5)(e.maxApy),(0,m.d5)(t.apy)):(0,m.d5)(t.apy),e}),{minApy:null,maxApy:null,totalTVL:(0,m.gA)(0)}),l=Object.keys(K).filter((function(e){return i.find((function(t){return t.id===e}))}));return(0,L.jsx)(s.Card,{px:[5,7],py:[4,6],cursor:"pointer",bg:t.color,sx:{":hover":{backgroundColor:"".concat(t.color,"CC")}},onClick:function(){return i.length?R(n):null},children:(0,L.jsx)(D.gC,{spacing:6,width:"full",alignItems:"flex-start",children:(0,L.jsxs)(D.Ug,{spacing:6,width:"full",alignItems:"center",justifyContent:"space-between",children:[(0,L.jsxs)(D.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,L.jsx)(b.Translation,{translation:t.label,component:D.X6,as:"h3",fontSize:"h3"}),V&&!i.length?(0,L.jsxs)(D.gC,{spacing:2,width:"full",alignItems:"flex-start",children:[(0,L.jsx)(b.Translation,{translation:"strategies.".concat(t.strategy,".noVaultsAvailable"),params:{network:null===H||void 0===H?void 0:H.chainName},textStyle:"caption"}),(0,L.jsx)(z.SwitchNetworkButton,{chainId:1,size:"xs",px:4,py:3,height:"auto"})]}):l.length>0?(0,L.jsx)(k.StrategyOverview,{showHeader:!1,strategies:t.strategies,textProps:{fontSize:["md","lg"]}}):(0,L.jsxs)(D.Ug,{spacing:10,width:"full",children:[(0,L.jsxs)(D.gC,{spacing:2,alignItems:"flex-start",children:[(0,L.jsx)(b.Translation,{translation:"stats.totalTVL",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,L.jsx)(E.N2,{noOfLines:2,isLoaded:!!V,minW:"100%",children:(0,L.jsx)(d.Amount.Usd,{value:a.totalTVL,textStyle:"ctaStatic",fontSize:"lg",lineHeight:"initial"})})]}),(0,L.jsxs)(D.gC,{spacing:2,alignItems:"flex-start",children:[(0,L.jsx)(b.Translation,{translation:"stats.minApy",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,L.jsx)(E.N2,{noOfLines:2,isLoaded:!!V,minW:"100%",children:(0,L.jsx)(d.Amount.Percentage,{value:a.minApy,textStyle:"ctaStatic",fontSize:"lg",lineHeight:"initial"})})]}),(0,L.jsxs)(D.gC,{spacing:2,alignItems:"flex-start",children:[(0,L.jsx)(b.Translation,{translation:"stats.maxApy",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,L.jsx)(E.N2,{noOfLines:2,isLoaded:!!V,minW:"100%",children:(0,L.jsx)(d.Amount.Percentage,{value:a.maxApy,textStyle:"ctaStatic",fontSize:"lg",lineHeight:"initial"})})]})]})]}),i.length>0&&(0,L.jsx)(p.AeI,{size:24,color:e.colors.primary})]})})},"product_".concat(t.strategy))})),(0,L.jsx)(s.Card,{px:[5,7],py:[4,6],children:(0,L.jsx)(D.gC,{spacing:6,width:"full",alignItems:"flex-start",children:(0,L.jsxs)(D.Ug,{flex:1,spacing:6,width:"full",alignItems:"flex-start",justifyContent:"space-between",children:[(0,L.jsxs)(D.gC,{spacing:6,alignItems:"flex-start",children:[(0,L.jsx)(b.Translation,{translation:"dashboard.portfolio.riskExposure",component:D.X6,as:"h3",fontSize:"h3"}),(0,L.jsx)(D.Ug,{spacing:6,children:Object.keys(ie).map((function(e){return(0,L.jsxs)(D.gC,{spacing:2,alignItems:"flex-start",children:[(0,L.jsx)(b.Translation,{translation:f.A[e].riskProfile,textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,L.jsxs)(D.Ug,{spacing:2,children:[(0,L.jsx)(d.Amount.Percentage,{value:ie[e].perc.times(100),textStyle:"ctaStatic",fontSize:["md","lg"],lineHeight:"initial"}),(0,L.jsx)(U.Ee,{src:"images/strategies/".concat(e,".svg"),w:6,h:6})]})]},"profile_".concat(e))}))})]}),(0,L.jsx)(D.xu,{width:100,height:100,children:ae})]})})})]}):null}),[V,R,J,H,K,ie,ae,e]),le=(0,c.useMemo)((function(){if(1===h.length)return f.A[h[0]].color}),[h]);return(0,L.jsxs)(D.xu,{mt:5,width:"100%",children:[(0,L.jsx)(C.VaultsCarousel,{}),(0,L.jsxs)(D.Kq,{mt:0,mb:10,flex:1,spacing:20,pt:[16,100],width:"100%",direction:["column","row"],children:[(0,L.jsxs)(D.gC,{flex:1,spacing:6,width:["full","66.3%"],alignItems:"flex-start",children:[(0,L.jsx)(D.kC,{p:0,width:"full",overflow:"hidden",direction:"column",minH:["auto",410],position:"relative",justifyContent:"space-between",children:(0,L.jsxs)(Z.BalanceChartProvider,{timeframe:F,allowFlatChart:!0,assetIds:ee,strategies:h,children:[(0,L.jsxs)(D.Kq,{pt:0,pb:4,width:"full",alignItems:"flex-start",direction:["column","row"],justifyContent:["center","space-between"],children:[(0,L.jsxs)(D.gC,{width:"full",spacing:[5,1],alignItems:["center","flex-start"],children:[(0,L.jsx)(b.Translation,{display:["none","block"],translation:"dashboard.portfolio.totalChart",component:D.xv,textStyle:"tableCell",fontWeight:400,color:"cta"}),(0,L.jsx)(E.N2,{noOfLines:2,isLoaded:!!W,children:(0,L.jsx)(D.gC,{spacing:[1,3],alignItems:"baseline",children:(0,L.jsx)(d.Amount.Usd,{value:te,textStyle:"heading",fontSize:"3xl"})})})]}),(0,L.jsx)(D.Ug,{pt:[4,9],width:"full",justifyContent:"flex-end",children:(0,L.jsx)(P.TimeframeSelector,{timeframe:F,setTimeframe:N,width:["100%","auto"],justifyContent:["center","initial"]})})]}),(0,L.jsx)(Z.BalanceChart,{height:"300px",percentChange:0,color:le,maxMinEnabled:!1,loadingEnabled:!1,isRainbowChart:!1,gradientEnabled:!1,setPercentChange:n,margins:{top:10,right:0,bottom:65,left:0}})]})}),(0,L.jsx)(D.kC,{px:[0,10],width:"full",children:oe})]}),(0,L.jsx)(D.gC,{spacing:6,width:["100%","500px"],alignItems:"flex-start",children:se})]}),(0,L.jsx)(O.DepositedAssetsTable,{}),(0,L.jsxs)(D.Kq,{spacing:6,mt:[10,20],width:"100%",direction:["column","row"],children:[(0,L.jsxs)(D.gC,{flex:1,spacing:[6,14],alignItems:"flex-start",justifyContent:"space-between",children:[(0,L.jsx)(M.DashboardNewsBanner,{banner:"zkEVM",announcement:"maticRewards",onClick:function(){return R((0,m.qC)("earn",["yield-tranches"]))}}),(0,L.jsx)(S.PartnersPrograms,{})]}),(0,L.jsxs)(D.gC,{pl:4,pt:4,spacing:4,borderRadius:8,overflow:"hidden",alignItems:"flex-start",width:["100%","500px"],backgroundColor:"black",children:[(0,L.jsx)(b.Translation,{mb:0,component:s.Card.Heading,fontSize:"lg",translation:"social.title"}),(0,L.jsx)(D.xu,{pb:4,flex:1,width:"full",minH:["400px","auto"],children:(0,L.jsx)(v,{theme:"dark",noHeader:!0,noBorders:!0,autoHeight:!0,sourceType:"profile",screenName:"idlefinance"})})]})]}),(0,L.jsx)(u.Footer,{})]})}},90465:function(e,t,n){"use strict";n.r(t),n.d(t,{DashboardNewsBanner:function(){return l}});n(7276);var r=n(54447),i=n(55967),a=n(3498),o=n(15542),s=n(45263),l=function(e){var t=e.banner,n=e.announcement,l=e.hasBackgroundImage,c=void 0===l||l,u=e.onClick;return(0,s.jsx)(r.Card.Flex,{h:"140px",width:"full",borderRadius:8,alignItems:"center",backgroundSize:"cover",justifyContent:"center",backgroundPosition:"center",backgroundImage:c?"url(images/banners/".concat(t||n,"-bg.png)"):"none",children:(0,s.jsxs)(a.Kq,{px:[5,10],pl:[0,20],width:"full",direction:["column","row"],justifyContent:"space-between",children:[(0,s.jsx)(o.Translation,{translation:"announcements.".concat(n,".title"),component:a.X6,as:"h3",fontSize:"h3"}),(0,s.jsxs)(a.Ug,{spacing:1,children:[(0,s.jsx)(o.Translation,{translation:"announcements.".concat(n,".cta"),textStyle:["ctaStatic","clickable"],sx:{":hover":{textDecoration:"underline"}},onClick:u}),(0,s.jsx)(i.AeI,{size:24})]})]})})}},52969:function(e,t,n){"use strict";n.r(t),n.d(t,{DepositedAssetsTable:function(){return z},TableField:function(){return T}});var r=n(93433),i=n(29439),a=n(1413),o=n(54447),s=n(79681),l=n(95173),c=n(86059),u=n(66288),d=n(75349),f=n(39195),p=n(56292),m=n(30572),g=n(10956),h=n(58194),x=n(15542),v=n(1669),y=n(12056),j=n(99594),b=n(7276),w=n(55967),C=n(75712),A=n(89030),S=n(3498),k=n(82137),I=n(43127),P=n(45263),T=function(e){var t=e.field,n=e.row,r=e.value,i=e.props,o=n.original.id;return(0,P.jsx)(A.N2,{noOfLines:2,isLoaded:!!r,children:(0,P.jsx)(C.AssetProvider,{assetId:o,children:(0,P.jsx)(C.AssetProvider.GeneralData,(0,a.Z)({section:"strategy",field:t},i))})})},z=function(){var e=(0,l.s0)(),t=(0,v.w)(),n=t.isPortfolioLoaded,C=t.isPortfolioAccountReady,z=t.selectors,M=z.selectVaultsWithBalance,Z=z.selectVaultsAssetsByType,O=z.selectVaultsAssetsWithBalance,D=(0,s.qM)(),E=(0,b.useState)(1),U=(0,i.Z)(E,2),L=U[0],B=U[1],F=(0,u.X)(),N=F.theme,R=F.isMobile,H=(0,f.Y)(),q=H.account,_=H.prevAccount,W=(0,b.useState)("Available"),V=(0,i.Z)(W,2),K=V[0],X=V[1],Y=(0,m.D)(K);(0,b.useEffect)((function(){if(K!==Y)return B(1)}),[K,Y,B]);var G=(0,b.useMemo)((function(){return[{width:"25%",accessor:"name",sortType:"alpha",id:"assetWithStatus",stackProps:{justifyContent:"space-between"},extraFields:["productTagWithRisk"]},{width:"18%",accessor:"id",id:"protocols",sortType:"alpha",fieldProps:{size:"xs"}},{id:"tvl",width:"13%",accessor:"tvlUsd",sortType:"numeric"},{id:"apy",width:"13%",accessor:"apy",sortType:"numeric"},{id:"apy7",width:"13%",accessor:"apy7",sortType:"numeric",tables:["Available"]},{id:"apy30",width:"13%",accessor:"apy30",sortType:"numeric",tables:["Available"]},{width:"5%",accessor:"id",id:"chainId",stackProps:{justifyContent:"center"},tables:["Available"]}]}),[]),J=(0,b.useMemo)((function(){return G.reduce((function(e,t){var n=t.id,r=t.accessor,i=t.sortType,o="alpha"===i?j.YC:"numeric"===i?j._O:void 0;return e[n]={id:n,accessor:r,width:t.width,disableSortBy:!o,defaultCanSort:!!o,Header:D(t.title||"defi.".concat(n)),sortType:o?function(e,t){return o(e,t,r)}:void 0,Cell:function(e){var r=e.value,i=e.row;return t.extraFields&&t.extraFields.length>0?(0,P.jsxs)(S.Kq,(0,a.Z)((0,a.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},t.stackProps),{},{children:[(0,P.jsx)(T,{field:n,value:r,row:i,props:t.fieldProps}),t.extraFields.map((function(e){return(0,P.jsx)(T,{field:e,value:r,row:i},"extraField_".concat(e))}))]})):(0,P.jsx)(T,{field:n,value:r,row:i,props:t.fieldProps})}},e}),{})}),[G,D]),$=(0,b.useMemo)((function(){return G.filter((function(e){return!e.tables||e.tables.includes(K)})).map((function(e){var t=e.id,n=e.accessor,r=e.sortType,i="alpha"===r?j.YC:"numeric"===r?j._O:void 0;return{id:t,accessor:n,width:e.width,disableSortBy:!i,defaultCanSort:!!i,Header:D(e.title||"defi.".concat(t)),sortType:i?function(e,t){return i(e,t,n)}:void 0,Cell:function(n){var r=n.value,i=n.row;return e.extraFields&&e.extraFields.length>0?(0,P.jsxs)(S.Kq,(0,a.Z)((0,a.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,P.jsx)(T,{field:t,value:r,row:i,props:e.fieldProps}),e.extraFields.map((function(e){return(0,P.jsx)(T,{field:e,value:r,row:i},"extraField_".concat(e))}))]})):(0,P.jsx)(T,{field:t,value:r,row:i,props:e.fieldProps})}}}))}),[G,K,D]),Q=(0,b.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,r.Z)($))}),[$]),ee=(0,b.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,r.Z)($),[{width:"13%",accessor:"balanceUsd",Header:D("defi.balance"),Cell:function(e){var t=e.value;return(0,P.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:(0,P.jsx)(c.Amount.Usd,{value:t,textStyle:"tableCell"})})},sortType:j._O},{width:"13%",accessor:"vaultPosition",Header:D("defi.realizedApy"),Cell:function(e){var t=e.value;return(0,P.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:t&&(0,P.jsxs)(k.kN,{children:[(0,P.jsx)(k.Jf,{children:(0,P.jsxs)(S.kC,{direction:"row",alignItems:"center",children:[!t.realizedApy.isNaN()&&(0,P.jsx)(k.uY,{type:"increase"}),(0,P.jsx)(c.Amount.Percentage,{value:t.realizedApy,textStyle:"tableCell"})]})}),(0,P.jsx)(c.Amount.Usd,{prefix:"+",value:t.usd.earnings,textStyle:"captionSmall"})]})})},sortType:function(e,t){return(0,j._O)(e,t,"vaultPosition.earningsPercentage")}},J.chainId])}),[D,$,J]),te=(0,b.useMemo)((function(){return p.R.reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(t.strategies))}),[])}),[]),ne=(0,b.useMemo)((function(){return Z?te.reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(Z(t)))}),[]).filter((function(e){return"deprecated"!==e.status})).sort((function(e,t){return(0,j.gA)(e.tvlUsd).lt((0,j.gA)(t.tvlUsd))?1:-1})).slice(0,15).sort((function(e,t){return(0,j.gA)(e.apy).lt((0,j.gA)(t.apy))?1:-1})).slice(0,10):[]}),[Z,te]),re=(0,b.useMemo)((function(){return M&&n?te.reduce((function(e,t){var n=O(t);return n?[].concat((0,r.Z)(e),(0,r.Z)(n)):e}),[]):[]}),[n,M,O,te]);(0,b.useEffect)((function(){if(q&&"Available"===K)return X("Deposited")}),[]),(0,b.useEffect)((function(){return q||"Deposited"!==K?!_&&q&&"Available"===K?X("Deposited"):"Deposited"===K&&C&&!re.length?X("Available"):void 0:X("Available")}),[K,q,_,C,re]);var ie=(0,b.useCallback)((function(t,n,r){(0,j.fU)(n,r,t.original);var i=y.A[t.original.type].route;return e("/earn/".concat(i,"/").concat(t.original.id))}),[e]),ae=(0,b.useMemo)((function(){return 5}),[]),oe=(0,b.useMemo)((function(){return"Deposited"===K?Math.ceil(re.length/ae):Math.ceil(ne.length/ae)}),[K,ne,re,ae]),se=(0,b.useCallback)((function(){return!!L&&(B((function(e){return Math.max(1,e-1)})),!0)}),[B,L]),le=(0,b.useCallback)((function(){if(L===oe)return!1;B((function(e){return Math.min(oe,e+1)}))}),[B,L,oe]),ce=(0,b.useMemo)((function(){if(!re.length)return null;return R?(0,P.jsx)(S.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:(0,P.jsx)(S.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:re.map((function(e){return e.id&&(0,P.jsx)(d.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})}):(0,P.jsxs)(S.gC,{spacing:6,width:"full",children:[(0,P.jsxs)(o.Card,{children:[(0,P.jsx)(S.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between"}),(0,P.jsx)(h.ReactTable,{columns:ee,data:re,initialState:{sortBy:[{id:"balanceUsd",desc:!1}]},rowsPerPage:ae,page:L,onRowClick:function(e){return ie(e,"dashboard_deposited","Dashboard deposited")}})]}),oe>1&&(0,P.jsx)(g.Pagination,{activePage:L,pages:oe,justifyContent:"center",onPrevArrowClick:function(){L&&se()},onNextArrowClick:function(){L<oe&&le()},prevArrowColor:1===L?N.colors.ctaDisabled:N.colors.primary,nextArrowColor:L===oe?N.colors.ctaDisabled:N.colors.primary})]})}),[R,ee,re,L,oe,N,ae,ie,se,le]),ue=(0,b.useMemo)((function(){if(!ne.length)return null;return R?(0,P.jsx)(S.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:(0,P.jsx)(S.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:ne.map((function(e){return e.id&&(0,P.jsx)(d.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})}):(0,P.jsxs)(S.gC,{spacing:6,width:"full",children:[(0,P.jsxs)(o.Card,{children:[(0,P.jsx)(S.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between"}),(0,P.jsx)(h.ReactTable,{columns:Q,data:ne,initialState:{sortBy:[{id:"apy",desc:!1}]},rowsPerPage:ae,page:L,onRowClick:function(e){return ie(e,"dashboard_deposited","Dashboard deposited")}})]}),oe>1&&(0,P.jsx)(g.Pagination,{activePage:L,pages:oe,justifyContent:"center",onPrevArrowClick:function(){L&&se()},onNextArrowClick:function(){L<oe&&le()},prevArrowColor:1===L?N.colors.ctaDisabled:N.colors.primary,nextArrowColor:L===oe?N.colors.ctaDisabled:N.colors.primary})]})}),[R,Q,ne,L,oe,N,ae,ie,se,le]);return n?(0,P.jsxs)(S.gC,{mt:[10,20],spacing:6,width:"full",alignItems:"flex-start",children:[(0,P.jsxs)(S.Ug,{spacing:3,children:[(0,P.jsx)(x.Translation,{component:I.zx,leftIcon:(0,P.jsx)(w.lTP,{size:24}),translation:"common.wallet",variant:"filter","aria-selected":"Deposited"===K,fontSize:"sm",borderRadius:"80px",px:4,onClick:function(){return X("Deposited")}}),(0,P.jsx)(x.Translation,{component:I.zx,leftIcon:(0,P.jsx)(w.pIY,{size:24}),translation:"common.featured",variant:"filter","aria-selected":"Available"===K,fontSize:"sm",borderRadius:"80px",px:4,onClick:function(){return X("Available")}})]}),"Deposited"===K?ce:ue]}):null}},90219:function(e,t,n){"use strict";n.r(t),n.d(t,{DonutChart:function(){return y},PieChart:function(){return g}});var r=n(45987),i=n(1413),a=n(29439),o=n(14380),s=n(7276),l=n(28547),c=n(87563),u=n(68165),d=n(77806),f=n(45263),p=["data","colors","getSliceData"],m={top:0,right:0,bottom:0,left:0};function g(e){var t=e.data,n=e.colors,r=e.width,c=e.height,u=e.margin,p=void 0===u?m:u,g=e.donutThickness,h=void 0===g?30:g,x=e.animate,y=void 0===x||x,j=e.getSliceData,b=(0,s.useState)(null),w=(0,a.Z)(b,2),C=w[0],A=w[1],S=r-p.left-p.right,k=c-p.top-p.bottom,I=Math.min(S,k)/2,P=k/2,T=S/2,z=t.map((function(e){return e.label})),M=z.map((function(e){return n[e]})),Z=(0,l.Z)({domain:z,range:M}),O=j&&j(C);return(0,f.jsxs)("svg",{width:r,height:c,children:[(0,f.jsx)("rect",{rx:14,width:r,height:c,fill:"url('#visx-pie-gradient')"}),O,(0,f.jsx)(o.Z,{top:P+p.top,left:T+p.left,children:(0,f.jsx)(d.Z,{padAngle:0,cornerRadius:0,pieValue:function(e){return e.value},outerRadius:I,innerRadius:I-h,data:t,children:function(e){return(0,f.jsx)(v,(0,i.Z)((0,i.Z)({},e),{},{animate:y,onMouseOver:function(e){var t=e.data;return A(t)},getKey:function(e){return e.data.label},onMouseOut:function(){return A(null)},getColor:function(e){return Z(e.data.label)}}))}})})]})}var h=function(e){var t=e.endAngle;return{startAngle:t>Math.PI?2*Math.PI:0,endAngle:t>Math.PI?2*Math.PI:0,opacity:0}},x=function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,opacity:1}};function v(e){var t=e.animate,n=e.arcs,r=e.path,a=e.getKey,o=e.getColor,s=e.onMouseOut,l=e.onMouseOver,c=e.onClickDatum;return(0,u.useTransition)(n,{from:t?h:x,enter:x,update:x,leave:t?h:x,keys:a})((function(e,t){return(0,f.jsx)("g",{children:(0,f.jsx)(u.animated.path,{d:(0,u.interpolate)([e.startAngle,e.endAngle],(function(e,n){return r((0,i.Z)((0,i.Z)({},t),{},{startAngle:e,endAngle:n}))})),fill:o(t),onClick:function(){return c&&c(t)},onMouseOver:function(){return l&&l(t)},onMouseOut:function(){return s&&s(t)},onTouchStart:function(){return c&&c(t)}})},Math.random())}))}var y=function(e){var t=e.data,n=e.colors,a=e.getSliceData,o=(0,r.Z)(e,p);return(0,f.jsx)(c.Z,{debounceTime:10,children:function(e){return(0,f.jsx)(g,(0,i.Z)({data:t,colors:n,width:e.width,height:e.height,getSliceData:a},o))}})}},64185:function(e,t,n){"use strict";n.r(t),n.d(t,{Footer:function(){return u}});var r=n(7276),i=n(68905),a=n(66288),o=n(3498),s=n(60361),l=n(15542),c=n(45263),u=function(){var e=(0,a.X)().theme,t=(0,r.useMemo)((function(){return{terms:"https://idle.finance/terms-of-service",policy:"https://idle.finance/privacy-policy",faqs:"https://docs.idle.finance/other/faqs",support:"https://discord.gg/mpySAJp",docs:"https://docs.idle.finance/"}}),[]);return(0,c.jsx)(o.xu,{pb:4,mt:[10,20],pt:[10,4],borderTop:"1px solid",borderColor:"divider",children:(0,c.jsxs)(o.Kq,{spacing:10,width:"100%",alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,c.jsx)(o.Kq,{spacing:6,width:["full","auto"],justifyContent:"flex-start",alignItems:["center","flex-start"],direction:["column","row"],children:Object.keys(t).map((function(e){return(0,c.jsx)(l.Translation,{component:o.rU,translation:"footer.links.".concat(e),href:t[e],isExternal:!0,className:"linkDark",textDecoration:"none !important",fontSize:["md","sm"]},"link_".concat(e))}))}),(0,c.jsxs)(o.MI,{spacing:6,columns:4,width:["full","auto"],children:[(0,c.jsx)(o.rU,{display:"flex",justifyContent:"center",href:"https://medium.com/idle-finance",isExternal:!0,sx:{">:hover":{color:"primary !important"}},children:(0,c.jsx)(s.Ru$,{size:24,color:e.colors.divider})}),(0,c.jsx)(o.rU,{display:"flex",justifyContent:"center",href:"https://twitter.com/idlefinance",isExternal:!0,sx:{">:hover":{color:"primary !important"}},children:(0,c.jsx)(s.mWf,{size:24,color:e.colors.divider})}),(0,c.jsx)(o.rU,{display:"flex",justifyContent:"center",href:"https://discord.gg/mpySAJp",isExternal:!0,sx:{">:hover":{color:"primary !important"}},children:(0,c.jsx)(s.Mqf,{size:24,color:e.colors.divider})}),(0,c.jsx)(o.rU,{display:"flex",justifyContent:"center",href:"https://gov.idle.finance/",isExternal:!0,sx:{">:hover":{color:"primary !important"}},children:(0,c.jsx)(i.Upc,{size:24,color:e.colors.divider})})]})]})})}},10956:function(e,t,n){"use strict";n.r(t),n.d(t,{Pagination:function(){return u}});var r=n(1413),i=n(45987),a=(n(7276),n(55967)),o=n(3498),s=n(43127),l=n(45263),c=["onPrevArrowClick","onNextArrowClick","prevArrowColor","nextArrowColor","activePage","pages"],u=function(e){var t=e.onPrevArrowClick,n=e.onNextArrowClick,u=e.prevArrowColor,d=e.nextArrowColor,f=e.activePage,p=e.pages,m=(0,i.Z)(e,c);return(0,l.jsx)(o.kC,(0,r.Z)((0,r.Z)({width:"100%",alignItems:"center",justifyContent:"flex-end"},m),{},{children:(0,l.jsxs)(o.Ug,{spacing:2,children:[(0,l.jsx)(s.zx,{variant:"link",minW:"auto",onClick:t,children:(0,l.jsx)(a.lrP,{color:u})}),(0,l.jsxs)(o.xv,{textStyle:"ctaStatic",children:[f,"/",p]}),(0,l.jsx)(s.zx,{variant:"link",minW:"auto",onClick:n,children:(0,l.jsx)(a.KEG,{color:d})})]})}))}},40792:function(e,t,n){"use strict";n.r(t),n.d(t,{PartnersPrograms:function(){return u}});var r=n(7276),i=n(54447),a=n(55967),o=n(15542),s=n(3498),l=n(2092),c=n(45263),u=function(){var e=(0,r.useMemo)((function(){return{institutions:{url:"https://docs.idle.finance/products/get-involved/institutions-program"},integrators:{url:"https://docs.idle.finance/products/get-involved/integrators-program"},security:{url:"https://docs.idle.finance/developers/security"}}}),[]);return(0,c.jsx)(s.MI,{spacing:6,width:"full",columns:[1,3],children:Object.keys(e).map((function(t,n){return(0,c.jsx)(i.Card.Flex,{flexDirection:"column",alignItems:"flex-start",children:(0,c.jsxs)(s.gC,{flex:1,spacing:6,alignItems:"flex-start",children:[(0,c.jsx)(l.Ee,{src:"images/partners/".concat(t,".png"),width:16,height:16}),(0,c.jsx)(o.Translation,{height:12,isHtml:!0,translation:"partnerPrograms.".concat(t,".title"),component:s.X6,as:"h3",fontSize:"h3"}),(0,c.jsx)(o.Translation,{translation:"partnerPrograms.".concat(t,".body"),textStyle:"captionSmall"}),(0,c.jsxs)(s.Ug,{flex:1,spacing:1,alignItems:"flex-end",children:[(0,c.jsx)(o.Translation,{href:e[t].url,component:s.rU,isExternal:!0,translation:"partnerPrograms.".concat(t,".cta"),textStyle:["ctaStatic","clickable"]}),(0,c.jsx)(a.AeI,{size:24})]})]})},"program_".concat(n))}))})}},88129:function(e,t,n){"use strict";n.r(t),n.d(t,{StrategyOverview:function(){return h}});var r=n(1413),i=n(29439),a=n(99594),o=n(7276),s=n(86059),l=n(15542),c=n(1669),u=n(9597),d=n(3498),f=n(43127),p=n(89030),m=n(1494),g=n(45263),h=function(e){var t=e.textProps,n=e.showHeader,h=void 0===n||n,x=e.showLoading,v=void 0===x||x,y=e.strategies,j=(0,o.useState)(!0),b=(0,i.Z)(j,2),w=b[0],C=b[1],A=(0,c.w)(),S=A.isVaultsPositionsLoaded,k=A.vaultsPositions,I=(0,m.O)({assetIds:Object.keys(k),strategies:y}).compositions,P=(0,o.useMemo)((function(){return I.strategies.filter((function(e){return y.includes(e.extraData.strategy.type)})).reduce((function(e,t){return e.redeemable=e.redeemable.plus(t.value),e.deposited=e.deposited.plus(t.extraData.deposited),e.realizedApy=e.realizedApy.plus((0,a.gA)(t.extraData.avgRealizedApy).times(t.value)),e}),{deposited:(0,a.gA)(0),redeemable:(0,a.gA)(0),realizedApy:(0,a.gA)(0)})}),[I,y]);return P.realizedApy=P.realizedApy.div(P.redeemable),v||S&&!P.deposited.lte(0)?(0,g.jsxs)(d.gC,{spacing:6,alignItems:"flex-start",children:[h&&(0,g.jsxs)(d.Ug,{spacing:2,children:[(0,g.jsx)(l.Translation,{translation:"defi.yourWallet",textStyle:"heading",color:"primary",fontSize:"lg"}),(0,g.jsx)(f.zx,{variant:"unstyled",onClick:function(){return C((function(e){return!e}))},children:w?(0,g.jsx)(u.Zju,{size:24,color:"white"}):(0,g.jsx)(u.I0d,{size:24,color:"white"})})]}),(0,g.jsxs)(d.MI,{columns:3,spacing:[2,10],children:[(0,g.jsxs)(d.gC,{spacing:2,alignItems:"flex-start",children:[(0,g.jsx)(l.Translation,{translation:"defi.deposited",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,g.jsx)(p.N2,{noOfLines:2,isLoaded:!!S,minW:"100%",children:(0,g.jsx)(s.Amount.Usd,(0,r.Z)({value:P.deposited,textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:w?{}:{filter:"blur(7px)"}},t))})]}),(0,g.jsxs)(d.gC,{spacing:2,alignItems:"flex-start",children:[(0,g.jsx)(l.Translation,{translation:"defi.earnings",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,g.jsx)(p.N2,{noOfLines:2,isLoaded:!!S,minW:"100%",children:(0,g.jsx)(s.Amount.Usd,(0,r.Z)({value:P.redeemable.minus(P.deposited),textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:w?{}:{filter:"blur(7px)"}},t))})]}),(0,g.jsxs)(d.gC,{spacing:2,alignItems:"flex-start",children:[(0,g.jsx)(l.Translation,{translation:"defi.realizedApy",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,g.jsx)(p.N2,{noOfLines:2,isLoaded:!!S,minW:"100%",children:(0,g.jsx)(s.Amount.Percentage,(0,r.Z)({value:P.realizedApy,textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:w?{}:{filter:"blur(7px)"}},t))})]})]})]}):null}},67360:function(e,t,n){"use strict";n.r(t),n.d(t,{SwitchNetworkButton:function(){return d}});var r=n(1413),i=n(45987),a=(n(7276),n(65963)),o=n(43127),s=n(39195),l=n(15542),c=n(45263),u=["chainId"],d=function(e){var t=e.chainId,n=(0,i.Z)(e,u),d=(0,s.Y)().setChainId;return(0,c.jsx)(l.Translation,(0,r.Z)({component:o.zx,translation:"network.switchTo",params:{network:a.QW[t].name},onClick:function(){return d(t)},variant:"ctaPrimary",width:["full","auto"],px:10,py:2},n))}},61925:function(e,t,n){"use strict";n.r(t),n.d(t,{TimeframeSelector:function(){return u}});var r=n(1413),i=n(45987),a=(n(7276),n(98440)),o=n(3498),s=n(43127),l=n(45263),c=["timeframe","setTimeframe","variant"],u=function(e){var t=e.timeframe,n=e.setTimeframe,u=e.variant,d=void 0===u?"text":u,f=(0,i.Z)(e,c);return(0,l.jsx)(o.Ug,(0,r.Z)((0,r.Z)({spacing:"button"===d?4:[6,10]},f),{},{children:Object.values(a.W).map((function(e){var r=e===t;switch(d){default:case"text":return(0,l.jsx)(o.xv,{textStyle:"cta",color:"ctaDisabled","aria-selected":r,onClick:function(){return n(e)},children:e.toUpperCase()},"timeframe_".concat(e));case"button":return(0,l.jsx)(s.zx,{px:3,border:0,textStyle:"cta",variant:"filter","aria-selected":r,onClick:function(){return n(e)},children:e.toUpperCase()},"timeframe_".concat(e))}}))}))}},39538:function(e,t,n){"use strict";n.r(t),n.d(t,{VaultsCarousel:function(){return f}});n(37413),n(7276);var r=n(10604),i=n(3498),a=n(95173),o=n(12056),s=n(99594),l=n(66288),c=n(75349),u=n(1669),d=n(45263),f=function(){var e=(0,a.s0)(),t=(0,l.X)().isMobile,n=(0,u.w)(),f=n.vaults,p=n.isPortfolioLoaded,m=n.selectors.selectAssetById;return p?(0,d.jsx)(i.Ug,{mt:2,left:0,zIndex:1,spacing:2,width:"100%",overflow:"hidden",position:"absolute",children:(0,d.jsx)(r.Z,{gradient:!1,pauseOnHover:!0,speed:t?40:15,children:(0,d.jsx)(i.Ug,{ml:2,spacing:2,children:f.map((function(t){var n=o.A[t.type];if(!n||!n.route)return null;var r=m(t.id);if(!r||(0,s.d5)(r.apr).lte(0)||["paused","deprecated"].includes(r.status))return null;var i=(0,s.qC)("earn",[n.route]);return(0,d.jsx)(c.VaultCard.Inline,{showDivider:!1,assetId:"".concat(t.id),onClick:function(){return e("".concat(i,"/").concat(t.id))},fields:[{field:"apy",label:"defi.apy",labelPos:"right",props:{}},{field:"productTag",props:{px:3}},{field:"strategies",props:{ml:0,maxW:"initial"},parentProps:{ml:"1 !important"}}]},"vault_".concat(t.id))}))})})}):null}},15034:function(e,t,n){"use strict";n.d(t,{k:function(){return d}});var r=n(1413),i=n(29439),a=n(66549),o=n.n(a),s=n(5128),l=n(7276),c=n(1669),u=n(99594),d=function(e){var t=e.assetIds,n=e.strategies,a=e.timeframe,d=e.allowFlatChart,f=void 0!==d&&d,p=e.useDollarConversion,m=void 0===p||p,g=(0,c.w)(),h=g.isPortfolioLoaded,x=g.historicalPrices,v=g.historicalPricesUsd,y=g.selectors,j=y.selectAssetsByIds,b=y.selectVaultTransactions,w=y.selectAssetHistoricalPriceByTimestamp,C=y.selectAssetHistoricalPriceUsdByTimestamp,A=(0,l.useState)(!0),S=(0,i.Z)(A,2),k=S[0],I=S[1],P=(0,l.useMemo)((function(){return j?j(t).filter((function(e){return!n||!e.type||n.includes(e.type)})):[]}),[t,n,j]),T=(0,l.useMemo)((function(){return a?(0,u.pM)(a):0}),[a]),z=(0,l.useMemo)((function(){var e={total:[],rainbow:[]};if(!h||(0,u.xb)(x)||(0,u.xb)(v))return e;var t=P.reduce((function(e,t){if(null===t||void 0===t||!t.id)return e;var n=t.id,r=b(n);if(!r.length)return e;var i=r.reduce((function(e,t){var n=+o()(1e3*+t.timeStamp).startOf("day").valueOf();switch(t.action){case"deposit":e.total=e.total.plus(t.idleAmount);break;case"redeem":e.total=s.Z.maximum(0,e.total.minus(t.idleAmount))}return e.byDate[n]=e.total,e}),{total:(0,u.gA)(0),byDate:{}});return Object.keys(i.byDate).forEach((function(n){e[n]||(e[n]={}),t.id&&(e[n][t.id]=parseFloat(i.byDate[n].toFixed(8)))})),e}),{});if((0,u.xb)(t)){if(!f)return e;t[T]=0}for(var n=+Object.keys(t).sort()[0],i=+o()().endOf("day").valueOf(),a=(0,u.Up)(n,i),l={},c=0,d=null;c<a.length;c++){var p=a[c];l[p]=(0,r.Z)((0,r.Z)({},d?l[d]:{}),t[p]),d=p}var g={},y={};return Object.keys(l).forEach((function(e){var t=l[e];Object.keys(t).forEach((function(n){var r=P.find((function(e){return e.id===n})),i=null===r||void 0===r?void 0:r.underlyingId,a=w(n,e)||g[n];if(a&&(t[n]=parseFloat((0,u.gA)(t[n]).times((0,u.gA)(a.value)).toFixed(8)),g[n]=a),m){var o=C(i,e)||y[n];o&&(t[n]=parseFloat((0,u.gA)(t[n]).times((0,u.gA)(o.value)).toFixed(8)),y[n]=o)}})),t.total=Object.values(t).reduce((function(e,t){return e+t}),0)})),e.total=Object.keys(l).reduce((function(e,t){return t<T||e.push({date:parseInt(t),value:l[t].total}),e}),[]),e.rainbow=Object.keys(l).reduce((function(e,t){return t<T||e.push((0,r.Z)({date:parseInt(t),total:l[t].total},l[t])),e}),[]),e}),[P,m,T,b,h,x,v,w,C]);return(0,l.useEffect)((function(){if(z.rainbow.length)return I(!1),function(){I(!0)}}),[z]),{assets:P,balanceChartData:z,balanceChartDataLoading:k}}},1494:function(e,t,n){"use strict";n.d(t,{O:function(){return d}});var r=n(93433),i=n(4942),a=n(1413),o=n(7276),s=n(99594),l=n(79681),c=n(12056),u=n(1669),d=function(e){var t=e.assetIds,n=e.strategies,d=(0,l.qM)(),f=(0,u.w)().selectors,p=f.selectAssetById,m=f.selectAssetsByIds,g=(0,o.useMemo)((function(){return m?m(t):[]}),[t,m]),h=Object.keys(c.A).reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,i.Z)({},t,{balance:(0,s.gA)(0),deposited:(0,s.gA)(0),weightedRealizedApy:(0,s.gA)(0)}))}),{}),x=(0,o.useMemo)((function(){return g.filter((function(e){return e.type&&(!n||n.includes(e.type))})).reduce((function(e,t){var n;return t.type&&t.vaultPosition?(e[t.type].balance=e[t.type].balance.plus(t.vaultPosition.usd.redeemable),e[t.type].deposited=e[t.type].deposited.plus(t.vaultPosition.usd.deposited),(0,s.gA)(null===(n=t.vaultPosition)||void 0===n?void 0:n.realizedApy).gt(0)&&(e[t.type].weightedRealizedApy=e[t.type].weightedRealizedApy.plus(t.vaultPosition.realizedApy.times(t.vaultPosition.usd.redeemable))),e):e}),h)}),[g,n,h]),v=(0,o.useMemo)((function(){return g.filter((function(e){return e.type&&(!n||n.includes(e.type))})).reduce((function(e,t){if(!t.underlyingId||!t.vaultPosition)return e;var n=p(t.underlyingId);return n?(e[n.id]||(e[n.id]=(0,s.gA)(0)),e[n.id]=e[n.id].plus(t.vaultPosition.usd.redeemable),e):e}),{})}),[g,n,p]),y={assets:[],strategies:[]};y.strategies=(0,o.useMemo)((function(){return Object.keys(x).map((function(e){return{label:d(c.A[e].label),extraData:{avgRealizedApy:x[e].balance.gt(0)?parseFloat(x[e].weightedRealizedApy.div(x[e].balance)):0,strategy:c.A[e],deposited:parseFloat(x[e].deposited)},value:parseFloat(x[e].balance)}}))}),[x,d]),y.assets=(0,o.useMemo)((function(){return Object.keys(v).reduce((function(e,t){var i=p(t);return!i||i.type&&(!n||n.includes(i.type))?e:[].concat((0,r.Z)(e),[{label:i.name,extraData:{asset:i},value:parseFloat(v[t])}])}),[])}),[v,p,n]);var j={assets:{},strategies:{}};return j.strategies=(0,o.useMemo)((function(){return Object.values(c.A).reduce((function(e,t){var n=d(t.label);return(0,a.Z)((0,a.Z)({},e),{},(0,i.Z)({},n,t.color))}),{})}),[d]),j.assets=(0,o.useMemo)((function(){return Object.keys(v).reduce((function(e,t){var n=p(t);if(!n)return e;var r=n.name;return(0,a.Z)((0,a.Z)({},e),{},(0,i.Z)({},r,n.color))}),{})}),[v,p]),{colors:j,compositions:y}}},10604:function(e,t,n){var r=n(7276);function i(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var a=i(r),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};!function(e){if(e&&"undefined"!==typeof window){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}}('.marquee-container {\n  overflow-x: hidden !important;\n  display: flex !important;\n  flex-direction: row !important;\n  position: relative;\n  width: 100%;\n}\n.marquee-container:hover div {\n  animation-play-state: var(--pause-on-hover);\n}\n.marquee-container:active div {\n  animation-play-state: var(--pause-on-click);\n}\n\n.overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.overlay::before, .overlay::after {\n  background: linear-gradient(to right, var(--gradient-color));\n  content: "";\n  height: 100%;\n  position: absolute;\n  width: var(--gradient-width);\n  z-index: 2;\n}\n.overlay::after {\n  right: 0;\n  top: 0;\n  transform: rotateZ(180deg);\n}\n.overlay::before {\n  left: 0;\n  top: 0;\n}\n\n.marquee {\n  flex: 0 0 auto;\n  min-width: 100%;\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);\n  animation-play-state: var(--play);\n  animation-delay: var(--delay);\n  animation-direction: var(--direction);\n}\n@keyframes scroll {\n  0% {\n    transform: translateX(0%);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}');t.Z=function(e){var t,n,i,s,l=e.style,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,f=e.play,p=void 0===f||f,m=e.pauseOnHover,g=void 0!==m&&m,h=e.pauseOnClick,x=void 0!==h&&h,v=e.direction,y=void 0===v?"left":v,j=e.speed,b=void 0===j?20:j,w=e.delay,C=void 0===w?0:w,A=e.loop,S=void 0===A?0:A,k=e.gradient,I=void 0===k||k,P=e.gradientColor,T=void 0===P?[255,255,255]:P,z=e.gradientWidth,M=void 0===z?200:z,Z=e.onFinish,O=e.onCycleComplete,D=e.children,E=r.useState(0),U=E[0],L=E[1],B=r.useState(0),F=B[0],N=B[1],R=r.useState(!1),H=R[0],q=R[1],_=r.useRef(null),W=r.useRef(null);r.useEffect((function(){if(H){var e=function(){W.current&&_.current&&(L(_.current.getBoundingClientRect().width),N(W.current.getBoundingClientRect().width))};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[H]),r.useEffect((function(){q(!0)}),[]);var V="rgba("+T[0]+", "+T[1]+", "+T[2],K=F<U?U/b:F/b;return a.default.createElement(r.Fragment,null,H?a.default.createElement("div",{ref:_,style:o(o({},c),(t={},t["--pause-on-hover"]=!p||g?"paused":"running",t["--pause-on-click"]=!p||g&&!x||x?"paused":"running",t)),className:d+" marquee-container"},I&&a.default.createElement("div",{style:(n={},n["--gradient-color"]=V+", 1), "+V+", 0)",n["--gradient-width"]="number"===typeof M?M+"px":M,n),className:"overlay"}),a.default.createElement("div",{ref:W,style:(i={},i["--play"]=p?"running":"paused",i["--direction"]="left"===y?"normal":"reverse",i["--duration"]=K+"s",i["--delay"]=C+"s",i["--iteration-count"]=S?""+S:"infinite",i),className:"marquee",onAnimationIteration:O,onAnimationEnd:Z},D),a.default.createElement("div",{style:(s={},s["--play"]=p?"running":"paused",s["--direction"]="left"===y?"normal":"reverse",s["--duration"]=K+"s",s["--delay"]=C+"s",s["--iteration-count"]=S?""+S:"infinite",s),className:"marquee","aria-hidden":"true"},D)):null)}},69929:function(e,t,n){var r,i,a;a=function(){var e,t,n=document,r=n.getElementsByTagName("head")[0],i={},a={},o={},s={};function l(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return 1}function c(e,t){l(e,(function(e){return t(e),1}))}function u(t,n,r){t=t.push?t:[t];var f=n&&n.call,p=f?n:r,m=f?t.join(""):n,g=t.length;function h(e){return e.call?e():i[e]}function x(){if(!--g)for(var e in i[m]=1,p&&p(),o)l(e.split("|"),h)&&!c(o[e],h)&&(o[e]=[])}return setTimeout((function(){c(t,(function t(n,r){return null===n?x():(r||/^https?:\/\//.test(n)||!e||(n=-1===n.indexOf(".js")?e+n+".js":e+n),s[n]?(m&&(a[m]=1),2==s[n]?x():setTimeout((function(){t(n,!0)}),0)):(s[n]=1,m&&(a[m]=1),void d(n,x)))}))}),0),u}function d(e,i){var a,o=n.createElement("script");o.onload=o.onerror=o.onreadystatechange=function(){o.readyState&&!/^c|loade/.test(o.readyState)||a||(o.onload=o.onreadystatechange=null,a=1,s[e]=2,i())},o.async=1,o.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,r.insertBefore(o,r.lastChild)}return u.get=d,u.order=function(e,t,n){!function r(i){i=e.shift(),e.length?u(i,r):u(i,t,n)}()},u.path=function(t){e=t},u.urlArgs=function(e){t=e},u.ready=function(e,t,n){e=e.push?e:[e];var r,a=[];return!c(e,(function(e){i[e]||a.push(e)}))&&l(e,(function(e){return i[e]}))?t():(r=e.join("|"),o[r]=o[r]||[],o[r].push(t),n&&n(a)),u},u.done=function(e){u([null],e)},u},e.exports?e.exports=a():void 0===(i="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)},37413:function(e,t,n){"use strict";n.r(t),t.default={}}}]);