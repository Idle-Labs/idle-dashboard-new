"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[7545,8194],{58194:function(e,t,n){n.r(t),n.d(t,{ReactTable:function(){return p}});var r=n(1413),i=n(29439),a=n(7276),s=n(55967),o=n(63591),l=n(96699),c=n(3498),d=n(26720),u=n(67503),f=n(45263),g=function(e){var t=e.column,n=(0,l.Fg)();return(0,f.jsxs)(c.kC,{alignItems:"center",layerStyle:"tableHeader",justifyContent:"space-between",children:[t.render("Header"),t.canSort&&(0,f.jsxs)(c.kC,{direction:"column",children:[(0,f.jsx)(s.rWj,{size:20,fill:t.isSorted&&t.isSortedDesc?n.colors.primary:n.colors.table.arrow,"aria-label":"sorted ascending",style:{position:"absolute"}}),(0,f.jsx)(s.Ix0,{size:20,fill:t.isSorted?t.isSortedDesc?n.colors.table.arrow:n.colors.primary:n.colors.table.arrow,"aria-label":"sorted descending",style:{marginTop:10}})]})]})},p=function(e){var t=e.columns,n=e.data,p=e.page,m=e.rowsPerPage,x=e.displayHeaders,h=void 0===x||x,v=e.onRowClick,j=e.onToggleRow,b=e.initialState,y=(0,l.Fg)(),w=(0,d.ff)("black","white"),C=(0,a.useState)(null),A=(0,i.Z)(C,2),T=A[0],S=A[1],k=(0,o.useTable)({columns:t,data:n,initialState:b},o.useSortBy),R=k.getTableProps,Z=k.getTableBodyProps,M=k.headerGroups,B=k.rows,I=k.prepareRow,P=(0,a.useCallback)((function(e){S((function(t){return t===e?null:e}))}),[S]);(0,a.useEffect)((function(){if(j)return j(T)}),[j,T]);var H=(0,a.useMemo)((function(){return m&&p?B.slice(m*(p-1),m*p):B}),[B,p,m]),_=(0,a.useMemo)((function(){return H.map((function(e,t){var n=!1;I(e);var i=t===H.length-1,o=i&&!T?{borderBottom:0}:{};return(0,f.jsxs)(f.Fragment,{children:[(0,a.createElement)(u.Tr,(0,r.Z)((0,r.Z)({},e.getRowProps()),{},{tabIndex:e.index,layerStyle:"tableRow",backgroundColor:T===e?"card.bgLight":"initial",onClick:function(){var t;return(null===(t=e.subRows)||void 0===t?void 0:t.length)>0?P(e):null===v||void 0===v?void 0:v(e)},cursor:v?"pointer":void 0,sx:o,key:t}),e.cells.map((function(t,i){var o,l=!n&&"none"!==t.column.display,d=i===e.cells.length-1;l&&(n=!0);var g=l?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:d?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,a.createElement)(u.Td,(0,r.Z)((0,r.Z)({},t.getCellProps()),{},{display:t.column.display,sx:g,key:i}),(0,f.jsxs)(c.Ug,{flex:1,width:"full",justifyContent:"space-between",children:[t.render("Cell"),d&&(null===(o=e.subRows)||void 0===o?void 0:o.length)>0&&(T===e?(0,f.jsx)(s.rWj,{size:24,color:y.colors.primary}):(0,f.jsx)(s.Ix0,{size:24,color:y.colors.primary}))]}))}))),T===e&&e.subRows.map((function(t,s){I(t);var o=s===e.subRows.length-1,l=i&&o?{borderBottom:0}:{};return(0,a.createElement)(u.Tr,(0,r.Z)((0,r.Z)({},t.getRowProps()),{},{tabIndex:t.index,layerStyle:"tableRow",backgroundColor:"button.bgHover",onClick:function(){return null===v||void 0===v?void 0:v(t)},cursor:v?"pointer":void 0,sx:l,key:s}),t.cells.map((function(e,i){var s=!n&&"none"!==e.column.display,o=i===t.cells.length-1;s&&(n=!0);var l=s?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:o?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,a.createElement)(u.Td,(0,r.Z)((0,r.Z)({},e.getCellProps()),{},{display:e.column.display,sx:l,key:i}),e.render("Cell"))})))}))]})}))}),[P,T,I,y,H,v]);return(0,f.jsxs)(u.iA,(0,r.Z)((0,r.Z)({variant:"clickable",size:{base:"sm",md:"md"}},R()),{},{children:[h&&(0,f.jsx)(u.hr,{children:M.map((function(e,t){var n=!1;return(0,a.createElement)(u.Tr,(0,r.Z)((0,r.Z)({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map((function(t,i){var s=!n&&"none"!==t.display,o=i===e.headers.length-1;s&&(n=!0);var l=s?{paddingLeft:0,paddingRight:4}:o?{paddingLeft:4,paddingRight:0}:{paddingLeft:4,paddingRight:4};return(0,a.createElement)(u.Th,(0,r.Z)((0,r.Z)({},t.getHeaderProps(t.getSortByToggleProps({title:void 0}))),{},{color:"gray.500",fontWeight:400,display:t.display,textAlign:t.textAlign,_hover:{color:t.canSort?w:"gray.500"},style:l,key:"th_".concat(i)}),(0,f.jsx)(g,{column:t}))})))}))}),(0,f.jsx)(u.p3,(0,r.Z)((0,r.Z)({},Z()),{},{children:_}))]}))}},87545:function(e,t,n){n.r(t),n.d(t,{Strategy:function(){return M},TableField:function(){return Z}});var r=n(93433),i=n(1413),a=n(29439),s=n(54447),o=n(79681),l=n(95173),c=n(86059),d=n(55967),u=n(39807),f=n(66288),g=n(75349),p=n(47174),m=n(58194),x=n(15542),h=n(85267),v=n(1669),j=n(12056),b=n(75712),y=n(7276),w=n(88129),C=n(99594),A=n(89030),T=n(3498),S=n(82137),k=n(2092),R=n(45263),Z=function(e){var t=e.field,n=e.row,r=e.value,i=n.original.id;return(0,R.jsx)(A.N2,{noOfLines:2,isLoaded:!!r,children:(0,R.jsx)(b.AssetProvider,{assetId:i,children:(0,R.jsx)(b.AssetProvider.GeneralData,{section:"strategy",field:t})})})},M=function(){var e=(0,l.s0)(),t=(0,o.qM)(),n=(0,p.Y)().account,b=(0,f.X)().isMobile,M=(0,u.f)().openModal,B=(0,h.m)(),I=B.location,P=B.params,H=(0,y.useState)(null),_=(0,a.Z)(H,2),L=_[0],z=_[1],E=(0,y.useState)(null),F=(0,a.Z)(E,2),O=F[0],U=F[1],q=(0,v.w)(),K=q.isPortfolioLoaded,N=q.selectors,W=N.selectVaultsWithBalance,D=N.selectVaultsAssetsByType,V=N.selectVaultsAssetsWithBalance,Y=(0,y.useMemo)((function(){return Object.keys(j.A).find((function(e){return j.A[e].route===P.strategy}))}),[P]),G=(0,y.useCallback)((function(t,n,r){return(0,C.fU)(n,r,t.original),e("".concat(null===I||void 0===I?void 0:I.pathname.replace(/\/$/,""),"/").concat(t.original.id))}),[e,I]),X=(0,y.useMemo)((function(){return Y&&j.A[Y].columns}),[Y]),J=(0,y.useMemo)((function(){return Y&&X?X.map((function(e){var n=e.id,r=e.accessor,a=e.sortType,s="alpha"===a?C.YC:"numeric"===a?C._O:void 0;return{id:n,accessor:r,disableSortBy:!s,defaultCanSort:!!s,Header:t(e.title||"defi.".concat(n)),sortType:s?function(e,t){return s(e,t,r)}:void 0,Cell:function(t){var r=t.value,a=t.row;return e.extraFields&&e.extraFields.length>0?(0,R.jsxs)(T.Kq,(0,i.Z)((0,i.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,R.jsx)(Z,{field:n,value:r,row:a}),e.extraFields.map((function(e){return(0,R.jsx)(Z,{field:e,value:r,row:a},"extraField_".concat(e))}))]})):(0,R.jsx)(Z,{field:n,value:r,row:a})}}})):[]}),[Y,X,t]),$=(0,y.useMemo)((function(){return Y&&X?X.filter((function(e){return!e.tables||e.tables.includes("Deposited")})).map((function(e){var n=e.id,r=e.accessor,a=e.sortType,s="alpha"===a?C.YC:"numeric"===a?C._O:void 0;return{id:n,accessor:r,disableSortBy:!s,defaultCanSort:!!s,Header:t(e.title||"defi.".concat(n)),sortType:s?function(e,t){return s(e,t,r)}:void 0,Cell:function(t){var r=t.value,a=t.row;return e.extraFields&&e.extraFields.length>0?(0,R.jsxs)(T.Kq,(0,i.Z)((0,i.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,R.jsx)(Z,{field:n,value:r,row:a}),e.extraFields.map((function(e){return(0,R.jsx)(Z,{field:e,value:r,row:a},"extraField_".concat(e))}))]})):(0,R.jsx)(Z,{field:n,value:r,row:a})}}})):[]}),[Y,X,t]),Q=(0,y.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,r.Z)($),[{accessor:"balanceUsd",Header:t("defi.balance"),Cell:function(e){var t=e.value;return(0,R.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:(0,R.jsx)(c.Amount.Usd,{value:t,textStyle:"tableCell"})})},sortType:C._O},{accessor:"vaultPosition",Header:t("defi.realizedApy"),Cell:function(e){var t=e.value;return(0,R.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:t&&(0,R.jsxs)(S.kN,{children:[(0,R.jsx)(S.Jf,{children:(0,R.jsxs)(T.kC,{direction:"row",alignItems:"center",children:[!t.realizedApy.isNaN()&&(0,R.jsx)(S.uY,{type:"increase"}),(0,R.jsx)(c.Amount.Percentage,{value:t.realizedApy,textStyle:"tableCell"})]})}),(0,R.jsx)(c.Amount.Usd,{prefix:"+",value:t.usd.earnings,textStyle:"captionSmall"})]})})},sortType:function(e,t){return(0,C._O)(e,t,"vaultPosition.earningsPercentage")}}])}),[t,$]),ee=(0,y.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,r.Z)(J))}),[J]),te=(0,y.useMemo)((function(){return W&&K?V(Y):[]}),[K,W,V,Y]),ne=(0,y.useMemo)((function(){return D&&K?D(Y).filter((function(e){return!te.map((function(e){return e.id})).includes(e.id)})):[]}),[K,D,te,Y]),re=(0,y.useMemo)((function(){return Y?"".concat(Y,"_deposited"):""}),[Y]),ie=(0,y.useMemo)((function(){if(!Y)return"";var e=t(j.A[Y].label);return"".concat(e," - ").concat(t("defi.deposited"))}),[Y,t]),ae=(0,y.useMemo)((function(){return Y?"".concat(Y,"_available"):""}),[Y]),se=(0,y.useMemo)((function(){if(!Y)return"";var e=t(j.A[Y].label);return"".concat(e," - ").concat(t("common.available"))}),[Y,t]);(0,y.useEffect)((function(){if(Y&&O!==Y&&te.length){var e=te.map((function(e){return(0,C.ym)(e,re,ie)}));(0,C.y6)(re,ie,e),U(Y)}}),[n,Y,t,re,ie,te,O,U]),(0,y.useEffect)((function(){if(Y&&L!==Y&&ne.length){var e=ne.map((function(e){return(0,C.ym)(e,ae,se)}));(0,C.y6)(ae,se,e),z(Y)}}),[n,t,ae,se,L,z,Y,ne]);var oe=(0,y.useMemo)((function(){if(!te.length)return null;return b?(0,R.jsxs)(T.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,R.jsx)(x.Translation,{translation:"defi.depositedAssets",component:T.X6,as:"h3",fontSize:"lg"}),(0,R.jsx)(T.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:te.map((function(e){return e.id&&(0,R.jsx)(g.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})]}):(0,R.jsxs)(s.Card,{mt:10,children:[(0,R.jsx)(x.Translation,{translation:"defi.depositedAssets",component:s.Card.Heading,fontSize:"lg"}),(0,R.jsx)(m.ReactTable,{columns:Q,data:te,initialState:{sortBy:[{id:"balanceUsd",desc:!1}]},onRowClick:function(e){return G(e,re,ie)}})]})}),[b,Q,re,ie,te,G]),le=(0,y.useMemo)((function(){if(K&&!ne.length)return null;return b?(0,R.jsxs)(T.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,R.jsx)(x.Translation,{translation:"defi.availableAssets",component:T.X6,as:"h3",fontSize:"lg"}),(0,R.jsx)(T.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:ne.map((function(e){return e.id&&(0,R.jsx)(g.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})]}):(0,R.jsxs)(s.Card,{mt:10,children:[(0,R.jsx)(x.Translation,{translation:"defi.availableAssets",component:s.Card.Heading,fontSize:"lg"}),ne.length?(0,R.jsx)(m.ReactTable,{columns:ee,data:ne,initialState:{sortBy:[{id:"tvl",desc:!1}]},onRowClick:function(e){return G(e,ae,se)}}):(0,R.jsxs)(T.Kq,{children:[(0,R.jsx)(A.Od,{}),(0,R.jsx)(A.Od,{})]})]})}),[b,K,ee,ae,se,ne,G]),ce=(0,y.useMemo)((function(){var e,t,n,r;if(!Y||!j.A[Y].banner)return null;var i=null===(e=j.A[Y].banner)||void 0===e?void 0:e.modal;return(0,R.jsx)(s.Card.Dark,{p:[4,5],border:0,position:"relative",children:(0,R.jsxs)(T.Kq,{width:"full",spacing:[2,3],alignItems:"center",justifyContent:"center",direction:["column","row"],children:[(0,R.jsx)(x.Translation,{component:T.xu,width:"auto",textAlign:"center",translation:"common.new",layerStyle:"gradientBadge"}),(0,R.jsx)(x.Translation,{textAlign:"center",translation:null===(t=j.A[Y].banner)||void 0===t?void 0:t.text,isHtml:!0,textStyle:"caption"}),"BY"===Y&&(0,R.jsxs)(T.Ug,{spacing:2,children:[(0,R.jsx)(k.Ee,{src:"images/strategies/AA.svg",width:6}),(0,R.jsx)(k.Ee,{src:"images/strategies/BB.svg",width:6})]}),(null===(n=j.A[Y].banner)||void 0===n?void 0:n.cta)&&(0,R.jsxs)(T.Ug,{spacing:2,right:[0,6],alignItems:"center",justifyContent:"center",position:["relative","absolute"],children:[(0,R.jsx)(x.Translation,{translation:null===(r=j.A[Y].banner)||void 0===r?void 0:r.cta,textAlign:"center",textStyle:"cta",onClick:function(){return M(i)}}),(0,R.jsx)(d.KEG,{})]})]})})}),[Y,M]),de=(0,y.useMemo)((function(){return Y?(0,R.jsxs)(T.gC,{width:"full",spacing:10,children:[ce,(0,R.jsxs)(T.Kq,{spacing:[8,0],direction:["column","row"],alignItems:["center","flex-start"],width:["100%","100%","100%","100%","70%"],children:[(0,R.jsxs)(T.gC,{pr:[0,14],pt:[0,20],spacing:10,direction:"column",width:["100%","65%"],alignItems:["center","flex-start"],children:[(0,R.jsx)(x.Translation,{isHtml:!0,translation:j.A[Y].title||j.A[Y].label,component:T.X6,fontFamily:"body",as:"h2",size:"3xl",fontWeight:"bold"}),!b&&(0,R.jsx)(T.kC,{width:["100%","80%"],children:(0,R.jsx)(x.Translation,{translation:j.A[Y].description,textAlign:["center","left"]})}),!b&&(0,R.jsx)(w.StrategyOverview,{strategies:[Y]})]}),(0,R.jsx)(k.Ee,{width:["60%","33%"],src:j.A[Y].image}),b&&(0,R.jsx)(x.Translation,{translation:j.A[Y].description,textAlign:["center","left"]}),b&&(0,R.jsx)(w.StrategyOverview,{strategies:[Y]})]})]}):null}),[Y,ce,b]);return(0,R.jsxs)(T.kC,{mt:14,width:"100%",direction:"column",alignItems:"center",children:[de,oe,le]})}}}]);