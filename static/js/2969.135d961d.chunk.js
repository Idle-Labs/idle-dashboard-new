"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[2969,956],{52969:function(e,t,n){n.r(t),n.d(t,{DepositedAssetsTable:function(){return I},TableField:function(){return D}});var r=n(93433),i=n(29439),a=n(1413),s=n(54447),o=n(79681),l=n(95173),c=n(86059),d=n(66288),u=n(75349),f=n(39195),p=n(56292),x=n(30572),h=n(10956),g=n(58194),v=n(15542),m=n(1669),w=n(12056),C=n(99594),j=n(7276),y=n(55967),b=n(75712),A=n(89030),P=n(3498),k=n(82137),T=n(43127),M=n(45263),D=function(e){var t=e.field,n=e.row,r=e.value,i=e.props,s=n.original.id;return(0,M.jsx)(A.N2,{noOfLines:2,isLoaded:!!r,children:(0,M.jsx)(b.AssetProvider,{assetId:s,children:(0,M.jsx)(b.AssetProvider.GeneralData,(0,a.Z)({section:"strategy",field:t},i))})})},I=function(){var e=(0,l.s0)(),t=(0,m.w)(),n=t.isPortfolioLoaded,b=t.isPortfolioAccountReady,I=t.selectors,Z=I.selectVaultsWithBalance,S=I.selectVaultsAssetsByType,z=I.selectVaultsAssetsWithBalance,U=(0,o.qM)(),_=(0,j.useState)(1),N=(0,i.Z)(_,2),R=N[0],L=N[1],B=(0,d.X)(),F=B.theme,O=B.isMobile,H=(0,f.Y)(),V=H.account,W=H.prevAccount,Y=(0,j.useState)("Available"),E=(0,i.Z)(Y,2),q=E[0],G=E[1],K=(0,x.D)(q);(0,j.useEffect)((function(){if(q!==K)return L(1)}),[q,K,L]);var J=(0,j.useMemo)((function(){return[{width:"26%",accessor:"name",sortType:"alpha",id:"asset",stackProps:{justifyContent:"space-between"},extraFields:["productTagWithRisk"]},{width:"18%",accessor:"id",id:"protocols",sortType:"alpha",fieldProps:{size:"xs"}},{id:"tvl",width:"14%",accessor:"tvlUsd",sortType:"numeric"},{id:"apy",width:"14%",accessor:"apy",sortType:"numeric"},{id:"apy7",width:"14%",accessor:"apy7",sortType:"numeric",tables:["Available"]},{id:"apy30",width:"14%",accessor:"apy30",sortType:"numeric",tables:["Available"]}]}),[]),X=(0,j.useMemo)((function(){return J.filter((function(e){return!e.tables||e.tables.includes(q)})).map((function(e){var t=e.id,n=e.accessor,r=e.sortType,i="alpha"===r?C.YC:"numeric"===r?C._O:void 0;return{id:t,accessor:n,width:e.width,disableSortBy:!i,defaultCanSort:!!i,Header:U(e.title||"defi.".concat(t)),sortType:i?function(e,t){return i(e,t,n)}:void 0,Cell:function(n){var r=n.value,i=n.row;return e.extraFields&&e.extraFields.length>0?(0,M.jsxs)(P.Kq,(0,a.Z)((0,a.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,M.jsx)(D,{field:t,value:r,row:i,props:e.fieldProps}),e.extraFields.map((function(e){return(0,M.jsx)(D,{field:e,value:r,row:i},"extraField_".concat(e))}))]})):(0,M.jsx)(D,{field:t,value:r,row:i,props:e.fieldProps})}}}))}),[J,q,U]),Q=(0,j.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,r.Z)(X))}),[X]),$=(0,j.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,r.Z)(X),[{width:"14%",accessor:"balanceUsd",Header:U("defi.balance"),Cell:function(e){var t=e.value;return(0,M.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:(0,M.jsx)(c.Amount.Usd,{value:t,textStyle:"tableCell"})})},sortType:C._O},{width:"14%",accessor:"vaultPosition",Header:U("defi.realizedApy"),Cell:function(e){var t=e.value;return(0,M.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:t&&(0,M.jsxs)(k.kN,{children:[(0,M.jsx)(k.Jf,{children:(0,M.jsxs)(P.kC,{direction:"row",alignItems:"center",children:[!t.realizedApy.isNaN()&&(0,M.jsx)(k.uY,{type:"increase"}),(0,M.jsx)(c.Amount.Percentage,{value:t.realizedApy,textStyle:"tableCell"})]})}),(0,M.jsx)(c.Amount.Usd,{prefix:"+",value:t.usd.earnings,textStyle:"captionSmall"})]})})},sortType:function(e,t){return(0,C._O)(e,t,"vaultPosition.earningsPercentage")}}])}),[U,X]),ee=(0,j.useMemo)((function(){return p.R.reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(t.strategies))}),[])}),[]),te=(0,j.useMemo)((function(){return S?ee.reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(S(t)))}),[]).filter((function(e){return"deprecated"!==e.status})).sort((function(e,t){return(0,C.gA)(e.tvlUsd).lt((0,C.gA)(t.tvlUsd))?1:-1})).slice(0,15).sort((function(e,t){return(0,C.gA)(e.apy).lt((0,C.gA)(t.apy))?1:-1})).slice(0,10):[]}),[S,ee]),ne=(0,j.useMemo)((function(){return Z&&n?ee.reduce((function(e,t){var n=z(t);return n?[].concat((0,r.Z)(e),(0,r.Z)(n)):e}),[]):[]}),[n,Z,z,ee]);(0,j.useEffect)((function(){return V||"Deposited"!==q?!W&&V&&"Available"===q?G("Deposited"):"Deposited"===q&&b&&!ne.length?G("Available"):void 0:G("Available")}),[q,V,W,b,ne]);var re=(0,j.useCallback)((function(t,n,r){(0,C.fU)(n,r,t.original);var i=w.A[t.original.type].route;return e("/earn/".concat(i,"/").concat(t.original.id))}),[e]),ie=(0,j.useMemo)((function(){return 5}),[]),ae=(0,j.useMemo)((function(){return"Deposited"===q?Math.ceil(ne.length/ie):Math.ceil(te.length/ie)}),[q,te,ne,ie]),se=(0,j.useCallback)((function(){return!!R&&(L((function(e){return Math.max(1,e-1)})),!0)}),[L,R]),oe=(0,j.useCallback)((function(){if(R===ae)return!1;L((function(e){return Math.min(ae,e+1)}))}),[L,R,ae]),le=(0,j.useMemo)((function(){if(!ne.length)return null;return O?(0,M.jsx)(P.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:(0,M.jsx)(P.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:ne.map((function(e){return e.id&&(0,M.jsx)(u.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})}):(0,M.jsxs)(P.gC,{spacing:6,width:"full",children:[(0,M.jsxs)(s.Card,{children:[(0,M.jsx)(P.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between"}),(0,M.jsx)(g.ReactTable,{columns:$,data:ne,initialState:{sortBy:[{id:"balanceUsd",desc:!1}]},rowsPerPage:ie,page:R,onRowClick:function(e){return re(e,"dashboard_deposited","Dashboard deposited")}})]}),ae>1&&(0,M.jsx)(h.Pagination,{activePage:R,pages:ae,justifyContent:"center",onPrevArrowClick:function(){R&&se()},onNextArrowClick:function(){R<ae&&oe()},prevArrowColor:1===R?F.colors.ctaDisabled:F.colors.primary,nextArrowColor:R===ae?F.colors.ctaDisabled:F.colors.primary})]})}),[O,$,ne,R,ae,F,ie,re,se,oe]),ce=(0,j.useMemo)((function(){if(!te.length)return null;return O?(0,M.jsx)(P.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:(0,M.jsx)(P.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:te.map((function(e){return e.id&&(0,M.jsx)(u.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})}):(0,M.jsxs)(P.gC,{spacing:6,width:"full",children:[(0,M.jsxs)(s.Card,{children:[(0,M.jsx)(P.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between"}),(0,M.jsx)(g.ReactTable,{columns:Q,data:te,initialState:{sortBy:[{id:"apy",desc:!1}]},rowsPerPage:ie,page:R,onRowClick:function(e){return re(e,"dashboard_deposited","Dashboard deposited")}})]}),ae>1&&(0,M.jsx)(h.Pagination,{activePage:R,pages:ae,justifyContent:"center",onPrevArrowClick:function(){R&&se()},onNextArrowClick:function(){R<ae&&oe()},prevArrowColor:1===R?F.colors.ctaDisabled:F.colors.primary,nextArrowColor:R===ae?F.colors.ctaDisabled:F.colors.primary})]})}),[O,Q,te,R,ae,F,ie,re,se,oe]);return n?(0,M.jsxs)(P.gC,{mt:[10,20],spacing:6,width:"full",alignItems:"flex-start",children:[(0,M.jsxs)(P.Ug,{spacing:3,children:[(0,M.jsx)(v.Translation,{disabled:!V||!ne.length,component:T.zx,leftIcon:(0,M.jsx)(y.lTP,{size:24}),translation:"common.wallet",variant:"filter","aria-selected":"Deposited"===q,fontSize:"sm",borderRadius:"80px",px:4,onClick:function(){return G("Deposited")}}),(0,M.jsx)(v.Translation,{component:T.zx,leftIcon:(0,M.jsx)(y.pIY,{size:24}),translation:"common.featured",variant:"filter","aria-selected":"Available"===q,fontSize:"sm",borderRadius:"80px",px:4,onClick:function(){return G("Available")}})]}),"Deposited"===q?le:ce]}):null}},10956:function(e,t,n){n.r(t),n.d(t,{Pagination:function(){return d}});var r=n(1413),i=n(45987),a=(n(7276),n(55967)),s=n(3498),o=n(43127),l=n(45263),c=["onPrevArrowClick","onNextArrowClick","prevArrowColor","nextArrowColor","activePage","pages"],d=function(e){var t=e.onPrevArrowClick,n=e.onNextArrowClick,d=e.prevArrowColor,u=e.nextArrowColor,f=e.activePage,p=e.pages,x=(0,i.Z)(e,c);return(0,l.jsx)(s.kC,(0,r.Z)((0,r.Z)({width:"100%",alignItems:"center",justifyContent:"flex-end"},x),{},{children:(0,l.jsxs)(s.Ug,{spacing:2,children:[(0,l.jsx)(o.zx,{variant:"link",minW:"auto",onClick:t,children:(0,l.jsx)(a.lrP,{color:d})}),(0,l.jsxs)(s.xv,{textStyle:"ctaStatic",children:[f,"/",p]}),(0,l.jsx)(o.zx,{variant:"link",minW:"auto",onClick:n,children:(0,l.jsx)(a.KEG,{color:u})})]})}))}}}]);