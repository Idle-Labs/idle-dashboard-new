"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[4710,2230,8844,7360],{53673:function(t,n,e){e.r(n),e.d(n,{ChakraCarousel:function(){return p}});var i=e(1413),a=e(29439),o=e(7276),s=e(3498),r=e(53293),l=e(59470),c=e(83336),u=e(79243),d=e(45263),m=(0,l.E)(s.kC),v={stiffness:400,type:"spring",damping:60,mass:3},p=function(t){var n=t.children,e=t.gap,s=t.activeItem,r=void 0===s?0:s,l=t.enableDragging,c=void 0!==l&&l,u=(0,o.useState)(!1),m=(0,a.Z)(u,2),v=m[0],p=m[1],g=(0,o.useState)(.35),j=(0,a.Z)(g,2),y=j[0],S=j[1],T=(0,o.useState)(0),C=(0,a.Z)(T,2),I=C[0],k=C[1],w=(0,o.useState)(r),b=(0,a.Z)(w,2),A=b[0],Z=b[1],E=(0,o.useState)(0),M=(0,a.Z)(E,2),_=M[0],z=M[1],N=(0,o.useState)(0),U=(0,a.Z)(N,2),P=U[0],O=U[1],D=(0,o.useCallback)((function(t){return k(t)}),[]),B=(0,o.useMemo)((function(){return o.Children.map(n,(function(t,n){return-Math.abs((P+e)*n)}))}),[n,P,e]);(0,o.useEffect)((function(){(r>0||r<B.length-1)&&Z(r)}),[B,r]),(0,o.useEffect)((function(){O(I-e),S(.65),z(1)}),[I,e]);var F={setTrackIsActive:p,initSliderWidth:D,setActiveItem:Z,activeItem:A,constraint:_,itemWidth:P,positions:B,gap:e},L={setTrackIsActive:p,enableDragging:c,trackIsActive:v,setActiveItem:Z,sliderWidth:I,activeItem:A,constraint:_,multiplier:y,itemWidth:P,positions:B,gap:e},W={setTrackIsActive:p,trackIsActive:v,setActiveItem:Z,activeItem:A,constraint:_,itemWidth:P,positions:B,gap:e};return(0,d.jsx)(x,(0,i.Z)((0,i.Z)({},F),{},{children:(0,d.jsx)(f,(0,i.Z)((0,i.Z)({},L),{},{children:o.Children.map(n,(function(t,n){return(0,o.createElement)(h,(0,i.Z)((0,i.Z)({},W),{},{index:n,key:n}),t)}))}))}))},x=function(t){var n=t.initSliderWidth,e=t.children,i=t.gap,l=(0,r.Z)(),c=(0,a.Z)(l,2),u=c[0],m=c[1].width;return(0,o.useLayoutEffect)((function(){return n(Math.round(m))}),[m,n]),(0,d.jsx)(s.kC,{flex:1,ref:u,w:{base:"100%",md:"calc(100% + ".concat(i,"px)")},ml:{base:0,md:"-".concat(i/2,"px")},mt:0,px:"".concat(i/2,"px"),position:"relative",overflow:"hidden",_before:{bgGradient:"linear(to-r, base.d400, transparent)",position:"absolute",w:"".concat(i/2,"px"),content:"''",zIndex:1,h:"100%",left:0,top:0},_after:{bgGradient:"linear(to-l, base.d400, transparent)",position:"absolute",w:"".concat(i/2,"px"),content:"''",zIndex:1,h:"100%",right:0,top:0},children:e})},f=function(t){var n=t.setTrackIsActive,e=t.enableDragging,r=t.trackIsActive,l=t.setActiveItem,p=t.activeItem,x=t.constraint,f=t.multiplier,h=t.itemWidth,g=t.positions,j=t.children,y=(0,o.useState)(0),S=(0,a.Z)(y,2),T=S[0],C=S[1],I=(0,c._)(),k=(0,u.c)(0),w=(0,o.useRef)(null),b=(0,o.useCallback)((function(){return I.start({x:g[p],transition:(0,i.Z)({},v)})}),[p,I,g]),A=(0,o.useCallback)((function(t){return w.current.contains(t.target)?n(!0):n(!1)}),[n]),Z=(0,o.useCallback)((function(t){r&&(p<g.length-x&&("ArrowRight"!==t.key&&"ArrowUp"!==t.key||(t.preventDefault(),l((function(t){return t+1})))),p>g.length-g.length&&("ArrowLeft"!==t.key&&"ArrowDown"!==t.key||(t.preventDefault(),l((function(t){return t-1})))))}),[r,l,p,x,g.length]);(0,o.useEffect)((function(){b(g)}),[A,b,Z,g]);var E=e?{drag:"x",cursor:"grab",onDragStart:function(){return C(g[p])},onDragEnd:function(t,n){var e=n.offset.x,a=n.velocity.x*f,o=T+(1===(a<0||e<0?1:-1)?Math.min(a,e):Math.max(a,e)),s=g.reduce((function(t,n){return Math.abs(n-o)<Math.abs(t-o)?n:t}),0);s<g[g.length-x]?(l(g.length-x),I.start({x:g[g.length-x],transition:(0,i.Z)({velocity:n.velocity.x},v)})):(l(g.indexOf(s)),I.start({x:s,transition:(0,i.Z)({velocity:n.velocity.x},v)}))},_active:{cursor:"grabbing"}}:{};return(0,d.jsx)(d.Fragment,{children:h?(0,d.jsx)(s.gC,{ref:w,spacing:5,alignItems:"stretch",children:(0,d.jsx)(m,(0,i.Z)((0,i.Z)({flex:1,dragConstraints:w,animate:I,style:{x:k},minWidth:"min-content",flexWrap:"nowrap"},E),{},{children:j}))}):null})},h=function(t){var n=t.setTrackIsActive,e=t.setActiveItem,i=t.activeItem,r=t.constraint,l=t.itemWidth,c=t.positions,u=t.children,m=t.index,v=t.gap,p=(0,o.useState)(!1),x=(0,a.Z)(p,2),f=x[0],h=x[1];return(0,d.jsx)(s.kC,{onFocus:function(){return n(!0)},onBlur:function(){f&&m+1===c.length&&n(!1),h(!1)},onKeyUp:function(t){return"Tab"===t.key&&!(i===c.length-r)&&e(m)},onKeyDown:function(t){return"Tab"===t.key&&h(!0)},w:"".concat(l,"px"),_notLast:{mr:"".concat(v,"px")},children:u})}},72230:function(t,n,e){e.r(n),e.d(n,{NavBar:function(){return u}});var i=e(1413),a=e(45987),o=(e(7276),e(3498)),s=e(55967),r=e(15542),l=e(45263),c=["goBack","close","height"],u=function(t){var n=t.goBack,e=t.close,u=t.height,d=(0,a.Z)(t,c);return(0,l.jsxs)(o.Ug,{width:"100%",position:"relative",alignItems:"center",height:u||"24px",justifyContent:"flex-start",children:[n&&(0,l.jsx)(o.kC,{zIndex:1,position:"relative",children:(0,l.jsx)(s.sG8,{size:24,onClick:function(){return n()},style:{cursor:"pointer"}})}),(0,l.jsx)(o.kC,{zIndex:0,width:"100%",justifyContent:"center",position:n?"absolute":"relative",children:(0,l.jsx)(r.Translation,(0,i.Z)({component:o.xv,textStyle:"ctaStatic","aria-selected":!0},d))}),e&&(0,l.jsx)(o.kC,{top:0,right:0,zIndex:1,position:"absolute",children:(0,l.jsx)(s.lTq,{size:24,onClick:function(){return e()},style:{cursor:"pointer"}})})]})}},4710:function(t,n,e){e.r(n),e.d(n,{OperativeComponent:function(){return B},useOperativeComponent:function(){return D}});var i=e(45987),a=e(1413),o=e(29439),s=e(79681),r=e(86059),l=e(87099),c=e(54447),u=e(82172),d=e(72230),m=e(97778),v=e(15542),p=e(85267),x=e(1669),f=e(23214),h=e(53673),g=e(23023),j=e(58844),y=e(75712),S=e(82627),T=e(7276),C=e(55967),I=e(3498),k=e(43127),w=e(13961),b=e(96209),A=e(89030),Z=e(88089),E=e(20910),M=e(45263),_=["assetId","actions","defaultActiveIndex"],z=function(t){var n=t.goBack,e=(0,s.qM)(),i=(0,u.Y)().chainId,a=(0,T.useRef)(null),h=(0,p.m)().searchParams,j=(0,y.useAssetProvider)(),b=j.underlyingAsset,A=j.theme,Z=j.asset,_=(0,T.useState)(0),z=(0,o.Z)(_,2),N=z[0],U=z[1],P=(0,T.useState)(1),O=(0,o.Z)(P,2),B=O[0],F=O[1],L=(0,T.useState)(null),W=(0,o.Z)(L,2),R=W[0],G=W[1],Y=(0,T.useState)(null),V=(0,o.Z)(Y,2),q=V[0],H=V[1],Q=(0,T.useState)(null),K=(0,o.Z)(Q,2),X=K[0],J=K[1],$=(0,T.useState)(null),tt=(0,o.Z)($,2),nt=tt[0],et=tt[1],it=(0,g.R)(),at=it.state.transaction,ot=it.retry,st=it.cleanTransaction,rt=D(),lt=rt.amount,ct=rt.actionType,ut=rt.baseActionType,dt=rt.activeStep,mt=rt.activeItem,vt=rt.depositAmount,pt=(0,x.w)(),xt=pt.stakingData,ft=pt.selectors,ht=ft.selectAssetById,gt=ft.selectAssetPriceUsd,jt=ft.selectVaultById,yt=ft.selectVaultGauge,St=(0,T.useMemo)((function(){return h}),[h]),Tt=(0,o.Z)(St,2)[1],Ct=(0,T.useMemo)((function(){return(null===Z||void 0===Z?void 0:Z.id)&&jt&&jt(Z.id)}),[jt,null===Z||void 0===Z?void 0:Z.id]),It=(0,T.useMemo)((function(){return(null===Z||void 0===Z?void 0:Z.id)&&yt&&yt(Z.id)}),[yt,null===Z||void 0===Z?void 0:Z.id]),kt=(0,T.useMemo)((function(){return at.actionType||ct}),[ct,at.actionType]),wt=(0,T.useMemo)((function(){return at.amount?(0,E.d5)(at.amount):(0,E.d5)(lt)}),[lt,at.amount]),bt=(0,T.useMemo)((function(){if(!b||!gt)return(0,E.gA)(0);var t=gt(b.id);return(0,E.d5)(wt).times(t)}),[b,wt,gt]),At=(0,T.useMemo)((function(){return at.amount?(0,E.gA)(at.amount).isNaN()?at.amount:(0,E.dm)((0,E.d5)(at.amount),8):lt===l.Uf?e("trade.unlimited"):(0,E.dm)((0,E.d5)(lt),8)}),[lt,e,at.amount]),Zt=(0,T.useCallback)((function(t){if(t&&at.status&&"pending"===at.status){var n=Math.max(0,Math.ceil((t-Date.now())/1e3));(!R||n>R)&&G(n),n<=0||(a.current=setTimeout((function(){Zt(t)}),1e3))}}),[R,at]);(0,T.useEffect)((function(){var t,n;if(at.status&&["success","failed"].includes(at.status)){var e,i,o;if(a.current&&clearTimeout(a.current),G(0),a.current=null,U(B),["deposit","stake"].includes(kt)&&"success"===at.status&&X!==(null===(t=at.transaction)||void 0===t?void 0:t.hash))(0,E.gZ)(Z,bt,at.transaction),J(null===(e=at.transaction)||void 0===e?void 0:e.hash);if(null!==Z&&void 0!==Z&&Z.id&&nt!==(null===(n=at.transaction)||void 0===n?void 0:n.hash))(0,E.Kf)(kt,{asset:Z.id,transaction_id:null===(i=at.transaction)||void 0===i?void 0:i.hash,amountUsd:(0,E.d5)(bt).toFixed(2)}),et(null===(o=at.transaction)||void 0===o?void 0:o.hash)}}),[Z,null===at||void 0===at?void 0:at.status,X,nt,bt,U,B]),(0,T.useEffect)((function(){if(null!==at&&void 0!==at&&at.estimatedTime&&null!==at&&void 0!==at&&at.timestamp&&"pending"===(null===at||void 0===at?void 0:at.status)&&!q){var t=1e3*(null===at||void 0===at?void 0:at.estimatedTime),n=+(null===at||void 0===at?void 0:at.timestamp)+1e3*(null===at||void 0===at?void 0:at.estimatedTime);H(n),F(t),U(t),Zt(n)}}),[at,q,Zt]);var Et=(0,T.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("pending"!==(null===at||void 0===at?void 0:at.status))return st(),U(0),G(null),F(1),H(null),a.current&&clearTimeout(a.current),a.current=null,n(t,e)}),[null===at||void 0===at?void 0:at.status,st,n]);(0,T.useEffect)((function(){null!==at&&void 0!==at&&at.status||!mt||dt||Et(!1)}),[null===at||void 0===at?void 0:at.status,mt,dt,Et]);var Mt=(0,T.useMemo)((function(){if(at.amount&&(0,E.gA)(at.amount).isNaN())return"";if(!ht)return null===b||void 0===b?void 0:b.name;var t=ht(at.assetId);return(null===t||void 0===t?void 0:t.name)||(null===b||void 0===b?void 0:b.name)}),[ht,null===b||void 0===b?void 0:b.name,at.assetId,at.amount]),_t=(0,T.useMemo)((function(){var t;if(null===at||void 0===at||!at.contractSendMethod)return null;var n=at.contractSendMethod.arguments,e=(0,E.I0)(n[0],18),i=parseInt(n[1]),a=(0,E.DH)(i,(0,E.gA)(at.timestamp).div(1e3)),o=(0,E.am)(e,a),s=(0,E.SL)(o),l=(0,f.Z)(S.zS,S.MI);return(null===l||void 0===l?void 0:l.address)&&ht(l.address)?(0,M.jsxs)(I.gC,{spacing:3,width:"full",children:[s.gt(0)?(0,M.jsx)(c.Card.Dark,{py:3,px:4,border:0,children:(0,M.jsxs)(I.MI,{p:0,columns:2,children:[(0,M.jsxs)(I.Ug,{pr:2,spacing:2,justifyContent:"center",borderRight:"1px solid",borderColor:"divider",children:[(0,M.jsx)(v.Translation,{translation:"defi.feeDiscount",textStyle:"captionSmall"}),(0,M.jsx)(r.Amount.Percentage,{decimals:2,value:s,textStyle:"tableCell"})]}),(0,M.jsx)(I.Ug,{justifyContent:"center",children:(0,M.jsx)(m.TokenAmount,{assetId:null===xt||void 0===xt||null===(t=xt.stkIDLE.asset)||void 0===t?void 0:t.id,amount:o,textStyle:"tableCell",size:"xs"})})]})}):(0,M.jsx)(c.Card.Dark,{p:2,border:0,children:(0,M.jsx)(v.Translation,{textAlign:"center",translation:"strategies.staking.op.feeDiscount",params:{amount:"\u2265 ".concat(Object.keys(S.Se)[0]),discount:Object.values(S.Se)[0]},isHtml:!0,textStyle:"captionSmaller"})}),(0,E.d5)(vt).gt(0)?(0,M.jsxs)(I.gC,{spacing:3,width:"full",alignItems:"center",children:[s.gt(0)&&(0,M.jsx)(v.Translation,{textAlign:"center",translation:"feeDiscount.op.success",params:{minStakingAmount:Object.keys(S.Se)[0]},isHtml:!0,textStyle:"captionSmall"}),(0,M.jsx)(v.Translation,{component:k.zx,translation:"common.deposit",onClick:function(){Et(!0,0)},variant:"ctaPrimary",px:10})]}):(0,M.jsx)(v.Translation,{component:k.zx,translation:"trade.actions.".concat(kt,".status.success.button"),onClick:function(){return Et()},variant:"ctaPrimary",px:10})]}):null}),[at,ht,xt,vt,Et,kt]),zt=(0,T.useMemo)((function(){var t,n,i,a,o;switch(null===at||void 0===at?void 0:at.status){case"pending":return(0,M.jsx)(v.Translation,{component:I.xv,translation:0===R?"modals.status.body.long":"modals.".concat(kt,".status.pending"),textStyle:"heading",fontSize:"h3",textAlign:"center"});case"success":return(0,M.jsxs)(I.gC,{spacing:4,children:[(0,M.jsxs)(I.gC,{spacing:1,width:"full",justifyContent:"center",children:[(0,M.jsx)(v.Translation,{component:I.xv,translation:"trade.actions.".concat(kt,".confirmed"),textStyle:"caption",textAlign:"center"}),(0,M.jsxs)(I.xv,{textStyle:"ctaStatic",fontSize:"h3",children:[At," ",Mt]})]}),(null===Ct||void 0===Ct||null===(t=Ct.messages)||void 0===t||null===(n=t.actions)||void 0===n?void 0:n[kt])&&(0,M.jsx)(v.Translation,{pb:2,translation:null===Ct||void 0===Ct||null===(i=Ct.messages)||void 0===i||null===(a=i.actions)||void 0===a?void 0:a[kt],textStyle:"captionSmall",textAlign:"center"}),"stake"===kt?_t:"deposit"===kt&&It?(0,M.jsxs)(I.gC,{spacing:4,children:[(0,M.jsx)(v.Translation,{translation:"trade.depositGauge",textAlign:"center"}),(0,M.jsx)(v.Translation,{component:k.zx,translation:"trade.actions.".concat(kt,".status.success.buttonGauge"),onClick:function(){Et(),setTimeout((function(){return Tt("?tab=gauge")}),1e3)},variant:"ctaFull"}),(0,M.jsx)(v.Translation,{component:k.zx,translation:"trade.actions.".concat(kt,".status.success.button"),onClick:function(){Et()},variant:"ctaPrimaryOutline",width:"100%"})]}):dt?(0,M.jsx)(v.Translation,{component:k.zx,translation:"common.".concat(ut),onClick:function(){return Et(!0)},variant:"ctaPrimary",px:10}):(0,M.jsx)(v.Translation,{component:k.zx,translation:"trade.actions.".concat(kt,".status.success.button"),onClick:function(){return Et()},variant:"ctaPrimary",px:10})]});case"failed":var s=null!==at&&void 0!==at&&at.error?null===at||void 0===at||null===(o=at.error)||void 0===o?void 0:o.message.toString().split("\n")[0]:null,r=(0,E.en)(null===at||void 0===at?void 0:at.error)||s,l="trade.actions.".concat(kt,".messages.decoded.").concat(r),c=r?e(l):null,u=c&&c!==l?c:r;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(v.Translation,{component:I.xv,translation:"modals.".concat(kt,".status.failed"),params:{asset:Mt,amount:E.dm},textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,M.jsx)(v.Translation,{component:I.xv,isHtml:!0,translation:"modals.status.body.failed",params:{error:'"'.concat(u,'"'),asset:Mt,amount:E.dm},textStyle:"captionSmall",textAlign:"center"}),(0,M.jsx)(v.Translation,{component:k.zx,translation:"common.retry",leftIcon:(0,M.jsx)(C.Ffb,{size:24}),onClick:function(){ot()},variant:"ctaPrimary",px:10}),(0,M.jsx)(v.Translation,{component:I.xv,translation:"common.cancel",textStyle:["cta","link"],onClick:function(){return Et()}})]});default:return null}}),[at,Ct,e,_t,kt,Mt,At,R,dt,ut,Et,ot,Tt,It]),Nt=(0,T.useMemo)((function(){return!(null===at||void 0===at||!at.estimatedTime)&&"pending"===(null===at||void 0===at?void 0:at.status)&&0===R}),[null===at||void 0===at?void 0:at.estimatedTime,null===at||void 0===at?void 0:at.status,R]),Ut=(0,T.useMemo)((function(){return(null===at||void 0===at||!at.status||!["success","failed"].includes(null===at||void 0===at?void 0:at.status))&&(!(null!==at&&void 0!==at&&at.estimatedTime)||Nt)}),[at,Nt]),Pt=(0,T.useMemo)((function(){return null===at||void 0===at||!at.status||Ut?"blue.400":["success","pending"].includes(null===at||void 0===at?void 0:at.status)?"green.400":"red.400"}),[null===at||void 0===at?void 0:at.status,Ut]),Ot=(0,T.useMemo)((function(){return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(I.xu,{height:5,children:(0,M.jsx)(v.Translation,{component:I.xv,translation:"pending"===(null===at||void 0===at?void 0:at.status)?null!==at&&void 0!==at&&at.estimatedTime?"modals.status.estimatedTime":"modals.status.calculateEstimatedTime":"",textStyle:"captionSmaller",textAlign:"center"})}),(0,M.jsx)(I.xu,{width:"125px",height:"125px",bg:"card.bgLight",borderRadius:"50%",position:"relative",children:(0,M.jsx)(w.D8,{size:145,top:"-10px",left:"-10px",thickness:"5px",position:"absolute",value:N,max:B,trackColor:"card.bgLight",color:Pt,isIndeterminate:Ut,sx:{".chakra-progress__indicator":{transitionTimingFunction:"ease",transitionProperty:"stroke-dasharray",transitionDuration:"pending"===(null===at||void 0===at?void 0:at.status)&&null!==at&&void 0!==at&&at.estimatedTime?"".concat(null===at||void 0===at?void 0:at.estimatedTime,"s"):"0.6s"}},children:"pending"===(null===at||void 0===at?void 0:at.status)?!!R&&(0,M.jsx)(w.ip,{textStyle:["bold","h2"],children:R>3600?">1h":R>1800?">30m":"".concat(R,"s")}):"success"===(null===at||void 0===at?void 0:at.status)?(0,M.jsx)(w.ip,{display:"flex",alignItems:"center",justifyContent:"center",children:(0,M.jsx)(C.ddU,{size:50,color:A.colors.green[400]})}):"failed"===(null===at||void 0===at?void 0:at.status)&&(0,M.jsx)(w.ip,{display:"flex",alignItems:"center",justifyContent:"center",children:(0,M.jsx)(C.lTq,{size:50,color:A.colors.red[400]})})})})]})}),[null===at||void 0===at?void 0:at.status,null===at||void 0===at?void 0:at.estimatedTime,Ut,Pt,B,R,N,A]),Dt=(0,T.useMemo)((function(){var t="pending"!==(null===at||void 0===at?void 0:at.status)&&Et;return(0,M.jsx)(d.NavBar,{goBack:t?function(){return t()}:void 0,translation:"modals.status.header.".concat(null===at||void 0===at?void 0:at.status)})}),[null===at||void 0===at?void 0:at.status,Et]),Bt=(0,T.useMemo)((function(){var t=(0,E.bW)(i);return(null===t||void 0===t?void 0:t.name)||"Chain"}),[i]);return(0,M.jsxs)(M.Fragment,{children:[Dt,(0,M.jsx)(I.kC,{px:3,py:14,flex:1,width:"100%",justifyContent:"center",children:(0,M.jsxs)(I.gC,{spacing:4,children:[Ot,zt]})}),(null===at||void 0===at?void 0:at.hash)&&(0,M.jsx)(I.Ug,{spacing:1,width:"100%",justifyContent:"center",children:(0,M.jsx)(v.Translation,{component:I.rU,translation:"defi.viewOnExplorer",params:{explorer:Bt},textStyle:"link",fontSize:"sm",fontWeight:700,isExternal:!0,href:(0,E.QG)(i,at.hash)})})]})},N=function(t){var n=t.save,e=(0,g.R)(),i=e.state,a=i.estimatedFeesUsd,o=i.estimatedTimes,s=i.gasPrices,u=i.transactionSpeed,m=e.setTransactionSpeed;return(0,M.jsxs)(I.gC,{p:4,flex:1,width:"100%",justifyContent:"space-between",children:[(0,M.jsx)(d.NavBar,{height:"auto",mb:10,translation:"common.transactionSpeed"}),(0,M.jsx)(I.gC,{p:0,flex:1,spacing:2,width:"100%",justifyContent:"flex-start",children:Object.keys(S.U_).map((function(t){var n=S.U_[t],e=u===n;return(0,M.jsx)(c.Card.Outline,{px:4,py:4,style:{cursor:"pointer"},width:"100%","aria-selected":e,layerStyle:["cardInteractive"],bg:e?"card.bgLight":"transparent",onClick:function(){return m(n)},children:(0,M.jsxs)(I.Ug,{spacing:4,width:"100%",alignItems:"center",children:[(0,M.jsxs)(I.Ug,{spacing:2,width:"40%",alignItems:"center",children:[(0,M.jsx)(b.Y8,{colorScheme:"blue",isChecked:e}),(0,M.jsxs)(I.Ug,{flex:1,spacing:1,alignItems:"center",children:[(0,M.jsx)(v.Translation,{component:I.xv,whiteSpace:"nowrap",textStyle:["tableCell","primary"],translation:"modals.send.sendForm.".concat(n)}),(0,M.jsx)(A.N2,{noOfLines:1,isLoaded:!!s,width:"100%",children:(0,M.jsx)(r.Amount,{prefix:"(",suffix:")",decimals:(0,E.d5)(null===s||void 0===s?void 0:s[n]).mod(1).gt(0)?2:0,textStyle:"captionSmaller",fontWeight:"600",color:"primary",value:null===s||void 0===s?void 0:s[n]})})]})]}),(0,M.jsxs)(I.gC,{spacing:2,width:"25%",alignItems:"flex-start",justifyContent:"flex-start",children:[(0,M.jsx)(v.Translation,{component:I.xv,textStyle:"captionSmall",translation:"common.gasFee"}),(0,M.jsx)(A.N2,{noOfLines:1,isLoaded:!!a,width:"100%",children:(0,M.jsx)(r.Amount.Usd,{textStyle:"captionSmaller",fontWeight:"600",color:"primary",prefix:l.EI,value:null===a||void 0===a?void 0:a[n]})})]}),(0,M.jsxs)(I.gC,{spacing:2,width:"35%",alignItems:"flex-start",justifyContent:"flex-start",children:[(0,M.jsx)(v.Translation,{component:I.xv,textStyle:"captionSmall",translation:"modals.status.estimatedTime"}),(0,M.jsx)(A.N2,{noOfLines:1,isLoaded:!!o,width:"100%",children:(0,M.jsx)(I.xv,{textStyle:"captionSmaller",fontWeight:"600",color:"primary",children:(0,E.mr)(null===o||void 0===o?void 0:o[n])})})]})]})},"transactionSpeed_".concat(n))}))}),(0,M.jsx)(v.Translation,{component:k.zx,translation:"common.save",onClick:function(){return n()},variant:"ctaFull"})]})},U={amount:"",asset:null,activeStep:0,activeItem:0,actionType:"",defaultAmount:"",depositAmount:"",baseActionType:"",dispatch:function(){},executeAction:!1,setActionIndex:function(){}},P=function(t,n){switch(n.type){case"SET_AMOUNT":return(0,a.Z)((0,a.Z)({},t),{},{amount:n.payload});case"SET_ASSET":return(0,a.Z)((0,a.Z)({},t),{},{asset:n.payload});case"SET_EXECUTE_ACTION":return(0,a.Z)((0,a.Z)({},t),{},{executeAction:n.payload});case"SET_DEFAULT_AMOUNT":return(0,a.Z)((0,a.Z)({},t),{},{defaultAmount:n.payload});case"SET_DEPOSIT_AMOUNT":return(0,a.Z)((0,a.Z)({},t),{},{depositAmount:n.payload});case"SET_ACTION_TYPE":return(0,a.Z)((0,a.Z)({},t),{},{actionType:n.payload});case"SET_BASE_ACTION_TYPE":return(0,a.Z)((0,a.Z)({},t),{},{baseActionType:n.payload});case"SET_ACTIVE_STEP":return(0,a.Z)((0,a.Z)({},t),{},{activeStep:n.payload});default:return(0,a.Z)({},t)}},O=(0,T.createContext)(U),D=function(){return(0,T.useContext)(O)},B=function(t){var n=t.assetId,e=t.actions,u=t.defaultActiveIndex,m=void 0===u?0:u,p=(0,i.Z)(t,_),f=(0,T.useRef)(null),S=(0,s.qM)(),w=(0,T.useState)(0),b=(0,o.Z)(w,2),A=b[0],D=b[1],B=(0,T.useReducer)(P,U),F=(0,o.Z)(B,2),L=F[0],W=F[1],R=(0,T.useState)(m),G=(0,o.Z)(R,2),Y=G[0],V=G[1],q=(0,T.useState)(!1),H=(0,o.Z)(q,2),Q=H[0],K=H[1],X=(0,x.w)().selectors.selectAssetById,J=(0,g.R)(),$=J.state,tt=$.gasPrice,nt=$.transaction,et=J.retry,it=J.cleanTransaction,at=J.updateGasPrices,ot=(0,T.useMemo)((function(){return e[Y]}),[e,Y]),st=(0,T.useMemo)((function(){var t;return(null===(t=e[Y])||void 0===t?void 0:t.component)||null}),[e,Y]),rt=(0,T.useMemo)((function(){return L.activeStep?ot.steps[L.activeStep-1]:ot}),[ot,L.activeStep]);(0,T.useEffect)((function(){D(L.activeStep)}),[L.activeStep]),(0,T.useEffect)((function(){return f.current&&(clearInterval(f.current),f.current=null),nt.status&&!["success","failed"].includes(nt.status)||(f.current=setInterval((function(){at()}),2e4)),function(){f.current&&(clearInterval(f.current),f.current=null)}}),[nt,at]),(0,T.useEffect)((function(){var t=rt?rt.type:ot.type;W({type:"SET_ACTION_TYPE",payload:t}),W({type:"SET_BASE_ACTION_TYPE",payload:ot.type})}),[ot,rt]);var lt=(0,T.useMemo)((function(){return nt.actionType||L.actionType}),[L.actionType,nt.actionType]),ct=(0,T.useMemo)((function(){var t,n;if(!X)return null===(t=L.asset)||void 0===t?void 0:t.name;var e=X(nt.assetId);return(null===e||void 0===e?void 0:e.name)||(null===(n=L.asset)||void 0===n?void 0:n.name)}),[X,L.asset,nt.assetId]),ut=(0,T.useMemo)((function(){var t;return X&&null!==(t=L.asset)&&void 0!==t&&t.underlyingId?X(L.asset.underlyingId):null}),[L.asset,X]),dt=(0,T.useMemo)((function(){return nt.amount?nt.amount:L.amount===l.Uf?"".concat(S("trade.unlimited")," ").concat(ct):parseFloat(L.amount)}),[L.amount,ct,S,nt.amount]),mt=(0,T.useMemo)((function(){return nt.actionType||lt}),[lt,nt.actionType]);(0,T.useEffect)((function(){var t,n=ot.steps.length+1;switch(null===nt||void 0===nt?void 0:nt.status){case"created":return D(n);case"pending":return D(n+1);case"failed":return 4001===(null===(t=nt.error)||void 0===t?void 0:t.code)?(it(),D(L.activeStep)):D(n+1);case"success":D(n+1),(L.activeStep||"stake"===mt&&(0,E.d5)(L.depositAmount).gt(0))&&W({type:"SET_EXECUTE_ACTION",payload:!0})}}),[nt,it,ot,L.activeStep,mt,L.depositAmount]);var vt=(0,T.useMemo)((function(){return A>ot.steps.length?null:Q?(0,M.jsx)(I.kC,{top:5,right:8,zIndex:11,position:"absolute",children:(0,M.jsx)(C.lTq,{size:24,style:{cursor:"pointer"},onClick:function(){return K((function(t){return!t}))}})}):(0,M.jsx)(k.zx,{p:2,right:4,zIndex:11,borderRadius:8,variant:"ctaBlue",position:"absolute",onClick:function(){return K((function(t){return!t}))},children:(0,M.jsxs)(I.Ug,{spacing:1,children:[(0,M.jsx)(C.Qpb,{color:"primary",size:24}),(0,M.jsx)(r.Amount,{decimals:(0,E.d5)(tt).lt(1)?4:0,abbreviate:!1,textStyle:"titleSmall",color:"primary",value:tt})]})})}),[ot,A,tt,Q,K]),pt=(0,T.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return W({type:"SET_ACTIVE_STEP",payload:0}),void(null!==n&&setTimeout((function(){V(n)}),300));D(L.activeStep),null!==n&&setTimeout((function(){V(n)}),300)}),[W,D,L.activeStep,V]);return(0,M.jsx)(y.AssetProvider,{wrapFlex:!1,assetId:n,children:(0,M.jsx)(O.Provider,{value:(0,a.Z)((0,a.Z)({},L),{},{activeItem:A,dispatch:W,setActionIndex:V}),children:(0,M.jsx)(c.Card.Flex,(0,a.Z)((0,a.Z)({p:4,width:"100%",overflow:"hidden",minHeight:"590px",direction:"column",position:"relative",alignItems:"flex-start",id:"operative-component"},p),{},{children:(0,M.jsxs)(j.VaultNetworkCheck,{children:[vt,Q&&(0,M.jsx)(I.gC,{top:0,left:0,flex:1,zIndex:10,bg:"card.bg",width:"100%",height:"100%",position:"absolute",id:"transaction-speed-selector",children:(0,M.jsx)(N,{save:function(){return K(!1)}})}),(0,M.jsxs)(h.ChakraCarousel,{gap:0,activeItem:A,children:[(0,M.jsxs)(I.kC,{flex:1,width:"100%",direction:"column",alignItems:"flex-start",children:[(0,M.jsx)(I.Ug,{alignItems:"center",justifyContent:"space-between",id:"operative-component-header",children:(0,M.jsx)(Z.mQ,{defaultIndex:0,variant:"button",index:Y,onChange:function(t){V(t)},children:(0,M.jsx)(Z.td,{children:e.map((function(t,n){return(0,M.jsx)(v.Translation,{mr:2,component:Z.OK,translation:t.label},"action_".concat(n))}))})})}),(0,M.jsx)(I.kC,{flex:1,width:"100%",children:!!st&&(0,M.jsx)(st,{chainIds:ot.chainIds,itemIndex:0})})]}),e[Y].steps.map((function(t,n){var e=t.component;return(0,M.jsxs)(I.gC,{flex:1,width:"full",alignItems:"flex-start",children:[(0,M.jsx)(d.NavBar,{goBack:function(){return W({type:"SET_ACTIVE_STEP",payload:n})},translation:t.label,params:{asset:null===ut||void 0===ut?void 0:ut.name}}),(0,M.jsx)(e,(0,a.Z)({itemIndex:n+1},t.props))]},"step_".concat(n))})),(0,M.jsxs)(I.gC,{flex:1,spacing:0,id:"confirm-on-wallet",alignItems:"flex-start",children:[(0,M.jsx)(d.NavBar,{goBack:function(){return D(L.activeStep)},translation:"modals.confirm.".concat(lt,".header")}),(0,M.jsx)(I.M5,{p:14,flex:1,width:"100%",children:(0,M.jsxs)(I.gC,{spacing:6,children:[(0,M.jsx)(C.lTP,{size:72}),(0,M.jsx)(v.Translation,{component:I.xv,translation:"trade.confirmTransactionWallet",textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,M.jsxs)(I.gC,{spacing:1,children:[(0,M.jsx)(v.Translation,{component:I.xv,translation:"modals.".concat(lt,".status.confirm"),params:{},textStyle:"captionSmall",textAlign:"center"}),(0,M.jsx)(I.Ug,{children:(0,E.gA)(dt).isNaN()?(0,M.jsx)(I.xv,{textStyle:"bold",children:dt}):(0,M.jsx)(r.Amount,{textStyle:"bold",value:dt,minPrecision:parseFloat(dt)<1?5:3,suffix:" ".concat(ct)})})]})]})}),(0,M.jsxs)(I.Ug,{spacing:1,width:"100%",justifyContent:"center",children:[(0,M.jsx)(v.Translation,{component:I.xv,translation:"trade.transactionDontAppear",textStyle:"captionSmall"}),(0,M.jsx)(v.Translation,{component:I.xv,translation:"common.retry",textStyle:["captionSmall","link","bold"],onClick:function(){return et()}})]})]}),(0,M.jsx)(I.gC,{flex:1,spacing:0,alignItems:"flex-start",id:"transaction-status",children:(0,M.jsx)(z,{goBack:pt})})]})]})}))})})}},58844:function(t,n,e){e.r(n),e.d(n,{VaultNetworkCheck:function(){return m}});var i=e(7276),a=e(65963),o=e(42828),s=e(82172),r=e(15542),l=e(3498),c=e(75712),u=e(67360),d=e(45263),m=function(t){var n=t.children,e=(0,c.useAssetProvider)().vault,m=(0,s.Y)(),v=m.network,p=m.chainId,x=m.isNetworkCorrect,f=(0,i.useMemo)((function(){return x&&e&&+e.chainId===+p}),[x,e,p]);return e&&!f?(0,d.jsx)(l.M5,{px:10,flex:1,width:"100%",children:(0,d.jsxs)(l.gC,{spacing:6,children:[(0,d.jsx)(o.p8b,{size:72}),(0,d.jsxs)(l.gC,{spacing:4,children:[(0,d.jsx)(r.Translation,{component:l.xv,translation:"staking.networkNotSupported",textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,d.jsx)(r.Translation,{component:l.xv,translation:"modals.assets.vaultWrongNetwork",params:{network:null===v||void 0===v?void 0:v.chainName,correctNetwork:a.Q[null===e||void 0===e?void 0:e.chainId].chainName},textStyle:"captionSmall",textAlign:"center"}),(0,d.jsx)(u.SwitchNetworkButton,{chainId:+(null===e||void 0===e?void 0:e.chainId),width:"full"})]})]})}):(0,d.jsx)(i.Fragment,{children:n})}},67360:function(t,n,e){e.r(n),e.d(n,{SwitchNetworkButton:function(){return d}});var i=e(1413),a=e(45987),o=(e(7276),e(65963)),s=e(43127),r=e(82172),l=e(15542),c=e(45263),u=["chainId"],d=function(t){var n=t.chainId,e=(0,a.Z)(t,u),d=(0,r.Y)().setChainId;return(0,c.jsx)(l.Translation,(0,i.Z)({component:s.zx,translation:"network.switchTo",params:{network:o.Q[n].name},onClick:function(){return d(n)},variant:"ctaPrimary",width:["full","auto"],px:10,py:2},e))}},53293:function(t,n,e){e.d(n,{Z:function(){return u}});var i=e(74165),a=e(15861),o=e(29439),s=e(7276),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,e=null;return function(){e&&clearTimeout(e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];e=setTimeout(n,t,a)}},l={x:0,y:0,top:0,left:0,width:0,height:0,right:0,bottom:0};function c(t){var n=t.getBoundingClientRect();return{x:n.x,y:n.y,top:n.top,left:n.left,width:n.width,height:n.height,right:n.right,bottom:n.bottom}}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,s.useState)(null),e=(0,o.Z)(n,2),u=e[0],d=e[1],m=(0,s.useState)(l),v=(0,o.Z)(m,2),p=v[0],x=v[1],f=(0,s.useCallback)((function(t){d(t)}),[]);return(0,s.useLayoutEffect)((function(){if("undefined"!==typeof window&&u){var n=function(){var t=(0,a.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.requestAnimationFrame((function(){x(c(u))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n();var e=r(t||100,n);return window.addEventListener("resize",e),window.addEventListener("scroll",e),function(){window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}}}),[u,t]),[f,p,u]}}}]);