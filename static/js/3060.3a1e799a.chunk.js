"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[3060,745,8024],{13060:function(t,e,n){n.r(e),n.d(e,{AssetDistributedRewards:function(){return j}});var s=n(1413),i=n(93433),r=n(54447),a=n(87099),l=n(86059),o=n(7276),d=n(39807),u=n(80745),c=n(97778),x=n(15542),m=n(1669),f=n(99594),h=n(3498),g=n(75712),b=n(48024),p=n(45263),j=function(t){var e=t.assetId,n=(0,d.f)().openModal,j=(0,m.w)().selectors,w=j.selectAssetById,v=j.selectVaultById,y=(0,o.useMemo)((function(){return w&&w(e)}),[w,e]),I=(0,o.useMemo)((function(){return v&&v(e)}),[v,e]),C=(0,o.useCallback)((function(){return n({cta:"defi.modals.opDistribution.cta",text:"defi.modals.opDistribution.body",subtitle:"defi.modals.opDistribution.title"},"2xl")}),[n]),S=(0,o.useMemo)((function(){if((0,f.xb)(null===y||void 0===y?void 0:y.distributedRewards))return[];var t=Object.keys(y.distributedRewards).reduce((function(t,e){return[].concat((0,i.Z)(t),(0,i.Z)(y.distributedRewards[e]))}),[]);return(0,f.Pf)(t,"timeStamp","desc")}),[y]),k=(0,o.useMemo)((function(){return null!==S&&void 0!==S&&S.length?(0,p.jsx)(u.Scrollable,{maxH:400,children:S.map((function(t){var e=(0,s.Z)((0,s.Z)({},t.tx),{},{action:"distributed",idlePrice:(0,f.gA)(0),idleAmount:(0,f.gA)(0),chainId:t.chainId,assetId:t.assetId,underlyingAmount:t.value});return(0,p.jsx)(b.TransactionItem,{transaction:e})}))}):null}),[S]),A=(0,o.useCallback)((function(){return n({cta:"common.close",body:k,subtitle:"defi.modals.opDistribution.rewardsHistory"},"2xl")}),[n,k]);return y&&"distributedTokens"in I&&I.distributedTokens.length?(0,p.jsxs)(h.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,p.jsx)(x.Translation,{component:h.X6,as:"h3",fontSize:"h3",translation:"staking.distributedRewards"}),(0,p.jsx)(h.gC,{spacing:4,width:"full",alignItems:"flex-start",children:I.distributedTokens.map((function(t){var e,n,s;if(!t.address)return null;var i=null!==(e=y.distributedRewards)&&void 0!==e&&e[t.address]?y.distributedRewards[t.address].reduce((function(t,e){return t.plus(e.value)}),(0,f.gA)(0)):(0,f.gA)(0),o=null!==(n=y.distributedRewards)&&void 0!==n&&n[t.address]?(0,f.Pf)(y.distributedRewards[t.address],"timeStamp","desc")[0]:null,d=(null===o||void 0===o?void 0:o.apr)||(null===(s=y.apyBreakdown)||void 0===s?void 0:s.rewards)||(0,f.gA)(0);return(0,p.jsx)(r.Card,{py:6,px:8,width:"full",children:(0,p.jsx)(g.AssetProvider,{assetId:t.address,children:(0,p.jsxs)(h.MI,{width:"full",spacing:[4,0],columns:[2,4],justifyContent:"center",alignItems:"space-between",children:[(0,p.jsx)(c.TokenAmount,{assetId:t.address,size:["sm","md"],spacing:3,amount:i,showIcon:!0,textStyle:"heading",fontSize:"h3"}),(0,p.jsxs)(h.gC,{spacing:1,alignItems:["flex-end","flex-start"],justifyContent:"flex-start",children:[(0,p.jsx)(x.Translation,{component:h.xv,translation:"defi.apy",textStyle:"titleSmall"}),(0,p.jsx)(l.Amount.Percentage,{value:d,textStyle:"tableCell"})]}),(0,p.jsxs)(h.gC,{spacing:1,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,p.jsx)(x.Translation,{component:h.xv,translation:"common.lastDistribution",textStyle:"titleSmall"}),o?(0,p.jsx)(h.xv,{textStyle:"tableCell",children:(0,f.qF)(o.timeStamp).format(a.Cu)}):(0,p.jsx)(h.xv,{textStyle:"tableCell",children:"-"})]}),(0,p.jsx)(h.gC,{justifyContent:"center",alignItems:"flex-end",children:o?(0,p.jsx)(x.Translation,{translation:"assets.assetDetails.assetHistory.rewardsHistory",textStyle:"linkBlue",fontSize:"md",fontWeight:700,onClick:function(){return A()}}):(0,p.jsx)(x.Translation,{translation:"common.howItWorks",textStyle:"linkBlue",fontSize:"md",fontWeight:700,onClick:function(){return C()}})})]})})},"row_".concat(t.address))}))})]}):null}},80745:function(t,e,n){n.r(e),n.d(e,{Scrollable:function(){return o}});var s=n(1413),i=n(45987),r=(n(7276),n(3498)),a=n(45263),l=["children"],o=function(t){var e=t.children,n=(0,i.Z)(t,l);return(0,a.jsx)(r.kC,(0,s.Z)((0,s.Z)({flex:1,width:"100%",overflowY:"auto",overflowX:"hidden",direction:"column",alignItems:"flex-start"},n),{},{children:e}))}},48024:function(t,e,n){n.r(e),n.d(e,{TransactionItem:function(){return c}});var s=n(99594),i=n(87099),r=n(86059),a=n(3498),l=n(97778),o=n(15542),d=n(10658),u=n(45263),c=function(t){var e=t.transaction;return(0,u.jsxs)(a.gC,{mb:2,pb:4,spacing:4,width:"100%",alignItems:"flex-start",borderBottomWidth:"1px",borderBottomColor:"divider",children:[(0,u.jsxs)(a.Ug,{width:"100%",justifyContent:"space-between",children:[(0,u.jsx)(a.Ug,{spacing:3,direction:"row",alignItems:"center",children:(0,u.jsx)(o.Translation,{component:a.xv,translation:"transactionRow.".concat(e.action),textStyle:"captionSmall"})}),(0,u.jsx)(a.xv,{textStyle:"captionSmall",children:(0,s.p6)(1e3*+e.timeStamp,i.Cu)})]}),(0,u.jsxs)(a.Ug,{width:"100%",justifyContent:"space-between",children:[(0,u.jsxs)(a.Ug,{spacing:1,alignItems:"center",children:[(0,u.jsx)(l.TokenAmount,{assetId:e.assetId,amount:e.underlyingAmount,size:"xs",textStyle:"tableCell"}),e.amountUsd&&!(0,s.gA)(e.amountUsd).eq(e.underlyingAmount)&&(0,u.jsx)(r.Amount.Usd,{prefix:"~",value:e.amountUsd,color:"cta",fontSize:"xs"})]}),(0,u.jsx)(d.TransactionLink,{hash:e.hash,chainId:e.chainId})]})]})}}}]);