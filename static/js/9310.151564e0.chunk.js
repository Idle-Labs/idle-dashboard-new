"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[9310,1617,5794,4872,4447,5276,219,6155,745,110,1925,2258,1608,8147,5349,71,9538,7413],{61617:function(t,e,n){n.r(e),n.d(e,{AssetLabel:function(){return c}});var a=n(1413),r=n(44925),i=n(3498),s=n(7386),o=n(45263),l=["assetId","size"],c=function(t){var e=t.assetId,n=t.size,c=void 0===n?"sm":n,d=(0,r.Z)(t,l);return(0,o.jsx)(s.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,o.jsxs)(i.Ug,{alignItems:"center",justifyContent:"flex-start",children:[(0,o.jsx)(s.AssetProvider.Icon,{size:c}),(0,o.jsx)(s.AssetProvider.Name,(0,a.Z)({textStyle:"heading",fontSize:"h3",whiteSpace:"nowrap"},d))]})})}},95794:function(t,e,n){n.r(e),n.d(e,{AssetsIcons:function(){return c}});var a=n(1413),r=n(44925),i=n(3498),s=n(7386),o=n(45263),l=["assetIds","showTooltip"],c=function(t){var e=t.assetIds,n=t.showTooltip,c=(0,r.Z)(t,l);return(0,o.jsx)(i.Ug,{spacing:0,children:e.map((function(t,e){return(0,o.jsx)(s.AssetProvider,{assetId:t,children:(0,o.jsx)(s.AssetProvider.Icon,(0,a.Z)((0,a.Z)({},c),{},{ml:e?-1:0,showTooltip:n}))},"asset_".concat(e))}))})}},54872:function(t,e,n){n.r(e),n.d(e,{BalanceChart:function(){return c}});var a=n(3498),r=n(7276),i=n(64771),s=n(86510),o=n(15034),l=n(45263),c=function(t){var e=t.assetIds,n=t.accountId,c=t.timeframe,d=t.strategies,u=t.isRainbowChart,x=t.setPercentChange,f=t.color,h=void 0===f?"chart.stroke":f,m=t.margins,p=void 0===m?{top:0,right:0,bottom:0,left:0}:m,g=(0,o.k)({assetIds:e,accountId:n,timeframe:c,strategies:d}),v=g.balanceChartData,j=g.balanceChartDataLoading,y=v.total;(0,r.useEffect)((function(){return x((0,s.gB)(y))}),[y,x]);return(0,l.jsx)(a.xu,{width:"full",p:0,height:"350px",children:(0,l.jsx)(i.Graph,{color:h,margins:p,formatFn:function(t){return"$".concat((0,s.dm)(t))},data:v,isRainbowChart:u,loading:j,isLoaded:!j})})}},54447:function(t,e,n){n.r(e),n.d(e,{Card:function(){return f},CardFlex:function(){return h},Dark:function(){return m},Light:function(){return p},Outline:function(){return g}});var a=n(1413),r=n(44925),i=n(3498),s=n(45263),o=["children"],l=["children","layerStyle"],c=["children","layerStyle"],d=["children"],u=["children"],x=["children"],f=function(t){var e=t.children,n=t.layerStyle,o=(0,r.Z)(t,l);return(0,s.jsx)(i.xu,(0,a.Z)((0,a.Z)({width:"100%",position:"relative",layerStyle:n||"card"},o),{},{children:e}))},h=function(t){var e=t.children,n=t.layerStyle,o=(0,r.Z)(t,c);return(0,s.jsx)(i.kC,(0,a.Z)((0,a.Z)({width:"100%",layerStyle:n||"card"},o),{},{children:e}))},m=function(t){var e=t.children,n=(0,r.Z)(t,d),i=["cardDark"].concat(t.layerStyle);return(0,s.jsx)(f,(0,a.Z)((0,a.Z)({},n),{},{layerStyle:i,children:e}))},p=function(t){var e=t.children,n=(0,r.Z)(t,u),i=["cardLight"].concat(t.layerStyle);return(0,s.jsx)(f,(0,a.Z)((0,a.Z)({},n),{},{layerStyle:i,children:e}))},g=function(t){var e=t.children,n=(0,r.Z)(t,x),i=["cardOutline"].concat(t.layerStyle);return(0,s.jsx)(f,(0,a.Z)((0,a.Z)({},n),{},{layerStyle:i,children:e}))};f.Dark=m,f.Light=p,f.Flex=h,f.Outline=g,f.Heading=function(t){var e=t.children,n=(0,r.Z)(t,o);return(0,s.jsx)(i.X6,(0,a.Z)((0,a.Z)({as:"h3",size:"md",mb:6},n),{},{children:e}))}},75276:function(t,e,n){n.r(e),n.d(e,{CompositionChart:function(){return f}});var a=n(7276),r=n(86510),i=n(79681),s=n(96699),o=n(3498),l=n(66288),c=n(90219),d=n(92505),u=n(1494),x=n(45263),f=function(t){var e=t.assetIds,n=t.strategies,f=t.type,h=(0,s.Fg)(),m=(0,i.qM)(),p=(0,l.X)().isMobile,g=(0,d.w)().protocolToken,v=(0,u.O)({assetIds:e,strategies:n}),j=v.compositions,y=v.colors,b=(0,a.useCallback)((function(t){var e;if("assets"===f){var n=j[f].reduce((function(t,e){return t+e.value}),0),a=function(t){return"$".concat((0,r.dm)(t))},i=null===t||void 0===t||null===(e=t.extraData)||void 0===e?void 0:e.asset,s=(null===i||void 0===i?void 0:i.icon)||(null===g||void 0===g?void 0:g.icon),o=(null===i||void 0===i?void 0:i.name)||m("dashboard.portfolio.totalChart"),l=a(t?t.value:n);return t&&!i?null:(0,x.jsxs)(x.Fragment,{children:[s&&(0,x.jsx)("image",{y:"35%",href:s,height:"34",width:"34",textAnchor:"middle",x:p?"44.5%":"46.5%"}),(0,x.jsx)("text",{x:"50%",y:"54%",fill:"white",fontSize:26,fontWeight:600,textAnchor:"middle",pointerEvents:"none",children:l}),(0,x.jsx)("text",{x:"50%",y:"61%",fontSize:14,fontWeight:400,textAnchor:"middle",pointerEvents:"none",fill:h.colors.cta,children:o})]})}}),[g,j,h,m,f,p]);return(0,x.jsx)(o.xu,{height:350,width:"100%",children:j&&j[f]&&j[f].length?(0,x.jsx)(c.DonutChart,{colors:y[f],data:j[f],getSliceData:b}):(0,x.jsx)(c.DonutChart,{colors:{placeholder1:"#4c515d",placeholder2:"#2a3243",placeholder3:"#727680"},data:[{value:40,label:"placeholder1"},{value:60,label:"placeholder2"},{value:30,label:"placeholder3"}]})})}},9310:function(t,e,n){n.r(e),n.d(e,{Dashboard:function(){return N}});var a=n(1413),r=n(93433),i=n(29439),s=n(54447),o=n(95173),l=n(69802),c=n(86059),d=n(12056),u=n(66288),x=n(75349),f=n(88935),h=n(80745),m=n(87099),p=n(95794),g=n(15542),v=n(92505),j=n(54872),y=n(53293),b=n(7276),w=n(7386),C=n(56155),S=n(60110),I=n(39538),A=n(18147),Z=n(75276),k=n(61925),T=n(72258),M=n(30071),O=n(98440),P=n(86510),z=n(1494),D=n(3498),L=n(43127),U=n(89030),E=n(82137),_=n(45263),N=function(){var t=(0,y.Z)(),e=(0,i.Z)(t,2),n=e[0],N=e[1],F=(0,u.X)(),R=F.screenSize,B=F.isMobile,q=(0,b.useState)(0),H=(0,i.Z)(q,2)[1],V=(0,b.useState)(O.W.YEAR),K=(0,i.Z)(V,2),G=K[0],W=K[1],$=(0,l.Z)("selectedStrategies",Object.keys(d.A)),J=(0,i.Z)($,2),Y=J[0],X=J[1],Q=(0,o.s0)(),tt=(0,f.Y)(),et=tt.account,nt=tt.walletInitialized,at=(0,v.w)(),rt=at.stakingData,it=at.isVaultsPositionsLoaded,st=at.isPortfolioLoaded,ot=at.vaultsPositions,lt=at.gaugesRewards,ct=at.vaultsRewards,dt=at.selectors,ut=dt.selectAssetById,xt=dt.selectAssetsByIds,ft=dt.selectVaultsAssetsByType,ht=dt.selectVaultsByType,mt=Object.keys(d.A).filter((function(t){return d.A[t].visible})),pt=(0,b.useMemo)((function(){return nt&&st&&(!et||it)}),[nt,et,st,it]),gt=(0,b.useMemo)((function(){var t;return ht&&(null===(t=ht("staking"))||void 0===t?void 0:t[0])}),[ht]),vt=(0,b.useMemo)((function(){if(!xt)return[];var t=Object.keys(ot);return xt(t).filter((function(t){return!Y||!t.type||Y.includes(t.type)&&mt.includes(t.type)})).map((function(t){return t.id}))}),[ot,Y,mt,xt]),jt=(0,b.useMemo)((function(){return Object.keys(ot).filter((function(t){return vt.includes(t)})).map((function(t){return ot[t]})).reduce((function(t,e){return t.plus(e.usd.deposited)}),(0,P.gA)(0))}),[vt,ot]),yt=(0,b.useMemo)((function(){return Object.keys(ot).filter((function(t){return vt.includes(t)})).map((function(t){return ot[t]})).reduce((function(t,e){return t.plus(e.usd.redeemable)}),(0,P.gA)(0))}),[vt,ot]),bt=(0,b.useMemo)((function(){return yt.div(jt).minus(1).times(100)}),[jt,yt]),wt=(0,b.useMemo)((function(){return et&&it&&Object.keys(ot).length>0}),[et,it,ot]),Ct=(0,z.O)({assetIds:Object.keys(ot),strategies:mt}).compositions,St=(0,b.useCallback)((function(t){Y.includes(t)?X(Y.filter((function(e){return e!==t}))):X([].concat((0,r.Z)(Y),[t]))}),[Y,X]),It=(0,b.useMemo)((function(){return ft?(0,_.jsx)(D.MI,{mt:6,spacing:6,width:"100%",columns:[1,3],children:Ct.strategies.filter((function(t){return mt.includes(t.extraData.strategy.type)})).map((function(t,e){var n=t.extraData.strategy,a=(0,P.qC)("earn",[n.route]),r=t.extraData.avgRealizedApy,i=ft(n.type).filter((function(t){var e;return null===(e=t.tvlUsd)||void 0===e?void 0:e.gt(m.ho)})),o=wt?Object.keys(ot).filter((function(t){var e=ut(t);return(null===e||void 0===e?void 0:e.type)===n.type})):[],l=o.length>0?s.Card:s.Card.Dark;return(0,_.jsx)(l,{py:4,px:6,children:(0,_.jsxs)(D.gC,{spacing:4,width:"100%",children:[(0,_.jsxs)(D.Ug,{pb:4,width:"100%",borderBottom:"1px solid",borderColor:"divider",justifyContent:"space-between",children:[(0,_.jsx)(S.StrategyLabel,{strategy:n.type,fontSize:"h3"}),(0,_.jsx)(g.Translation,{component:L.zx,translation:t.value>0?"common.manage":"common.enter",onClick:function(){return Q("".concat(a))},variant:"ctaPrimary",py:2,height:"auto"})]}),o.length>0?(0,_.jsxs)(D.Ug,{width:"100%",justifyContent:"space-between",children:[(0,_.jsxs)(D.Ug,{spacing:2,alignItems:"center",children:[(0,_.jsx)(g.Translation,{translation:"defi.balance",component:D.xv,textStyle:"captionSmall"}),(0,_.jsx)(U.N2,{noOfLines:2,isLoaded:!!it,children:t.value>0?(0,_.jsx)(c.Amount.Usd,{value:t.value,textStyle:["ctaStatic","h3"]}):(0,_.jsx)(g.Translation,{component:D.xv,translation:"common.noDeposits",textStyle:["ctaStatic","h3"]})})]}),(0,_.jsxs)(D.Ug,{spacing:2,alignItems:"center",children:[(0,_.jsx)(g.Translation,{translation:"defi.avgApy",component:D.xv,textStyle:"captionSmall"}),(0,_.jsx)(U.N2,{noOfLines:2,minWidth:"50px",isLoaded:!!it,children:t.value>0?(0,_.jsx)(c.Amount.Percentage,{value:r,textStyle:["ctaStatic","h3"]}):(0,_.jsx)(D.xv,{textStyle:["ctaStatic","h3"],children:"-"})})]})]}):(0,_.jsx)(D.Ug,{width:"100%",children:(0,_.jsx)(g.Translation,{translation:"dashboard.strategies.bestPerforming",component:D.xv,textStyle:"captionSmall"})}),(0,_.jsx)(h.Scrollable,{minH:190,maxH:190,children:(0,_.jsx)(D.gC,{spacing:2,width:"100%",children:!st||et&&!it?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(U.Od,{width:"100%",height:10}),(0,_.jsx)(U.Od,{width:"100%",height:10}),(0,_.jsx)(U.Od,{width:"100%",height:10}),(0,_.jsx)(U.Od,{width:"100%",height:10})]}):o.length>0?o.sort((function(t,e){var n,a;return null!==(n=ot[t].usd)&&void 0!==n&&n.redeemable&&null!==(a=ot[e].usd)&&void 0!==a&&a.redeemable&&ot[t].usd.redeemable.gt(ot[e].usd.redeemable.toString())?-1:1})).map((function(t){return(0,_.jsx)(x.VaultCard.Inline,{bg:"card.bgLight",onClick:function(){return Q("".concat(a,"/").concat(t))},assetId:t,fields:[{label:"defi.balance",field:"balanceUsd"},{label:B?"defi.apy":"defi.realizedApy",field:"realizedApy"}]},"vault_".concat(t))})):i.sort((function(t,e){return t.apy&&e.apy&&t.apy.gt(e.apy.toString())?-1:1})).slice(0,4).map((function(t){return(0,_.jsx)(x.VaultCard.Inline,{onClick:function(){return Q("".concat(a,"/").concat(t.id))},assetId:"".concat(t.id),fields:[{label:"defi.tvl",field:"tvl"},{label:"defi.apy",field:"apy"}]},"vault_".concat(t.id))}))})})]})},"strategy_".concat(e))}))}):null}),[wt,mt,et,B,st,ut,Q,Ct,ot,it,ft]),At=(0,b.useMemo)((function(){if(!pt)return(0,_.jsx)(U.Od,{width:"100%",height:"100px"});var t=d.A.BY,e=(0,P.qC)("earn",[t.route]);return(0,P.xb)(ct)?(0,_.jsx)(s.Card,{width:"100%",children:(0,_.jsxs)(D.Kq,{spacing:[10,0],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,_.jsx)(g.Translation,{translation:"dashboard.rewards.vaults.empty.body",component:D.xv,textAlign:["center","left"]}),(0,_.jsx)(g.Translation,{component:L.zx,translation:"dashboard.rewards.vaults.empty.cta",onClick:function(){return Q("".concat(e))},variant:["ctaPrimaryOutline"],px:10,py:2})]})}):(0,_.jsxs)(D.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,_.jsx)(D.MI,{spacing:6,width:"100%",columns:[1,3],children:Object.keys(ct).map((function(t){return(0,_.jsx)(M.VaultRewardOverview,(0,a.Z)({assetId:t},ct[t]),"reward_".concat(t))}))}),(0,_.jsx)(g.Translation,{component:L.zx,translation:"dashboard.rewards.vaults.cta",width:["full","auto"],onClick:function(){return Q("".concat(e))},variant:["ctaPrimaryOutline"],px:10,py:2})]})}),[ct,Q,pt]),Zt=(0,b.useMemo)((function(){if(!pt)return(0,_.jsx)(U.Od,{width:"100%",height:"100px"});var t=d.A.AA,e=(0,P.qC)("earn",[t.route]);return(0,P.xb)(lt)?(0,_.jsx)(s.Card,{width:"100%",children:(0,_.jsxs)(D.Kq,{spacing:[10,0],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,_.jsx)(g.Translation,{translation:"dashboard.rewards.gauges.empty.body",component:D.xv,textAlign:["center","left"]}),(0,_.jsx)(g.Translation,{component:L.zx,translation:"dashboard.rewards.gauges.empty.cta",onClick:function(){return Q("".concat(e))},variant:["ctaPrimaryOutline"],px:10,py:2})]})}):(0,_.jsxs)(D.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,_.jsx)(D.gC,{spacing:4,width:"100%",children:Object.keys(lt).map((function(t){var e=lt[t];return(0,_.jsx)(w.AssetProvider,{wrapFlex:!1,assetId:t,children:(0,_.jsx)(s.Card,{p:6,px:8,width:"100%",children:(0,_.jsx)(D.Kq,{spacing:0,width:"100%",alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:(0,_.jsxs)(D.MI,{width:"100%",spacing:[4,0],columns:[2,5],children:[(0,_.jsxs)(D.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"defi.asset",textStyle:"captionSmall"}),(0,_.jsx)(w.AssetProvider.GeneralData,{size:"xs",field:"asset"})]}),(0,_.jsxs)(D.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"defi.gauges",textStyle:"captionSmall"}),(0,_.jsx)(p.AssetsIcons,{size:"xs",assetIds:e.gauges,showTooltip:!0})]}),(0,_.jsxs)(D.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"defi.apy",textStyle:"captionSmall"}),(0,_.jsx)(c.Amount.Percentage,{textStyle:"tableCell",value:(0,P.gA)(e.apr).gt(0)?e.apr:null})]}),(0,_.jsxs)(D.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"defi.dailyDistribution",textStyle:"captionSmall"}),(0,_.jsxs)(D.Ug,{spacing:1,width:"100%",children:[(0,_.jsx)(c.Amount,{textStyle:"tableCell",value:e.rate,decimals:4}),(0,_.jsx)(w.AssetProvider.Symbol,{textStyle:"tableCell"})]})]}),(0,_.jsxs)(D.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,_.jsxs)(D.Ug,{spacing:1,width:"100%",children:[(0,_.jsx)(c.Amount,{textStyle:"tableCell",value:e.balance,decimals:(0,P.gA)(e.balance).lt(1)?4:2}),(0,_.jsx)(w.AssetProvider.Symbol,{textStyle:"tableCell"})]})]})]})})})},"reward_".concat(t))}))}),(0,_.jsx)(g.Translation,{component:L.zx,translation:"dashboard.rewards.gauges.cta",width:["full","auto"],onClick:function(){return Q("".concat(e))},variant:["ctaPrimaryOutline"],px:10,py:2})]})}),[Q,lt,pt]),kt=(0,b.useMemo)((function(){if(!pt||!gt||!rt)return(0,_.jsx)(U.Od,{width:"100%",height:"100px"});var t=gt.getClaimRewardsContractSendMethod(),e=(0,P.Os)("stake");return rt.stkIDLE.balance.lte(0)?(0,_.jsx)(s.Card,{width:"100%",children:(0,_.jsxs)(D.Kq,{spacing:[10,0],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,_.jsx)(g.Translation,{translation:"dashboard.rewards.staking.empty.body",component:D.xv,textAlign:["center","left"]}),(0,_.jsx)(g.Translation,{component:L.zx,translation:"dashboard.rewards.staking.empty.cta",onClick:function(){(0,P.xw)(e)},variant:["ctaPrimaryOutline"],px:10,py:2})]})}):(0,_.jsxs)(D.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,_.jsx)(s.Card,{p:6,px:8,width:"100%",children:(0,_.jsxs)(D.Kq,{width:"100%",spacing:[4,14],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,_.jsxs)(D.Ug,{width:"100%",spacing:[0,6],flexWrap:["wrap","nowrap"],justifyContent:["flex-start","space-between"],children:[(0,_.jsxs)(D.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"staking.totalSupply",textStyle:"captionSmall"}),(0,_.jsx)(c.Amount,{value:rt.stkIDLE.totalSupply,suffix:" ".concat(gt.stkIdleConfig.name),textStyle:"tableCell"})]}),(0,_.jsxs)(D.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"defi.balance",textStyle:"captionSmall"}),(0,_.jsx)(c.Amount,{value:rt.stkIDLE.balance,suffix:" ".concat(gt.stkIdleConfig.name),textStyle:"tableCell"})]}),(0,_.jsxs)(D.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"defi.share",textStyle:"captionSmall"}),(0,_.jsx)(c.Amount.Percentage,{value:rt.stkIDLE.share,textStyle:"tableCell"})]}),(0,_.jsxs)(D.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,_.jsx)(c.Amount,{value:rt.IDLE.claimable,suffix:" ".concat(m.MI),textStyle:"tableCell"})]}),(0,_.jsxs)(D.gC,{pb:[2,0],spacing:[1,2],width:["100%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,_.jsx)(g.Translation,{component:D.xv,translation:"staking.lockEnd",textStyle:"captionSmall"}),(0,_.jsx)(D.xv,{textStyle:"tableCell",children:(0,P.p6)(rt.lockEnd)})]})]}),(0,_.jsx)(T.TransactionButton,{text:"defi.claim",vaultId:gt.id,assetId:gt.id,contractSendMethod:t,actionType:"claim",amount:rt.IDLE.claimable.toString(),width:["100%","150px"],disabled:rt.IDLE.claimable.lte(0)})]})}),(0,_.jsx)(g.Translation,{component:L.zx,translation:"dashboard.rewards.staking.cta",width:["full","auto"],onClick:function(){(0,P.xw)(e)},variant:["ctaPrimaryOutline"],px:10,py:2})]})}),[gt,rt,pt]),Tt=(0,b.useMemo)((function(){return(0,_.jsxs)(D.gC,{width:"100%",spacing:[10,20],children:[(0,_.jsxs)(D.gC,{spacing:6,width:"100%",id:"gauges-rewards",alignItems:"flex-start",children:[(0,_.jsx)(S.StrategyLabel,{strategy:"AA",customText:"dashboard.rewards.gauges.title",textStyle:"heading",fontSize:"h3"}),Zt]}),(0,_.jsxs)(D.gC,{spacing:6,width:"100%",id:"best-yield-rewards",alignItems:"flex-start",children:[(0,_.jsx)(S.StrategyLabel,{strategy:"BY",customText:"dashboard.rewards.vaults.title",textStyle:"heading",fontSize:"h3"}),At]}),(0,_.jsxs)(D.gC,{spacing:6,width:"100%",id:"staking-rewards",alignItems:"flex-start",children:[(0,_.jsx)(g.Translation,{translation:"dashboard.rewards.staking.title",component:D.xv,textStyle:"heading",fontSize:"h3"}),kt]})]})}),[At,Zt,kt]),Mt=(0,b.useMemo)((function(){return et&&"sm"!==R&&wt?(0,_.jsx)(D.Kq,{py:4,flex:1,spacing:3,direction:"row",borderBottom:"1px solid",borderColor:"divider",children:Object.keys(d.A).filter((function(t){return d.A[t].visible})).map((function(t){return(0,_.jsx)(L.zx,{minW:"180px",variant:"filter",onClick:function(){return St(t)},"aria-selected":Y.includes(t),children:(0,_.jsx)(S.StrategyLabel,{color:"primary",strategy:t})},"strategy_".concat(t))}))}):null}),[et,wt,R,St,Y]),Ot=(0,b.useMemo)((function(){if(1===Y.length)return d.A[Y[0]].color}),[Y]);return(0,_.jsxs)(D.xu,{mt:12,width:"100%",children:[(0,_.jsx)(I.VaultsCarousel,{}),(0,_.jsxs)(D.Kq,{mb:10,pt:[16,12],spacing:10,width:"100%",alignItems:["flex-start","center"],justifyContent:"flex-start",direction:["column","row"],children:[(0,_.jsx)(g.Translation,{translation:"navBar.dashboard",component:D.X6,as:"h2",size:"3xl"}),Mt]}),(0,_.jsxs)(D.Kq,{flex:1,spacing:6,width:"100%",direction:["column","row"],children:[(0,_.jsxs)(D.gC,{flex:1,spacing:6,alignItems:"flex-start",children:[(0,_.jsx)(g.Translation,{display:["none","block"],translation:"dashboard.portfolio.performance",component:D.xv,textStyle:"heading",fontSize:"h3"}),(0,_.jsxs)(s.Card.Flex,{p:0,overflow:"hidden",direction:"column",minH:["auto",460],position:"relative",layerStyle:"cardDark",justifyContent:"space-between",children:[yt.lte(0)&&(0,_.jsx)(D.M5,{layerStyle:"overlay",bg:"rgba(0, 0, 0, 0.4)",children:(0,_.jsx)(g.Translation,{translation:et?"dashboard.performanceChart.empty":"dashboard.performanceChart.emptyNotConnected",textAlign:"center",component:D.xv,py:1,px:3,bg:"rgba(0, 0, 0, 0.2)",borderRadius:8})}),(0,_.jsxs)(D.Kq,{pt:[6,8],px:[6,8],pb:[4,0],width:"100%",alignItems:"flex-start",direction:["column","row"],justifyContent:["center","space-between"],children:[wt&&(0,_.jsx)(D.gC,{width:"100%",spacing:[5,1],alignItems:["center","flex-start"],children:(0,_.jsxs)(U.N2,{noOfLines:2,isLoaded:!!it,children:[(0,_.jsx)(g.Translation,{display:["none","block"],translation:"dashboard.portfolio.totalChart",component:D.xv,textStyle:"tableCell",fontWeight:400,color:"cta"}),(0,_.jsxs)(D.Ug,{spacing:[2,4],alignItems:"baseline",children:[(0,_.jsx)(c.Amount.Usd,{value:yt,textStyle:"heading",fontSize:"2xl"}),yt.gt(0)&&(0,_.jsx)(E.kN,{children:(0,_.jsxs)(D.Ug,{spacing:2,children:[(0,_.jsx)(c.Amount.Percentage,{value:bt,textStyle:"captionSmall"}),(0,_.jsx)(E.uY,{type:bt.gt(0)?"increase":"decrease"})]})})]})]})}),wt&&(0,_.jsx)(k.TimeframeSelector,{timeframe:G,setTimeframe:W,width:["100%","auto"],justifyContent:["center","initial"]})]}),(0,_.jsx)(j.BalanceChart,{percentChange:0,color:Ot,assetIds:vt,timeframe:G,isRainbowChart:!1,strategies:Y,setPercentChange:H,margins:{top:10,right:0,bottom:65,left:0}})]})]}),(0,_.jsxs)(D.gC,{spacing:6,width:["100%","500px"],alignItems:"flex-start",children:[(0,_.jsx)(g.Translation,{translation:"dashboard.portfolio.composition",component:D.xv,textStyle:"heading",fontSize:"h3"}),(0,_.jsxs)(s.Card.Dark,{p:0,flex:1,px:[6,0],display:"flex",alignItems:"center",children:[yt.lte(0)&&(0,_.jsx)(D.M5,{layerStyle:"overlay",bg:"rgba(0, 0, 0, 0.4)",children:(0,_.jsx)(g.Translation,{translation:et?"dashboard.compositionChart.empty":"dashboard.compositionChart.emptyNotConnected",textAlign:"center",component:D.xv,py:1,px:3,bg:"rgba(0, 0, 0, 0.2)",borderRadius:8})}),(0,_.jsx)(Z.CompositionChart,{assetIds:vt,strategies:Y,type:"assets"})]})]})]}),It,et&&(0,_.jsxs)(D.Kq,{spacing:6,mt:[10,20],width:"100%",direction:["column","row"],children:[(0,_.jsx)(D.gC,{flex:1,alignItems:"flex-start",ref:n,children:Tt}),(0,_.jsx)(D.gC,{spacing:6,width:["100%","500px"],alignItems:"flex-start",children:(0,_.jsx)(A.TransactionList,{assetIds:vt,maxH:[400,Math.max(400,null===N||void 0===N?void 0:N.height)],showTitleOnMobile:!0})})]}),(0,_.jsx)(C.JoinCommunity,{})]})}},90219:function(t,e,n){n.r(e),n.d(e,{DonutChart:function(){return g},PieChart:function(){return f}});var a=n(1413),r=n(29439),i=n(14380),s=n(7276),o=n(28547),l=n(87563),c=n(68165),d=n(77806),u=n(45263),x={top:0,right:0,bottom:0,left:0};function f(t){var e=t.data,n=t.colors,l=t.width,c=t.height,f=t.margin,h=void 0===f?x:f,m=t.animate,g=void 0===m||m,v=t.getSliceData,j=(0,s.useState)(null),y=(0,r.Z)(j,2),b=y[0],w=y[1],C=l-h.left-h.right,S=c-h.top-h.bottom,I=Math.min(C,S)/2,A=S/2,Z=C/2,k=e.map((function(t){return t.label})),T=k.map((function(t){return n[t]})),M=(0,o.Z)({domain:k,range:T}),O=v&&v(b);return(0,u.jsxs)("svg",{width:l,height:c,children:[(0,u.jsx)("rect",{rx:14,width:l,height:c,fill:"url('#visx-pie-gradient')"}),O,(0,u.jsx)(i.Z,{top:A+h.top,left:Z+h.left,children:(0,u.jsx)(d.Z,{padAngle:0,cornerRadius:0,pieValue:function(t){return t.value},outerRadius:I,innerRadius:I-30,data:e,children:function(t){return(0,u.jsx)(p,(0,a.Z)((0,a.Z)({},t),{},{animate:g,onMouseOver:function(t){var e=t.data;return w(e)},getKey:function(t){return t.data.label},onMouseOut:function(){return w(null)},getColor:function(t){return M(t.data.label)}}))}})})]})}var h=function(t){var e=t.endAngle;return{startAngle:e>Math.PI?2*Math.PI:0,endAngle:e>Math.PI?2*Math.PI:0,opacity:0}},m=function(t){return{startAngle:t.startAngle,endAngle:t.endAngle,opacity:1}};function p(t){var e=t.animate,n=t.arcs,r=t.path,i=t.getKey,s=t.getColor,o=t.onMouseOut,l=t.onMouseOver,d=t.onClickDatum;return(0,c.useTransition)(n,{from:e?h:m,enter:m,update:m,leave:e?h:m,keys:i})((function(t,e){return(0,u.jsx)("g",{children:(0,u.jsx)(c.animated.path,{d:(0,c.interpolate)([t.startAngle,t.endAngle],(function(t,n){return r((0,a.Z)((0,a.Z)({},e),{},{startAngle:t,endAngle:n}))})),fill:s(e),onClick:function(){return d&&d(e)},onMouseOver:function(){return l&&l(e)},onMouseOut:function(){return o&&o(e)},onTouchStart:function(){return d&&d(e)}})},Math.random())}))}var g=function(t){var e=t.data,n=t.colors,a=t.getSliceData;return(0,u.jsx)(l.Z,{debounceTime:10,children:function(t){return(0,u.jsx)(f,{data:e,colors:n,width:t.width,height:t.height,getSliceData:a})}})}},56155:function(t,e,n){n.r(e),n.d(e,{JoinCommunity:function(){return u}});n(7276);var a=n(54447),r=n(68905),i=n(9597),s=n(60361),o=n(15542),l=n(3498),c=n(43127),d=n(45263),u=function(){return(0,d.jsx)(a.Card.Outline,{px:5,pb:4,mt:20,pt:[10,4],children:(0,d.jsxs)(l.Kq,{spacing:10,width:"100%",alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,d.jsx)(o.Translation,{translation:"footer.joinCommunity",component:l.xv,textStyle:"heading",fontSize:"lg"}),(0,d.jsxs)(l.MI,{flex:1,spacing:4,width:"100%",columns:[1,4],children:[(0,d.jsx)(l.rU,{href:"https://medium.com/idle-finance",isExternal:!0,textDecoration:"none !important",children:(0,d.jsx)(c.zx,{width:"100%",height:14,variant:"cta",leftIcon:(0,d.jsx)(s.Ru$,{size:24}),children:(0,d.jsx)(i.Kfb,{size:72})})}),(0,d.jsx)(l.rU,{href:"https://twitter.com/idlefinance",isExternal:!0,textDecoration:"none !important",children:(0,d.jsx)(c.zx,{width:"100%",height:14,variant:"cta",leftIcon:(0,d.jsx)(s.mWf,{size:24}),children:"@idlefinance"})}),(0,d.jsx)(l.rU,{href:"https://discord.gg/mpySAJp",isExternal:!0,textDecoration:"none !important",children:(0,d.jsx)(c.zx,{width:"100%",height:14,variant:"cta",leftIcon:(0,d.jsx)(s.Mqf,{size:24}),children:"IdleDAO Server"})}),(0,d.jsx)(l.rU,{href:"https://gov.idle.finance/",isExternal:!0,textDecoration:"none !important",children:(0,d.jsx)(c.zx,{width:"100%",height:14,variant:"cta",leftIcon:(0,d.jsx)(r.Upc,{size:24}),children:"Governance Forum"})})]})]})})}},80745:function(t,e,n){n.r(e),n.d(e,{Scrollable:function(){return l}});var a=n(1413),r=n(44925),i=(n(7276),n(3498)),s=n(45263),o=["children"],l=function(t){var e=t.children,n=(0,r.Z)(t,o);return(0,s.jsx)(i.kC,(0,a.Z)((0,a.Z)({flex:1,width:"100%",overflowY:"auto",overflowX:"hidden",direction:"column",alignItems:"flex-start"},n),{},{children:e}))}},60110:function(t,e,n){n.r(e),n.d(e,{StrategyLabel:function(){return d}});var a=n(1413),r=n(44925),i=(n(7276),n(12056)),s=n(15542),o=n(3498),l=n(45263),c=["strategy","customText"],d=function(t){var e=t.strategy,n=t.customText,d=(0,r.Z)(t,c);if(!e)return null;var u=i.A[e];return u?(0,l.jsxs)(o.Ug,{spacing:2,alignItems:"center",children:[(0,l.jsx)(s.Translation,(0,a.Z)({component:o.xv,translation:n||(null===u||void 0===u?void 0:u.label),textStyle:"ctaStatic"},d)),(0,l.jsx)(o.xu,{width:2,height:2,borderRadius:"50%",bg:u.color})]}):null}},61925:function(t,e,n){n.r(e),n.d(e,{TimeframeSelector:function(){return c}});var a=n(1413),r=n(44925),i=(n(7276),n(98440)),s=n(3498),o=n(45263),l=["timeframe","setTimeframe"],c=function(t){var e=t.timeframe,n=t.setTimeframe,c=(0,r.Z)(t,l);return(0,o.jsx)(s.Ug,(0,a.Z)((0,a.Z)({spacing:[6,10]},c),{},{children:Object.values(i.W).map((function(t){var a=t===e;return(0,o.jsx)(s.xv,{textStyle:"cta",color:"ctaDisabled","aria-selected":a,onClick:function(){return n(t)},children:t.toUpperCase()},"timeframe_".concat(t))}))}))}},72258:function(t,e,n){n.r(e),n.d(e,{TransactionButton:function(){return j},TransactionButtonValue:function(){return v}});var a=n(1413),r=n(29439),i=n(44925),s=(n(81608),n(55967)),o=n(53293),l=n(7276),c=n(15542),d=n(23023),u=n(96699),x=n(52486),f=n(3498),h=n(43127),m=n(45263),p=["text","contractSendMethod"],g=["text","amount","assetId","vaultId","actionType","contractSendMethod"],v=function(t){var e,n=t.text,o=t.contractSendMethod,h=(0,i.Z)(t,p),g=(0,u.Fg)(),v=(0,l.useRef)(null),j=(0,l.useState)(null),y=(0,r.Z)(j,2),b=y[0],w=y[1],C=(0,d.R)(),S=C.state.transaction,I=C.cleanTransaction,A=(0,l.useMemo)((function(){var t;return JSON.stringify(null===S||void 0===S||null===(t=S.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(o._method)}),[S,o]),Z=(0,l.useMemo)((function(){return A&&S.status&&["pending","success","failed"].includes(S.status)&&S.estimatedTime}),[S,A]),k=(0,l.useMemo)((function(){return Z&&"pending"===S.status?S.estimatedTime:.5}),[Z,S]),T=(0,l.useCallback)((function(){if(!S.timestamp||!S.estimatedTime)return null;var t=+S.timestamp+1e3*S.estimatedTime,e=Math.max(0,Math.ceil((t-Date.now())/1e3));w(e),e&&(v.current=setTimeout((function(){T()}),1e3))}),[S]);(0,l.useEffect)((function(){var t;"success"===S.status||"failed"===S.status?(v.current&&(clearInterval(v.current),v.current=null),"success"!==S.status&&4001===(null===(t=S.error)||void 0===t?void 0:t.code)||setTimeout((function(){I()}),4e3)):"pending"!==S.status||v.current||T()}),[S.status,T,I,null===(e=S.error)||void 0===e?void 0:e.code]);var M=(0,l.useMemo)((function(){var t;if(A)switch(null===S||void 0===S?void 0:S.status){case"created":return(0,m.jsx)(x.$,{size:"sm"});case"pending":return S.timestamp&&S.estimatedTime&&b?(0,m.jsxs)(f.xv,{textStyle:"ctaStatic",children:[b,"s"]}):(0,m.jsx)(x.$,{size:"sm"});case"success":return(0,m.jsx)(f.kC,(0,a.Z)((0,a.Z)({},h),{},{alignItems:"center",justifyContent:"center",children:(0,m.jsx)(s.ddU,{size:24,color:g.colors.green[400]})}));case"failed":if(4001!==(null===(t=S.error)||void 0===t?void 0:t.code))return(0,m.jsx)(f.kC,(0,a.Z)((0,a.Z)({},h),{},{alignItems:"center",justifyContent:"center",children:(0,m.jsx)(s.lTq,{size:24,color:g.colors.red[400]})}))}return(0,m.jsx)(c.Translation,{translation:n,textStyle:"ctaStatic"})}),[A,b,S,n,g,h]),O=(0,l.useMemo)((function(){switch(S.status){case"success":case"failed":return"transparent";default:return"primary"}}),[S]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f.kC,{top:0,left:0,bottom:0,bg:O,overflow:"hidden",position:"absolute",alignItems:"center",justifyContent:"center",transition:"background 0.5s ease-in-out",sx:{animationIterationCount:1,animationFillMode:"forwards",animationTimingFunction:"ease-in-out",animationDuration:"".concat(k,"s"),animationName:Z?"progress":"none",animationPlayState:Z?"running":"stopped"},children:(0,m.jsx)(f.kC,{left:0,width:h.width,alignItems:"center",position:"absolute",justifyContent:"center",sx:{"> *":{color:"black !important",borderColor:"black !important"}},children:M})}),M]})},j=function(t){var e=t.text,n=t.amount,s=t.assetId,c=t.vaultId,u=t.actionType,x=t.contractSendMethod,f=(0,i.Z)(t,g),p=(0,o.Z)(),j=(0,r.Z)(p,2),y=j[0],b=j[1].width,w=(0,d.R)(),C=w.sendTransaction,S=w.state.transaction,I=(0,l.useMemo)((function(){var t;return JSON.stringify(null===S||void 0===S||null===(t=S.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(x._method)}),[S,x]),A=(0,l.useCallback)((function(){if("created"!==S.status&&"pending"!==S.status)return C(c,s,x,u,n)}),[S,c,s,x,u,n,C]),Z=(0,l.useMemo)((function(){var t;if(!I)return"primary";switch(S.status){case"success":return"green.400";case"failed":return 4001!==(null===(t=S.error)||void 0===t?void 0:t.code)?"red.400":"primary";default:return"primary"}}),[I,S]);return(0,m.jsx)(h.zx,(0,a.Z)((0,a.Z)({py:2,px:10,overflow:"hidden",position:"relative",width:b||"auto",borderColor:Z,onClick:function(){return A()},ref:y,variant:"ctaPrimaryOutline",transition:"border 0.5s ease-in-out"},f),{},{children:(0,m.jsx)(v,{text:e,vaultId:c,assetId:s,contractSendMethod:x,width:b})}))}},18147:function(t,e,n){n.r(e),n.d(e,{TransactionList:function(){return S}});var a=n(1413),r=n(93433),i=n(29439),s=n(44925),o=n(7276),l=n(87099),c=n(86059),d=n(86510),u=n(54447),x=n(88935),f=n(80745),h=n(15542),m=n(92505),p=n(53293),g=n(7386),v=n(3498),j=n(89030),y=n(10658),b=n(45263),w=["assetIds","showTitleOnMobile","fullHeightOnMobile"],C=function(t){var e=t.transaction;return(0,b.jsx)(g.AssetProvider,{wrapFlex:!1,assetId:e.assetId,children:(0,b.jsxs)(v.gC,{mb:2,pb:4,spacing:4,width:"100%",alignItems:"flex-start",borderBottomWidth:"1px",borderBottomColor:"divider",children:[(0,b.jsxs)(v.Ug,{width:"100%",justifyContent:"space-between",children:[(0,b.jsx)(v.Ug,{spacing:3,direction:"row",alignItems:"center",children:(0,b.jsx)(h.Translation,{component:v.xv,translation:"transactionRow.".concat(e.action),textStyle:"captionSmall"})}),(0,b.jsx)(v.xv,{textStyle:"captionSmall",children:(0,d.p6)(1e3*+e.timeStamp,l.Cu)})]}),(0,b.jsxs)(v.Ug,{width:"100%",justifyContent:"space-between",children:[(0,b.jsxs)(v.Ug,{spacing:2,alignItems:"center",children:[(0,b.jsx)(g.AssetProvider.Icon,{size:"xs"}),(0,b.jsxs)(v.Ug,{spacing:1,alignItems:"center",children:[(0,b.jsx)(c.Amount,{value:e.underlyingAmount,decimals:4,textStyle:"tableCell"}),(0,b.jsx)(g.AssetProvider.Name,{textStyle:"tableCell"})]})]}),(0,b.jsx)(y.TransactionLink,{hash:e.hash})]})]})})},S=function(t){var e=t.assetIds,n=t.showTitleOnMobile,l=void 0!==n&&n,c=t.fullHeightOnMobile,g=void 0!==c&&c,y=(0,s.Z)(t,w),S=(0,x.Y)().account,I=(0,p.Z)(),A=(0,i.Z)(I,2),Z=A[0],k=A[1],T=(0,m.w)(),M=T.isPortfolioLoaded,O=T.isVaultsPositionsLoaded,P=T.selectors,z=P.selectVaultTransactions,D=P.selectVaultGauge,L=(0,o.useMemo)((function(){return S&&e&&z&&D?e.reduce((function(t,e){var n=D(e),a=z(e),i=n?z(n.id):[];return[].concat((0,r.Z)(t),(0,r.Z)(a),(0,r.Z)(i))}),[]):[]}),[S,e,z,D]),U=(0,o.useMemo)((function(){return M&&(!S||O)}),[M,S,O]),E=(0,o.useMemo)((function(){return U?L.length>0?(0,d.Pf)(L,"timeStamp","desc").map((function(t){return(0,b.jsx)(C,{transaction:t},"tx_".concat(t.hash))})):(0,b.jsx)(v.kC,{flex:1,minH:250,width:"100%",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(h.Translation,{component:v.xv,translation:"assets.assetDetails.assetHistory.emptyTransactions"})}):(0,b.jsxs)(v.gC,{spacing:4,width:"100%",children:[(0,b.jsx)(j.Od,{width:"100%",height:10}),(0,b.jsx)(j.Od,{width:"100%",height:10}),(0,b.jsx)(j.Od,{width:"100%",height:10}),(0,b.jsx)(j.Od,{width:"100%",height:10})]})}),[U,L]);return(0,b.jsx)(u.Card,(0,a.Z)((0,a.Z)({flex:1},y),{},{children:(0,b.jsxs)(v.gC,{flex:1,spacing:0,height:"100%",alignItems:"flex-start",ref:Z,justifyContent:"flex-start",children:[(0,b.jsx)(h.Translation,{display:l?"block":["none","block"],component:u.Card.Heading,translation:"assets.assetDetails.assetHistory.transactionHistory"}),(0,b.jsx)(f.Scrollable,{maxH:[g?"100%":280,Math.max((null===k||void 0===k?void 0:k.height)||400)],children:E})]})}))}},75349:function(t,e,n){n.r(e),n.d(e,{VaultCard:function(){return p}});var a=n(1413),r=n(44925),i=n(7276),s=n(95173),o=n(54447),l=n(61617),c=n(15542),d=n(85267),u=n(92505),x=n(7386),f=n(3498),h=n(45263),m=["assetId","fields","onClick"],p=function(t){var e=t.assetId,n=(0,s.s0)(),a=(0,d.m)().location,r=(0,u.w)().selectors.selectAssetById,m=(0,i.useMemo)((function(){if(r)return r(e)}),[e,r]),p=(0,i.useMemo)((function(){var t;return null!==m&&void 0!==m&&null!==(t=m.vaultPosition)&&void 0!==t&&t.usd.deposited?(0,h.jsxs)(f.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.deposited",textStyle:"captionSmall"}),(0,h.jsx)(x.AssetProvider.DepositedUsd,{textStyle:"tableCell"})]}):"BY"===(null===m||void 0===m?void 0:m.type)?(0,h.jsxs)(f.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.protocols",textStyle:"captionSmall"}),(0,h.jsx)(x.AssetProvider.Protocols,{iconMargin:-1,size:"xs"})]}):(0,h.jsxs)(f.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.rewards",textStyle:"captionSmall"}),(0,h.jsx)(x.AssetProvider.Rewards,{iconMargin:-1,size:"xs"})]})}),[m]);return(0,h.jsx)(x.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,h.jsx)(o.Card,{p:4,onClick:function(){return n("".concat(null===a||void 0===a?void 0:a.pathname,"/").concat(e))},children:(0,h.jsxs)(f.gC,{spacing:3,alignItems:"flex-start",children:[(0,h.jsx)(l.AssetLabel,{assetId:e,size:"sm"}),(0,h.jsxs)(f.MI,{pt:3,pl:4,columns:3,width:"100%",borderTop:"1px solid",borderTopColor:"divider",children:[(0,h.jsxs)(f.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.pool",textStyle:"captionSmall"}),(0,h.jsx)(x.AssetProvider.PoolUsd,{textStyle:"tableCell"})]}),(0,h.jsxs)(f.gC,{spacing:1,alignItems:"flex-start",children:[(0,h.jsx)(c.Translation,{translation:"defi.apy",textStyle:"captionSmall"}),(0,h.jsx)(x.AssetProvider.Apy,{textStyle:"tableCell"})]}),p]})]})})})};p.Inline=function(t){var e=t.assetId,n=t.fields,s=t.onClick,l=(0,r.Z)(t,m);return(0,h.jsx)(x.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,h.jsx)(o.Card,(0,a.Z)((0,a.Z)({py:2,px:[4,6],layerStyle:["card","cardHover"],onClick:s},l),{},{children:(0,h.jsx)(f.Ug,{width:"100%",justifyContent:"space-between",children:(0,h.jsxs)(f.Ug,{spacing:3,width:"100%",alignItems:"center",children:[(0,h.jsx)(x.AssetProvider.Icon,{size:"xs"}),n.map((function(t,e){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(f.xu,{width:1,height:1,bg:"divider",borderRadius:"50%"}),(0,h.jsxs)(f.Ug,{spacing:2,children:[(0,h.jsx)(c.Translation,{translation:t.label,component:f.xv,textStyle:"captionSmall"}),(0,h.jsx)(x.AssetProvider.GeneralData,(0,a.Z)({field:t.field,textStyle:"tableCell"},t.props))]})]},"field_".concat(e))}))]})})}))})}},30071:function(t,e,n){n.r(e),n.d(e,{VaultRewardOverview:function(){return d}});n(7276);var a=n(54447),r=n(86059),i=n(61617),s=n(15542),o=n(3498),l=n(7386),c=n(45263),d=function(t){var e=t.assetId,n=t.assets,d=t.amount;return(0,c.jsx)(l.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,c.jsx)(a.Card,{p:6,children:(0,c.jsxs)(o.gC,{spacing:5,alignItems:"flex-start",children:[(0,c.jsx)(i.AssetLabel,{assetId:e}),(0,c.jsxs)(o.Ug,{width:"100%",justifyContent:"space-between",children:[(0,c.jsxs)(o.gC,{spacing:1,alignItems:"flex-start",children:[(0,c.jsx)(s.Translation,{component:o.xv,translation:"defi.vaults",textStyle:"captionSmall"}),(0,c.jsx)(o.Ug,{spacing:0,children:n.map((function(t,e){return(0,c.jsx)(l.AssetProvider,{assetId:t,children:(0,c.jsx)(l.AssetProvider.Icon,{size:"xs",ml:e?-1:0,showTooltip:!0})},"asset_".concat(t))}))})]}),(0,c.jsxs)(o.gC,{spacing:1,alignItems:"flex-start",children:[(0,c.jsx)(s.Translation,{component:o.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,c.jsxs)(o.Ug,{spacing:1,children:[(0,c.jsx)(r.Amount,{value:d,decimals:8,textStyle:"tableCell"}),(0,c.jsx)(l.AssetProvider.Name,{textStyle:"tableCell"})]})]})]})]})})})}},39538:function(t,e,n){n.r(e),n.d(e,{VaultsCarousel:function(){return x}});var a=n(29439),r=(n(37413),n(86510)),i=n(7276),s=n(3498),o=n(95173),l=n(12056),c=n(75349),d=n(92505),u=n(45263),x=function(){var t=(0,o.s0)(),e=(0,d.w)().vaults,n=(0,i.useState)("running"),x=(0,a.Z)(n,2),f=x[0],h=x[1];return(0,u.jsx)(s.Ug,{left:0,spacing:2,width:"100%",overflow:"hidden",position:"absolute",top:["90px","110px"],onMouseOut:function(){return h("running")},onMouseOver:function(){return h("paused")},children:(0,u.jsx)(s.Ug,{spacing:2,position:"relative",sx:{animationDuration:"120s",animationFillMode:"backwards",animationTimingFunction:"linear",animationPlayState:f,animationIterationCount:"infinite",animationName:"vaults-carousel-progress"},children:e.map((function(e){var n=l.A[e.type];if(!n||!n.route)return null;var a=(0,r.qC)("earn",[n.route]);return(0,u.jsx)(c.VaultCard.Inline,{onClick:function(){return t("".concat(a,"/").concat(e.id))},assetId:"".concat(e.id),fields:[{label:"defi.tvl",field:"tvl"},{label:"defi.apy",field:"apy",props:{color:n.color}}]},"vault_".concat(e.id))}))})})}},15034:function(t,e,n){n.d(e,{k:function(){return u}});var a=n(1413),r=n(29439),i=n(66549),s=n.n(i),o=n(5128),l=n(7276),c=n(92505),d=n(86510),u=function(t){var e=t.assetIds,n=t.strategies,i=t.timeframe,u=t.useDollarConversion,x=void 0===u||u,f=(0,c.w)(),h=f.isPortfolioLoaded,m=f.historicalPrices,p=f.historicalPricesUsd,g=f.selectors,v=g.selectAssetsByIds,j=g.selectVaultTransactions,y=g.selectAssetHistoricalPriceByTimestamp,b=g.selectAssetHistoricalPriceUsdByTimestamp,w=(0,l.useState)(!0),C=(0,r.Z)(w,2),S=C[0],I=C[1],A=(0,l.useMemo)((function(){return v?v(e).filter((function(t){return!n||!t.type||n.includes(t.type)})):[]}),[e,n,v]),Z=(0,l.useMemo)((function(){return i?(0,d.pM)(i):0}),[i]),k=(0,l.useMemo)((function(){var t={total:[],rainbow:[]};if(!h||(0,d.xb)(m)||(0,d.xb)(p))return t;var e=A.reduce((function(t,e){if(null===e||void 0===e||!e.id)return t;var n=e.id,a=j(n);if(!a.length)return t;var r=a.reduce((function(t,e){var n=+s()(1e3*+e.timeStamp).startOf("day").valueOf();switch(e.action){case"deposit":t.total=t.total.plus(e.idleAmount);break;case"redeem":t.total=o.Z.maximum(0,t.total.minus(e.idleAmount))}return t.byDate[n]=t.total,t}),{total:(0,d.gA)(0),byDate:{}});return Object.keys(r.byDate).forEach((function(n){t[n]||(t[n]={}),e.id&&(t[n][e.id]=parseFloat(r.byDate[n].toFixed(8)))})),t}),{});if((0,d.xb)(e))return t;for(var n=+Object.keys(e).sort()[0],r=+s()().endOf("day").valueOf(),i=(0,d.Up)(n,r),l={},c=0,u=null;c<i.length;c++){var f=i[c];l[f]=(0,a.Z)((0,a.Z)({},u?l[u]:{}),e[f]),u=f}var g={},v={};return Object.keys(l).forEach((function(t){var e=l[t];Object.keys(e).forEach((function(n){var a=A.find((function(t){return t.id===n})),r=null===a||void 0===a?void 0:a.underlyingId,i=y(n,t)||g[n];if(i&&(e[n]=parseFloat((0,d.gA)(e[n]).times((0,d.gA)(i.value)).toFixed(8)),g[n]=i),x){var s=b(r,t)||v[n];s&&(e[n]=parseFloat((0,d.gA)(e[n]).times((0,d.gA)(s.value)).toFixed(8)),v[n]=s)}})),e.total=Object.values(e).reduce((function(t,e){return t+e}),0)})),t.total=Object.keys(l).reduce((function(t,e){return e<Z||t.push({date:parseInt(e),value:l[e].total}),t}),[]),t.rainbow=Object.keys(l).reduce((function(t,e){return e<Z||t.push((0,a.Z)({date:parseInt(e),total:l[e].total},l[e])),t}),[]),t}),[A,x,Z,j,h,m,p,y,b]);return(0,l.useEffect)((function(){if(k.rainbow.length)return I(!1),function(){I(!0)}}),[k]),{assets:A,balanceChartData:k,balanceChartDataLoading:S}}},53293:function(t,e,n){n.d(e,{Z:function(){return d}});var a=n(74165),r=n(15861),i=n(29439),s=n(7276),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=null;return function(){n&&clearTimeout(n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];n=setTimeout(e,t,r)}},l={x:0,y:0,top:0,left:0,width:0,height:0,right:0,bottom:0};function c(t){var e=t.getBoundingClientRect();return{x:e.x,y:e.y,top:e.top,left:e.left,width:e.width,height:e.height,right:e.right,bottom:e.bottom}}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=(0,s.useState)(null),n=(0,i.Z)(e,2),d=n[0],u=n[1],x=(0,s.useState)(l),f=(0,i.Z)(x,2),h=f[0],m=f[1],p=(0,s.useCallback)((function(t){u(t)}),[]);return(0,s.useLayoutEffect)((function(){if("undefined"!==typeof window&&d){var e=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.requestAnimationFrame((function(){m(c(d))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e();var n=o(t||100,e);return window.addEventListener("resize",n),window.addEventListener("scroll",n),function(){window.removeEventListener("resize",n),window.removeEventListener("scroll",n)}}}),[d,t]),[p,h,d]}},1494:function(t,e,n){n.d(e,{O:function(){return u}});var a=n(93433),r=n(4942),i=n(1413),s=n(7276),o=n(86510),l=n(79681),c=n(12056),d=n(92505),u=function(t){var e=t.assetIds,n=t.strategies,u=(0,l.qM)(),x=(0,d.w)().selectors,f=x.selectAssetById,h=x.selectAssetsByIds,m=(0,s.useMemo)((function(){return h?h(e):[]}),[e,h]),p=Object.keys(c.A).reduce((function(t,e){return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},e,{balance:(0,o.gA)(0),weightedRealizedApy:(0,o.gA)(0)}))}),{}),g=(0,s.useMemo)((function(){return m.filter((function(t){return t.type&&(!n||n.includes(t.type))})).reduce((function(t,e){var n;return e.type&&e.vaultPosition&&!(0,o.gA)(null===(n=e.vaultPosition)||void 0===n?void 0:n.realizedApy).isNaN()?(t[e.type].balance=t[e.type].balance.plus(e.vaultPosition.usd.redeemable),t[e.type].weightedRealizedApy=t[e.type].weightedRealizedApy.plus(e.vaultPosition.realizedApy.times(e.vaultPosition.usd.redeemable)),t):t}),p)}),[m,n,p]),v=(0,s.useMemo)((function(){return m.filter((function(t){return t.type&&(!n||n.includes(t.type))})).reduce((function(t,e){if(!e.underlyingId||!e.vaultPosition)return t;var n=f(e.underlyingId);return n?(t[n.id]||(t[n.id]=(0,o.gA)(0)),t[n.id]=t[n.id].plus(e.vaultPosition.usd.redeemable),t):t}),{})}),[m,n,f]),j={assets:[],strategies:[]};j.strategies=(0,s.useMemo)((function(){return Object.keys(g).map((function(t){return{label:u(c.A[t].label),extraData:{avgRealizedApy:g[t].balance.gt(0)?parseFloat(g[t].weightedRealizedApy.div(g[t].balance)):0,strategy:c.A[t]},value:parseFloat(g[t].balance)}}))}),[g,u]),j.assets=(0,s.useMemo)((function(){return Object.keys(v).reduce((function(t,e){var r=f(e);return!r||r.type&&(!n||n.includes(r.type))?t:[].concat((0,a.Z)(t),[{label:r.name,extraData:{asset:r},value:parseFloat(v[e])}])}),[])}),[v,f,n]);var y={assets:{},strategies:{}};return y.strategies=(0,s.useMemo)((function(){return Object.values(c.A).reduce((function(t,e){var n=u(e.label);return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},n,e.color))}),{})}),[u]),y.assets=(0,s.useMemo)((function(){return Object.keys(v).reduce((function(t,e){var n=f(e);if(!n)return t;var a=n.name;return(0,i.Z)((0,i.Z)({},t),{},(0,r.Z)({},a,n.color))}),{})}),[v,f]),{colors:y,compositions:j}}},82137:function(t,e,n){n.d(e,{Jf:function(){return w},kN:function(){return v},uY:function(){return b}});var a=n(44925),r=n(1413),i=n(29439),s=n(7276),o=n(32390),l=n(96699),c=n(2548),d=n(11486),u=["className","children"],x=["type","aria-label"],f=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")},h=(0,c.k)({name:"StatStylesContext",errorMessage:"useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Stat />\" "}),m=(0,i.Z)(h,2),p=m[0],g=m[1],v=(0,l.Gp)((function(t,e){var n=(0,l.jC)("Stat",t),i=(0,r.Z)({position:"relative",flex:"1 1 0%"},n.container),o=(0,d.Lr)(t),c=o.className,x=o.children,h=(0,a.Z)(o,u);return s.createElement(p,{value:n},s.createElement(l.m$.div,(0,r.Z)((0,r.Z)({ref:e},h),{},{className:f("chakra-stat",c),__css:i}),s.createElement("dl",null,x)))}));v.displayName="Stat";var j=function(t){return s.createElement(o.JO,(0,r.Z)({color:"red.400"},t),s.createElement("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"}))};function y(t){return s.createElement(o.JO,(0,r.Z)({color:"green.400"},t),s.createElement("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"}))}function b(t){var e=t.type,n=t["aria-label"],i=(0,a.Z)(t,x),o=g(),c="increase"===e?y:j,d=n||("increase"===e?"increased by":"decreased by");return s.createElement(s.Fragment,null,s.createElement(l.m$.span,{srOnly:!0},d),s.createElement(c,(0,r.Z)((0,r.Z)({"aria-hidden":!0},i),{},{__css:o.icon})))}j.displayName="StatDownArrow",y.displayName="StatUpArrow",b.displayName="StatArrow",(0,l.Gp)((function(t,e){return s.createElement(l.m$.div,(0,r.Z)((0,r.Z)({},t),{},{ref:e,role:"group",className:f("chakra-stat__group",t.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))})).displayName="StatGroup",(0,l.Gp)((function(t,e){var n=g();return s.createElement(l.m$.dd,(0,r.Z)((0,r.Z)({ref:e},t),{},{className:f("chakra-stat__help-text",t.className),__css:n.helpText}))})).displayName="StatHelpText",(0,l.Gp)((function(t,e){var n=g();return s.createElement(l.m$.dt,(0,r.Z)((0,r.Z)({ref:e},t),{},{className:f("chakra-stat__label",t.className),__css:n.label}))})).displayName="StatLabel";var w=(0,l.Gp)((function(t,e){var n=g();return s.createElement(l.m$.dd,(0,r.Z)((0,r.Z)({ref:e},t),{},{className:f("chakra-stat__number",t.className),__css:(0,r.Z)((0,r.Z)({},n.number),{},{fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"})}))}));w.displayName="StatNumber"},81608:function(t,e,n){n.r(e),e.default={}},37413:function(t,e,n){n.r(e),e.default={}}}]);