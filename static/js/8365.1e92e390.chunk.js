"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[8365,1128,6624,8951],{1128:function(e,t,n){n.r(t),n.d(t,{InputAmount:function(){return c}});var i=n(7276),a=n(20910),r=n(3498),o=n(3497),l=n(86059),s=n(1669),u=n(75712),d=n(45263),c=function(e){var t=e.inputHeight,n=e.amount,c=e.amountUsd,m=e.setAmount,v=e.isDisabled,g=void 0!==v&&v,f=(0,u.useAssetProvider)(),p=f.asset,x=f.underlyingAsset,h=(0,s.w)().selectors,y=h.selectAssetPriceUsd,S=h.selectVaultPrice,A=(0,i.useMemo)((function(){if(c)return(0,a.gA)(c);if(y&&S&&x&&p){var e=y(x.id),t=S(p.id);return"underlying"===p.type?parseFloat((0,a.gA)(n).times(e).toString())||0:parseFloat((0,a.gA)(n).times(e).times(t).toString())||0}}),[p,x,n,c,S,y]);return(0,d.jsxs)(r.Ug,{width:"100%",justifyContent:"space-between",children:[(0,d.jsx)(o.II,{height:t,flex:1,type:"number",placeholder:"0",variant:"balance",value:(0,a.gA)(n).toString(),onChange:function(e){var t=e.target.value;m(Math.max(0,parseFloat(t)).toString())},disabled:g}),null!==c&&(0,d.jsx)(l.Amount.Usd,{abbreviateThresold:1e4,textStyle:"captionSmall",color:"brightGreen",prefix:"\u2248 $",value:(0,a.d5)(A).toString()})]})}},66624:function(e,t,n){n.r(t),n.d(t,{DynamicActionFields:function(){return j}});var i=n(93433),a=n(1413),r=n(45987),o=n(5128),l=n(7276),s=n(43098),u=n(79681),d=n(87099),c=n(12056),m=n(86059),v=n(60062),g=n(29564),f=n(15542),p=n(1669),x=n(6940),h=n(3498),y=n(70820),S=n(20910),A=n(45263),b=["assetId","field","amount","amountUsd","stakingPower"],w=function(e){var t,n,i,d,c=e.assetId,w=e.field,j=e.amount,k=e.amountUsd,Z=e.stakingPower,M=(0,r.Z)(e,b),C=(0,u.qM)(),I=(0,g.R)().locale,D=(0,p.w)(),F=D.stakingData,B=D.helpers.vaultFunctionsHelper,T=D.selectors,U=T.selectAssetById,E=T.selectVaultById,P=T.selectVaultGauge,L=(0,l.useMemo)((function(){return c&&U&&U(c)}),[c,U]),G=(0,l.useMemo)((function(){return L&&U&&U(L.underlyingId)}),[L,U]),_=(0,l.useMemo)((function(){return c&&E&&E(c)}),[c,E]),z=(0,l.useMemo)((function(){return c&&P&&P(c)}),[c,P]),V=(0,l.useMemo)((function(){return z&&U&&U(z.id)}),[z,U]),W=(0,l.useMemo)((function(){return(0,S.gA)(L.tvl).plus((0,S.d5)(j))}),[L,j]),O=(0,l.useMemo)((function(){return null===B||void 0===B?void 0:B.getVaultNewApr(L,_,(0,S.gA)(j))}),[L,_,j,B]),H=(0,l.useMemo)((function(){if((0,S.d5)(O).gt(0)){var e=(0,S.Bs)((0,S.d5)(O).div(100)).times(100),t=L.apyBreakdown?Object.keys(L.apyBreakdown||{}).filter((function(e){return"base"!==e})).reduce((function(e,t){switch(t){case"gauge":var n=null===V||void 0===V?void 0:V.gaugeData;if(n){var i=(0,S.d5)(null===n||void 0===n?void 0:n.totalSupply).plus((0,S.d5)(j)),a=(0,S.d5)(null===n||void 0===n?void 0:n.totalSupply).div(i),r=L.apyBreakdown[t].times(a);return e.plus(r)}return e.plus(L.apyBreakdown[t]);case"harvest":var o=(0,S.gA)(L.tvl).div(W),l=L.aprBreakdown[t].times(o);return e.plus((0,S.Bs)((0,S.gA)(l).div(100)).times(100));case"rewards":var s=(0,S.gA)(L.tvl).div(W),u=L.aprBreakdown[t].times(s);return e.plus((0,S.Bs)((0,S.gA)(u).div(100)).times(100));default:return e.plus(L.apyBreakdown[t])}}),(0,S.gA)(0)):(0,S.gA)(0);return(0,S.gA)(e).plus(t)}return(0,S.d5)(null===L||void 0===L?void 0:L.apy)}),[L,j,W,V,O]),N=(0,l.useMemo)((function(){return(0,S.d5)(k).gt(0)}),[k]),q=(0,l.useMemo)((function(){var e;return(0,S.d5)(null===L||void 0===L||null===(e=L.vaultPosition)||void 0===e?void 0:e.underlying.redeemable)}),[L]),R=(0,l.useMemo)((function(){var e;return(0,S.d5)(null===L||void 0===L||null===(e=L.vaultPosition)||void 0===e?void 0:e.usd.redeemable)}),[L]),$=(0,l.useMemo)((function(){var e,t;return"flags"in _&&(0,S.d5)(null===(e=_.flags)||void 0===e?void 0:e.withdrawFee).gt(0)?R.times(null===(t=_.flags)||void 0===t?void 0:t.withdrawFee):(0,S.gA)(0)}),[_,R]),J=(0,l.useMemo)((function(){var e;return o.Z.maximum(0,(0,S.d5)(null===L||void 0===L||null===(e=L.vaultPosition)||void 0===e?void 0:e.usd.earnings).minus($))}),[$,L]),X=(0,l.useMemo)((function(){return o.Z.minimum(1,(0,S.d5)(k).div(R))}),[k,R]),Y=(0,l.useMemo)((function(){return o.Z.minimum(J,X.times(J))}),[J,X]),K=(0,l.useMemo)((function(){var e;return o.Z.maximum(0,(0,S.d5)(null===L||void 0===L||null===(e=L.vaultPosition)||void 0===e?void 0:e.usd.earnings).times(null===L||void 0===L?void 0:L.fee))}),[L]),Q=(0,l.useMemo)((function(){return o.Z.minimum(K,(0,S.d5)(Y).times(null===L||void 0===L?void 0:L.fee))}),[K,Y,L]);_ instanceof v.C&&(J=J.plus(Q),Y=Y.plus(Q));var ee=N&&(0,S.d5)(j).lte(q),te="cta",ne="",ie=null;switch(w){case"boost":var ae=H&&null!==L&&void 0!==L&&null!==(t=L.baseApr)&&void 0!==t&&t.gt(0)?H.div(null===L||void 0===L?void 0:L.baseApr):(0,S.gA)(0);ie=(0,A.jsxs)(h.xv,(0,a.Z)((0,a.Z)({},M),{},{textStyle:"titleSmall",color:"primary",children:[ae.gt(9999)?">9999":ae.toFixed(2),"x"]}));break;case"epochEnd":ie=(0,A.jsx)(h.xv,(0,a.Z)((0,a.Z)({},M),{},{textStyle:"titleSmall",color:"primary",children:(0,S.Jb)((null===L||void 0===L||null===(n=L.epochData)||void 0===n?void 0:n.end)||0,I)}));break;case"epochStart":ie=(0,A.jsx)(h.xv,(0,a.Z)((0,a.Z)({},M),{},{textStyle:"titleSmall",color:"primary",children:(0,S.Jb)((null===L||void 0===L||null===(i=L.epochData)||void 0===i?void 0:i.start)||0,I)}));break;case"riskThreshold":ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({abbreviate:!1,decimals:0,textStyle:"titleSmall",color:"primary"},M),{},{value:null===L||void 0===L?void 0:L.epochData.riskThreshold}));break;case"overperformance":var re=(0,S.d5)(k).times((0,S.gA)(null===L||void 0===L?void 0:L.baseApr).div(100)),oe=(0,S.d5)(k).times((0,S.gA)(null===L||void 0===L?void 0:L.apy).div(100)),le=N?oe.minus(re):null;ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},M),{},{value:le,suffix:"/year"}));break;case"newApy":ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},M),{},{value:H}));break;case"totalGain":ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({decimals:Y.lt(1)?4:2,textStyle:"titleSmall",color:"primary"},M),{},{value:ee?Y:null}));break;case"fee":ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({decimals:Q.lt(1)?4:2,textStyle:"titleSmall",color:"primary"},M),{},{value:ee?-Q:null}));break;case"withdrawFee":(0,S.d5)(null===(d=_.flags)||void 0===d?void 0:d.withdrawFee).gt(0)&&(te="orange",ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({decimals:$.lt(1)?4:2,textStyle:"titleSmall",color:"orange"},M),{},{value:ee?-$:null})));break;case"depositLimit":te="orange";var se=o.Z.maximum(0,(0,S.d5)(L.limit).minus(L.totalTvl).minus((0,S.d5)(j)));ie=(0,A.jsx)(m.Amount,(0,a.Z)((0,a.Z)({suffix:" ".concat(G.token),decimals:2,textStyle:"titleSmall",color:te},M),{},{value:se}));break;case"netGain":var ue=o.Z.minimum(J.minus(Q),(0,S.d5)(Y).minus(Q));ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({decimals:ue.lt(1)?4:2,textStyle:"titleSmall",color:"primary"},M),{},{value:ee?ue:null}));break;case"coverage":var de=U(null===_||void 0===_?void 0:_.vaultConfig.Tranches.BB.address),ce=de.tvl&&W?de.tvl.div(W).times(100):0;ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},M),{},{value:ce}));break;case"stakingPoolShare":if(F){var me=(0,S.d5)(j).div(F.stkIDLE.totalSupply.plus((0,S.d5)(j))).times(100);ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},M),{},{value:me}))}break;case"stkIDLE":case"stkIDLEAfterIncrease":ie=(0,A.jsx)(m.Amount,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary",suffix:" stkIDLE"},M),{},{value:j}));break;case"currentFeeDiscount":var ve=(0,S.d5)(null===F||void 0===F?void 0:F.feeDiscount);ne=ve.lte(0)?"orange":"brightGreen",ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({color:ne,textStyle:"titleSmall"},M),{},{value:ve}));break;case"feeDiscount":var ge=(0,S.SL)(j);ne=ge.lte(0)?"orange":"brightGreen",ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({color:ne,textStyle:"titleSmall"},M),{},{value:ge}));break;case"feeDiscountTier":ie=(0,A.jsx)(m.Amount,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},M),{},{value:1}));break;case"stakingApy":if(F){var fe=(0,S.d5)(Z).times(F.maxApr);ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},M),{},{value:fe}))}break;default:ie=null}var pe=(0,l.useMemo)((function(){return"dynamicActionFields.tooltips.".concat(w)}),[w]),xe=(0,l.useMemo)((function(){var e;return C(pe,{underlying:null===L||void 0===L||null===(e=L.epochData)||void 0===e?void 0:e.underlyingToken})}),[L,pe,C]),he=(0,l.useMemo)((function(){return xe!==pe}),[xe,pe]);return ie?(0,A.jsxs)(h.Ug,{pb:2,px:4,width:"100%",alignItems:"center",borderBottom:"1px solid",borderBottomColor:"divider",justifyContent:"space-between",children:[(0,A.jsxs)(h.Ug,{spacing:2,alignItems:"center",children:[(0,A.jsx)(y.u,{hasArrow:!0,placement:"top",label:xe,isDisabled:!he,children:(0,A.jsx)(x.TooltipContent,{children:(0,A.jsx)(f.Translation,{component:h.xv,color:te,textStyle:"captionSmall",translation:"dynamicActionFields.".concat(w),borderBottomColor:he?"cta":"none",borderBottom:he?"1px dashed":"none"})})}),["feeDiscount","currentFeeDiscount"].includes(w)&&(0,A.jsx)(s.nfF,{size:16,color:"orange"})]}),ie]}):null},j=function(e){var t=(0,p.w)(),n=t.stakingData,r=t.selectors,o=r.selectAssetById,s=r.selectVaultById,u=e.assetId,m=e.action,v=(0,l.useMemo)((function(){return u&&o&&o(u)}),[u,o]),g=(0,l.useMemo)((function(){return u&&s&&s(u)}),[u,s]),f=(0,l.useMemo)((function(){return(null===g||void 0===g?void 0:g.type)&&c.A[g.type]}),[g]),x=(0,l.useMemo)((function(){return(0,S.d5)(null===v||void 0===v?void 0:v.limit).lt(d.jq)?(0,S.d5)(null===v||void 0===v?void 0:v.limit):(0,S.gA)(0)}),[v]),y=(0,l.useMemo)((function(){return!!x.gt(0)&&(0,S.gA)(null===v||void 0===v?void 0:v.totalTvl).gte(x)}),[v,x]),b=(0,l.useMemo)((function(){var e,t,a;if(null===f||void 0===f||null===(e=f.dynamicActionFields)||void 0===e||!e[m])return null;var r=null===f||void 0===f?void 0:f.dynamicActionFields[m];"deposit"===m&&null!==v&&void 0!==v&&v.epochData&&((0,S.qF)(v.epochData.start).isBefore(Date.now())?r=["riskThreshold","epochEnd"].concat((0,i.Z)(r)):(0,S.qF)(v.epochData.start).isAfter(Date.now())&&(r=["riskThreshold","epochStart"].concat((0,i.Z)(r))));var o=g&&"flags"in g&&(null===(t=g.flags)||void 0===t?void 0:t.showLimitCap),l=g&&"flags"in g&&(null===(a=g.flags)||void 0===a?void 0:a.feeDiscountEnabled)&&(0,S.d5)(null===n||void 0===n?void 0:n.feeDiscount).gt(0);return o&&"deposit"===m&&x.gt(0)&&!y&&(r=["depositLimit"].concat((0,i.Z)(r))),l&&"deposit"===m&&-1===r.indexOf("currentFeeDiscount")&&(r=[].concat((0,i.Z)(r),["currentFeeDiscount"])),r}),[m,g,v,f,y,n,x]);return b?(0,A.jsx)(h.gC,{spacing:2,width:"full",children:b.map((function(t){return(0,A.jsx)(w,(0,a.Z)((0,a.Z)({},e),{},{field:t}),"field_".concat(t))}))}):null}},78951:function(e,t,n){n.r(t),n.d(t,{EstimatedGasFees:function(){return v}});var i=n(7276),a=n(87099),r=n(86059),o=n(96699),l=n(3498),s=n(55967),u=n(82172),d=n(15542),c=n(23023),m=n(45263),v=function(){var e=(0,o.Fg)(),t=(0,u.Y)().chainToken,n=(0,c.R)().state,v=n.transactionSpeed,g=n.estimatedFees,f=n.estimatedFeesUsd,p=(0,i.useMemo)((function(){return g?g[v]:null}),[g,v]),x=(0,i.useMemo)((function(){return f?f[v]:null}),[f,v]);return(0,m.jsxs)(l.Ug,{spacing:1,width:"100%",alignItems:"center",children:[(0,m.jsx)(s.Qpb,{color:e.colors.ctaDisabled,size:24}),(0,m.jsx)(d.Translation,{translation:"trade.estimatedGasFee",suffix:":",textStyle:"captionSmaller"}),(0,m.jsx)(r.Amount.Usd,{textStyle:"captionSmaller",fontWeight:"600",color:"primary",prefix:a.EI,value:x}),x&&(0,m.jsx)(r.Amount,{textStyle:"captionSmaller",fontWeight:"600",color:"primary",prefix:"(",suffix:"".concat(null===t||void 0===t?void 0:t.symbol,")"),value:p,decimals:4})]})}},98365:function(e,t,n){n.r(t),n.d(t,{Withdraw:function(){return D}});var i=n(74165),a=n(15861),r=n(29439),o=n(5128),l=n(54447),s=n(86059),u=n(93429),d=n(82172),c=n(20910),m=n(61617),v=n(15542),g=n(1128),f=n(85267),p=n(1669),x=n(7276),h=n(23023),y=n(4710),S=n(78951),A=n(66624),b=n(86393),w=n(75712),j=n(43127),k=n(52486),Z=n(3498),M=n(2092),C=n(73131),I=n(45263),D=function(e){var t=e.itemIndex,n=(0,x.useState)("0"),D=(0,r.Z)(n,2),F=D[0],B=D[1],T=(0,x.useState)(""),U=(0,r.Z)(T,2),E=U[0],P=U[1],L=(0,x.useState)(0),G=(0,r.Z)(L,2),_=G[0],z=G[1],V=(0,x.useState)(!1),W=(0,r.Z)(V,2),O=W[0],H=W[1],N=(0,x.useState)(null),q=(0,r.Z)(N,2),R=q[0],$=q[1],J=(0,x.useState)(!1),X=(0,r.Z)(J,2),Y=X[0],K=X[1],Q=(0,d.Y)().account,ee=(0,f.m)().searchParams,te=(0,y.useOperativeComponent)(),ne=te.dispatch,ie=te.activeItem,ae=te.activeStep,re=(0,w.useAssetProvider)(),oe=re.asset,le=re.vault,se=re.underlyingAsset,ue=re.translate,de=(0,h.R)(),ce=de.sendTransaction,me=de.setGasLimit,ve=de.state.transaction,ge=(0,p.w)().selectors,fe=ge.selectAssetPriceUsd,pe=ge.selectVaultPrice,xe=ge.selectAssetBalance,he=ge.selectVaultGauge,ye=ge.selectAssetById,Se=(0,x.useMemo)((function(){return ee}),[ee]),Ae=(0,r.Z)(Se,2)[1],be=(0,x.useCallback)((function(){return K((function(e){return!e}))}),[K]),we=(0,x.useMemo)((function(){return xe?xe(null===le||void 0===le?void 0:le.id):(0,c.gA)(0)}),[xe,null===le||void 0===le?void 0:le.id]),je=(0,x.useMemo)((function(){return(null===oe||void 0===oe?void 0:oe.id)&&he&&he(oe.id)}),[he,null===oe||void 0===oe?void 0:oe.id]),ke=(0,x.useMemo)((function(){return je&&ye&&ye(je.id)}),[ye,je]),Ze=(0,x.useMemo)((function(){var e,t;return le&&"getWithdrawInterestBearingContractSendMethod"in le&&"paused"===(null===oe||void 0===oe?void 0:oe.status)&&(!("flags"in le)||void 0===(null===le||void 0===le||null===(e=le.flags)||void 0===e?void 0:e.redeemInterestBearingEnabled)||!(null===le||void 0===le||null===(t=le.flags)||void 0===t||!t.redeemInterestBearingEnabled))}),[le,oe]),Me=(0,x.useMemo)((function(){return Ze&&Y?"getWithdrawInterestBearing":"getWithdraw"}),[Ze,Y]),Ce=(0,x.useMemo)((function(){return"".concat(Me,"Params")}),[Me]),Ie=(0,x.useMemo)((function(){return"".concat(Me,"ContractSendMethod")}),[Me]),De=(0,x.useMemo)((function(){if(!xe)return(0,c.gA)(0);var e=xe(null===le||void 0===le?void 0:le.id),t=pe(null===le||void 0===le?void 0:le.id);return e.times(t)}),[xe,pe,null===le||void 0===le?void 0:le.id]),Fe=(0,x.useCallback)((function(){De&&B(De.toString())}),[De]);(0,x.useEffect)((function(){Ze&&Y?(Fe(),H(!0)):H(!1)}),[Fe,H,Ze,Y]);var Be=(0,x.useMemo)((function(){return P(""),!(!(0,c.gA)(F).isNaN()&&!(0,c.gA)(F).lte(0))||((0,c.gA)(F).gt(De)?(P(ue("trade.errors.insufficientFundsForAmount",{symbol:null===se||void 0===se?void 0:se.name})),!0):"started"===ve.status)}),[F,ve,De,se,ue]),Te=(0,x.useCallback)((function(){Q&&!Be&&le&&Ie in le&&Ce in le&&(0,a.Z)((0,i.Z)().mark((function e(){var t,n,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=pe(le.id),n=o.Z.minimum(we,(0,c.gA)(F).div(t)),a=le[Ce](n),r=le[Ie](a),ce(le.id,le.id,r);case 5:case"end":return e.stop()}}),e)})))()}),[Q,Be,F,le,we,pe,ce,Ce,Ie]);(0,x.useEffect)((function(){ae===t&&"success"===ve.status&&B("")}),[ve.status,ae,t]),(0,x.useEffect)((function(){if(fe&&pe&&se&&le){var e=fe(se.id),t=parseFloat((0,c.gA)(F).times(e).toString())||0;z(t)}}),[se,le,F,pe,fe,ne]);var Ue=(0,x.useCallback)((0,a.Z)((0,i.Z)().mark((function e(){var t,n,a,r,l,s,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le&&Ie in le&&Ce in le){e.next=2;break}return e.abrupt("return");case 2:if(t="getMethodDefaultGasLimit"in le?le.getMethodDefaultGasLimit("withdraw"):0,Q&&!we.lte(0)){e.next=5;break}return e.abrupt("return",t);case 5:return n=pe(null===le||void 0===le?void 0:le.id),a={from:null===Q||void 0===Q?void 0:Q.address},r=(0,c.d5)(F).gt(0)?o.Z.minimum(we,(0,c.gA)(F).div(n)):we,l=le[Ce](r.toFixed()),s=le[Ie](l),e.next=12,(0,c.$K)(s,a);case 12:if(e.t0=e.sent,e.t0){e.next=15;break}e.t0=t;case 15:return u=e.t0,e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)}))),[Q,F,we,le,pe,Ce,Ie]);(0,x.useEffect)((function(){$(null),ie===t&&(0,a.Z)((0,i.Z)().mark((function e(){var t,n,a,r,o,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue();case 3:t=e.sent,me(t),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.message?e.t0.message.toString().split("\n")[0]:"",a=(0,c.en)(e.t0),o=ue("trade.actions.withdraw.messages.decoded.".concat(r=a||n)),l=o!=="trade.actions.withdraw.messages.decoded.".concat(r)?o:r,$(l);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[ie,F,ue,t,Ue,me,$]),(0,x.useEffect)((function(){ie===t&&(ne({type:"SET_ASSET",payload:oe}),pe&&le&&(ne({type:"SET_AMOUNT",payload:(0,c.gA)(F).toString()}),ne({type:"SET_DEFAULT_AMOUNT",payload:(0,c.gA)(F).toString()})))}),[le,oe,F,pe,ie,t,ne,Te]);var Ee=(0,x.useMemo)((function(){return Q?(0,I.jsx)(v.Translation,{component:j.zx,translation:Y?"common.withdrawInterestBearing":"common.withdraw",disabled:Be,onClick:Te,variant:"ctaFull",children:"started"===ve.status&&(0,I.jsx)(k.$,{size:"sm"})}):(0,I.jsx)(b.ConnectWalletButton,{variant:"ctaFull"})}),[Q,Be,ve,Te,Y]),Pe=(0,x.useMemo)((function(){return le&&"messages"in le?le.messages:void 0}),[le]),Le=(0,x.useMemo)((function(){return!Ze||we.lte(0)?null:(0,I.jsx)(l.Card.Dark,{px:2,py:3,border:0,children:(0,I.jsxs)(Z.gC,{spacing:2,width:"full",justifyContent:"center",children:[(0,I.jsx)(M.Ee,{src:"images/vaults/deprecated.png",width:6,height:6}),(0,I.jsx)(v.Translation,{textAlign:"center",textStyle:"captionSmaller",translation:"trade.actions.redeemInterestBearing.description"}),(0,I.jsx)(v.Translation,{component:C.XZ,size:"md",sx:{">span":{fontSize:"sm"}},translation:"trade.actions.redeemInterestBearing.label",isChecked:Y,onChange:function(){return be()}})]})})}),[we,Y,be,Ze]),Ge=(0,x.useMemo)((function(){return null!==oe&&void 0!==oe&&oe.interestBearingTokens&&null!==oe&&void 0!==oe&&oe.vaultPosition&&le&&le instanceof u.H?(0,I.jsxs)(Z.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:[(0,I.jsx)(v.Translation,{mb:1,component:Z.xv,translation:"dynamicActionFields.stkIDLE",suffix:":",textStyle:"titleSmall"}),Object.keys(null===oe||void 0===oe?void 0:oe.interestBearingTokens).map((function(e){var t,n,i=ye(e)||le.tokenConfig.protocols.find((function(t){return t.address===e})),a=(0,c.d5)(null===oe||void 0===oe||null===(t=oe.interestBearingTokens)||void 0===t?void 0:t[e]).times((0,c.d5)(null===oe||void 0===oe||null===(n=oe.vaultPosition)||void 0===n?void 0:n.poolShare));return(0,I.jsxs)(Z.Ug,{pb:2,px:4,width:"100%",alignItems:"center",borderBottom:"1px solid",borderBottomColor:"divider",justifyContent:"space-between",children:[(0,I.jsx)(Z.xv,{textStyle:"captionSmall",children:null===i||void 0===i?void 0:i.token}),(0,I.jsx)(s.Amount,{value:a,textStyle:"titleSmall",color:"primary"})]},"assetField_".concat(e))}))]}):null}),[oe,le,ye]);return(0,I.jsx)(w.AssetProvider,{flex:1,width:"100%",assetId:null===oe||void 0===oe?void 0:oe.id,children:(0,I.jsxs)(Z.gC,{pt:8,flex:1,spacing:6,width:"100%",height:"100%",id:"withdraw-container",alignItems:"space-between",justifyContent:"flex-start",children:[(0,I.jsxs)(Z.gC,{flex:1,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,I.jsxs)(Z.Ug,{width:"100%",spacing:[3,4],alignItems:"flex-start",children:[(0,I.jsx)(Z.xu,{pt:8,children:(0,I.jsx)(m.AssetLabel,{assetId:null===oe||void 0===oe?void 0:oe.id})}),(0,I.jsxs)(Z.gC,{spacing:1,width:"100%",alignItems:"flex-start",children:[(0,I.jsx)(l.Card,{px:4,py:2,layerStyle:"cardLight",children:(0,I.jsxs)(Z.gC,{spacing:2,alignItems:"flex-start",children:[(0,I.jsx)(g.InputAmount,{amount:F,amountUsd:_,setAmount:B,isDisabled:O}),(0,I.jsxs)(Z.Ug,{width:"100%",justifyContent:"space-between",children:[(0,I.jsxs)(Z.Ug,{spacing:1,children:[(0,I.jsx)(v.Translation,{component:Z.xv,translation:"common.balance",textStyle:"captionSmaller"}),(0,I.jsx)(w.AssetProvider.VaultBalance,{abbreviate:!0,decimals:4,textStyle:"captionSmaller",color:"primary"})]}),(0,I.jsx)(j.zx,{variant:"selector",onClick:Fe,children:"MAX"})]})]})}),E&&(0,I.jsx)(Z.xv,{textStyle:"captionSmaller",color:"orange",children:E})]})]}),R?(0,I.jsx)(l.Card.Dark,{p:2,border:0,children:(0,I.jsx)(v.Translation,{textStyle:"captionSmaller",translation:"trade.actions.withdraw.messages.gasEstimateError",params:{supportLink:'<a href="https://discord.com/channels/606071749657755668/606073687799627776">Discord channel</a>',error:R},isHtml:!0,textAlign:"center"})}):De.gt(0)&&null!==Pe&&void 0!==Pe&&Pe.withdraw?(0,I.jsx)(l.Card.Dark,{p:2,border:0,children:(0,I.jsx)(v.Translation,{textStyle:"captionSmaller",translation:Pe.withdraw,isHtml:!0,textAlign:"center"})}):(0,c.gA)(null===ke||void 0===ke?void 0:ke.balance).gt(0)&&(0,I.jsx)(l.Card.Dark,{py:2,pl:3,pr:2,border:0,children:(0,I.jsxs)(Z.Ug,{spacing:3,width:"full",children:[(0,I.jsx)(v.Translation,{textStyle:"captionSmaller",translation:"trade.actions.withdraw.messages.unstakeFromGauge",textAlign:"left"}),(0,I.jsx)(v.Translation,{component:j.zx,translation:"common.unstake",fontSize:"xs",height:"auto",width:"auto",py:3,px:7,onClick:function(){return Ae("?tab=gauge")}})]})}),Ze&&Y?Ge:(0,I.jsx)(A.DynamicActionFields,{assetId:null===oe||void 0===oe?void 0:oe.id,action:"withdraw",amount:F,amountUsd:_})]}),(0,I.jsxs)(Z.gC,{spacing:4,id:"footer",alignItems:"flex-start",children:[Le,(0,I.jsx)(S.EstimatedGasFees,{}),Ee]})]})})}}}]);