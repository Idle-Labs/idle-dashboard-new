"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[7880,110],{60110:function(e,t,n){n.r(t),n.d(t,{StrategyLabel:function(){return d}});var l=n(1413),a=n(45987),u=(n(7276),n(12056)),s=n(3498),i=n(29482),r=n(15542),c=n(45263),o=["strategy","customText","showLabel"],d=function(e){var t=e.strategy,n=e.customText,d=e.showLabel,x=void 0===d||d,m=(0,a.Z)(e,o);if(!t)return null;var p=u.A[t];return p?(0,c.jsxs)(s.Ug,{spacing:2,alignItems:"center",children:[x&&(0,c.jsx)(r.Translation,(0,l.Z)({component:s.xv,translation:n||(null===p||void 0===p?void 0:p.label),textStyle:"ctaStatic"},m)),!!t&&(0,c.jsx)(i.ProductTag,{type:t})]}):null}},87880:function(e,t,n){n.r(t),n.d(t,{VaultsFiltersContext:function(){return U},VaultsFiltersProvider:function(){return O},useVaultsFiltersProvider:function(){return N}});var l=n(29439),a=n(1413),u=n(93433),s=n(5128),i=n(83981),r=n(86059),c=n(12056),o=n(61617),d=n(80745),x=n(15542),m=n(1669),p=n(53293),f=n(66064),y=n(60110),h=n(55967),g=n(7276),V=n(3498),j=n(73131),v=n(96699),S=n(43127),b=n(61170),C=n(17306),w=n(45263),A=function(e){var t=e.filterValues,n=e.dispatch,l=(0,m.w)().vaults,a=(0,g.useMemo)((function(){return l.reduce((function(e,t){var n;return e.includes(t.type)||null===(n=c.A[t.type])||void 0===n||!n.visible?e:[].concat((0,u.Z)(e),[t.type])}),[])}),[l]),s=(0,g.useCallback)((function(e){t.includes(e)?n({type:"SET_STRATEGIES",payload:t.filter((function(t){return t!==e}))}):n({type:"SET_STRATEGIES",payload:[].concat((0,u.Z)(t),[e])})}),[t,n]),i=(0,g.useMemo)((function(){return a.map((function(e){return(0,w.jsxs)(V.Ug,{py:2,spacing:10,width:"full",justifyContent:"space-between",children:[(0,w.jsx)(y.StrategyLabel,{textStyle:"captionSmall",strategy:e}),(0,w.jsx)(j.XZ,{isChecked:t.includes(e),onChange:function(){return s(e)},defaultChecked:!0})]},"strategy_".concat(e))}))}),[a,t,s]);return(0,w.jsx)(V.gC,{spacing:1,width:"full",children:i})},T=function(e){var t=e.filterValues,n=e.dispatch,l=(0,m.w)(),a=l.vaults,s=l.selectors.selectAssetById,i=(0,g.useMemo)((function(){return a.reduce((function(e,t){var n,l=s(t.id);return l&&!e.includes(l.underlyingId)&&null!==(n=c.A[t.type])&&void 0!==n&&n.visible?[].concat((0,u.Z)(e),[l.underlyingId]):e}),[])}),[a,s]),r=(0,g.useCallback)((function(e){t.includes(e)?n({type:"SET_ASSETS",payload:t.filter((function(t){return t!==e}))}):n({type:"SET_ASSETS",payload:[].concat((0,u.Z)(t),[e])})}),[t,n]),d=(0,g.useMemo)((function(){return i.map((function(e){return(0,w.jsxs)(V.Ug,{py:2,spacing:10,width:"full",justifyContent:"space-between",children:[(0,w.jsx)(o.AssetLabel,{size:"xs",textStyle:"captionSmall",fontSize:"sm",assetId:e}),(0,w.jsx)(j.XZ,{isChecked:t.includes(e),onChange:function(){return r(e)},defaultChecked:!0})]},"asset_".concat(e))}))}),[i,t,r]);return(0,w.jsx)(V.gC,{spacing:1,width:"full",children:d})},Z=function(e){var t=e.filterValues,n=e.dispatch,l=(0,m.w)(),a=l.vaults,s=l.selectors.selectAssetById,i=(0,g.useMemo)((function(){return a.reduce((function(e,t){var n,l=s(t.id);return l&&l.protocol&&!e.includes(l.protocol)&&null!==(n=c.A[t.type])&&void 0!==n&&n.visible?[].concat((0,u.Z)(e),[l.protocol]):e}),[])}),[a,s]),r=(0,g.useCallback)((function(e){t.includes(e)?n({type:"SET_PROTOCOLS",payload:t.filter((function(t){return t!==e}))}):n({type:"SET_PROTOCOLS",payload:[].concat((0,u.Z)(t),[e])})}),[t,n]),o=(0,g.useMemo)((function(){return i.map((function(e){return(0,w.jsxs)(V.Ug,{py:2,spacing:10,width:"full",justifyContent:"space-between",children:[(0,w.jsx)(f.ProtocolLabel,{size:"xs",textStyle:"captionSmall",fontSize:"sm",protocolId:e}),(0,w.jsx)(j.XZ,{isChecked:t.includes(e),onChange:function(){return r(e)},defaultChecked:!0})]},"protocol_".concat(e))}))}),[i,t,r]);return(0,w.jsx)(V.gC,{spacing:1,width:"full",children:o})},k=function(e){var t=e.filterValues,n=e.dispatch,l=(0,m.w)(),a=l.vaults,u=l.selectors.selectAssetById,o=(0,g.useMemo)((function(){return a.reduce((function(e,t){var n,l=u(t.id);return l&&null!==(n=c.A[t.type])&&void 0!==n&&n.visible?(e.minValue=e.minValue?s.Z.minimum((0,i.gA)(l.apy),e.minValue):(0,i.gA)(l.apy),e.maxValue=e.maxValue?s.Z.maximum((0,i.gA)(l.apy),e.maxValue):(0,i.gA)(l.apy),e):e}),{minValue:null,maxValue:null})}),[a,u]),d=(0,g.useCallback)((function(e){n({type:"SET_APY",payload:{minValue:(0,i.gA)(e[0]),maxValue:(0,i.gA)(e[1])}})}),[n]),p=(0,g.useCallback)((function(){n({type:"SET_APY",payload:o})}),[n,o]),f=(0,g.useMemo)((function(){return[t.minValue?(0,i.d5)(t.minValue).toNumber():(0,i.d5)(o.minValue).toNumber(),t.maxValue?(0,i.d5)(t.maxValue).toNumber():(0,i.d5)(o.maxValue).toNumber()]}),[t,o]);return o.minValue&&o.maxValue?(0,w.jsxs)(V.gC,{spacing:6,width:"full",children:[(0,w.jsxs)(V.gC,{spacing:1,width:"full",alignItems:"flex-start",children:[(0,w.jsx)(x.Translation,{translation:"stats.filters.rangeSelected",textStyle:"captionSmall"}),(0,w.jsxs)(V.Ug,{width:"full",justifyContent:"space-between",children:[(0,w.jsxs)(V.Ug,{spacing:1,children:[(0,w.jsx)(r.Amount.Percentage,{value:t.minValue||o.minValue,textStyle:"ctaStatic"}),(0,w.jsx)(V.xv,{textStyle:"ctaStatic",children:"-"}),(0,w.jsx)(r.Amount.Percentage,{value:t.maxValue||o.maxValue,textStyle:"ctaStatic"})]}),(0,w.jsx)(x.Translation,{translation:"common.reset",textStyle:"linkBlue",onClick:function(){return p()}})]})]}),(0,w.jsx)(V.xu,{px:1,width:"full",children:(0,w.jsxs)(C.U2,{step:.1,value:f,onChange:function(e){return d(e)},min:(0,i.d5)(o.minValue).toNumber(),max:(0,i.d5)(o.maxValue).toNumber(),defaultValue:[(0,i.d5)(o.minValue).toNumber(),(0,i.d5)(o.maxValue).toNumber()],children:[(0,w.jsx)(C.ug,{children:(0,w.jsx)(C.I2,{})}),(0,w.jsx)(C.xW,{index:0}),(0,w.jsx)(C.xW,{index:1})]})})]}):null},E=function(e){var t=e.filterValues,n=e.dispatch,l=(0,m.w)(),a=l.vaults,u=l.selectors.selectAssetById,o=(0,g.useMemo)((function(){return a.reduce((function(e,t){var n,l=u(t.id);return l&&null!==(n=c.A[t.type])&&void 0!==n&&n.visible?(e.minValue=e.minValue?s.Z.minimum((0,i.gA)(l.tvlUsd),e.minValue):(0,i.gA)(l.tvlUsd),e.maxValue=e.maxValue?s.Z.maximum((0,i.gA)(l.tvlUsd),e.maxValue):(0,i.gA)(l.tvlUsd),e):e}),{minValue:null,maxValue:null})}),[a,u]),d=(0,g.useCallback)((function(e){n({type:"SET_TVL",payload:{minValue:(0,i.gA)(e[0]),maxValue:(0,i.gA)(e[1])}})}),[n]),p=(0,g.useCallback)((function(){n({type:"SET_TVL",payload:o})}),[n,o]),f=(0,g.useMemo)((function(){return[t.minValue?(0,i.d5)(t.minValue).toNumber():(0,i.d5)(o.minValue).toNumber(),t.maxValue?(0,i.d5)(t.maxValue).toNumber():(0,i.d5)(o.maxValue).toNumber()]}),[t,o]);return o.minValue&&o.maxValue?(0,w.jsxs)(V.gC,{spacing:6,width:"full",children:[(0,w.jsxs)(V.gC,{spacing:1,width:"full",alignItems:"flex-start",children:[(0,w.jsx)(x.Translation,{translation:"stats.filters.rangeSelected",textStyle:"captionSmall"}),(0,w.jsxs)(V.Ug,{width:"full",justifyContent:"space-between",children:[(0,w.jsxs)(V.Ug,{spacing:1,children:[(0,w.jsx)(r.Amount.Usd,{value:t.minValue||o.minValue,textStyle:"ctaStatic"}),(0,w.jsx)(V.xv,{textStyle:"ctaStatic",children:"-"}),(0,w.jsx)(r.Amount.Usd,{value:t.maxValue||o.maxValue,textStyle:"ctaStatic"})]}),(0,w.jsx)(x.Translation,{translation:"common.reset",textStyle:"linkBlue",onClick:function(){return p()}})]})]}),(0,w.jsx)(V.xu,{px:1,width:"full",children:(0,w.jsxs)(C.U2,{step:100,value:f,onChange:function(e){return d(e)},min:(0,i.d5)(o.minValue).toNumber(),max:(0,i.d5)(o.maxValue).toNumber(),defaultValue:[(0,i.d5)(o.minValue).toNumber(),(0,i.d5)(o.maxValue).toNumber()],children:[(0,w.jsx)(C.ug,{children:(0,w.jsx)(C.I2,{})}),(0,w.jsx)(C.xW,{index:0}),(0,w.jsx)(C.xW,{index:1})]})})]}):null},_=function(e){var t=e.type,n=e.filterValues,l=e.dispatch;switch(t){case"strategies":return(0,w.jsx)(A,{filterValues:n,dispatch:l});case"assets":return(0,w.jsx)(T,{filterValues:n,dispatch:l});case"protocols":return(0,w.jsx)(Z,{filterValues:n,dispatch:l});case"apy":return(0,w.jsx)(k,{filterValues:n,dispatch:l});case"tvl":return(0,w.jsx)(E,{filterValues:n,dispatch:l});default:return null}},I={vaults:[]},U=(0,g.createContext)(I),N=function(){return(0,g.useContext)(U)},L={apy:{},tvl:{},assets:[],protocols:[],strategies:[]},M=function(e,t){switch(t.type){case"SET_ASSETS":return(0,a.Z)((0,a.Z)({},e),{},{assets:t.payload});case"SET_PROTOCOLS":return(0,a.Z)((0,a.Z)({},e),{},{protocols:t.payload});case"SET_STRATEGIES":return(0,a.Z)((0,a.Z)({},e),{},{strategies:t.payload});case"SET_APY":return(0,a.Z)((0,a.Z)({},e),{},{apy:t.payload});case"SET_TVL":return(0,a.Z)((0,a.Z)({},e),{},{tvl:t.payload});default:return(0,a.Z)({},e)}},P=function(e){var t=e.type,n=e.filterValues,a=e.dispatch,u=e.isScrollable,s=void 0===u||u,i=(0,v.Fg)(),r=(0,p.Z)(),c=(0,l.Z)(r,2),o=c[0],m=c[1].width;return(0,w.jsx)(b.v2,{children:function(e){var l=e.isOpen;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b.j2,{ref:o,as:S.zx,layerStyle:["card","cardHover"],sx:{"&[data-active]":{background:i.colors.itemHover}},py:2,style:{paddingLeft:16,paddingRight:4},children:(0,w.jsxs)(V.Ug,{width:"full",justifyContent:"space-between",children:[(0,w.jsx)(x.Translation,{translation:"stats.filters.".concat(t),textStyle:"cta"}),l?(0,w.jsx)(h.rWj,{size:24,color:i.colors.cta}):(0,w.jsx)(h.Ix0,{size:24,color:i.colors.cta})]})}),(0,w.jsx)(b.qy,{pr:s?0:4,width:m,children:s?(0,w.jsx)(d.Scrollable,{pr:4,maxH:"200px",children:(0,w.jsx)(_,{type:t,filterValues:n,dispatch:a})}):(0,w.jsx)(_,{type:t,filterValues:n,dispatch:a})})]})}},"menu_".concat(t))},O=function(e){var t=e.children,n=e.types,u=(0,m.w)(),s=u.vaults,i=u.selectors.selectAssetById,r=(0,g.useReducer)(M,L),o=(0,l.Z)(r,2),d=o[0],x=o[1],p=(0,g.useMemo)((function(){return Object.keys(c.A).filter((function(e){return c.A[e].visible}))}),[]),f=(0,g.useCallback)((function(e){var t=i(e.id);return!!t&&(!(p&&!p.includes(e.type))&&(!(d.strategies.length&&!d.strategies.includes(e.type))&&(!(d.assets.length&&!d.assets.includes(t.underlyingId))&&(!(d.protocols.length&&!d.protocols.includes(t.protocol))&&((!d.apy.minValue||!t.apy.lt(d.apy.minValue))&&((!d.apy.maxValue||!t.apy.gt(d.apy.maxValue))&&((!d.tvl.minValue||!t.tvl.lt(d.tvl.minValue))&&(!d.tvl.maxValue||!t.tvl.gt(d.tvl.maxValue)))))))))}),[d,p,i]),y=(0,g.useMemo)((function(){return s.filter((function(e){return f(e)}))}),[f,s]),h={apy:{isScrollable:!1},tvl:{isScrollable:!1}};return(0,w.jsx)(U.Provider,{value:{vaults:y},children:(0,w.jsxs)(V.gC,{spacing:0,width:"full",children:[(0,w.jsx)(V.MI,{spacing:4,width:"full",columns:[1,n.length],children:n.map((function(e){return(0,w.jsx)(P,(0,a.Z)({type:e,dispatch:x,filterValues:d[e]},h[e]?h[e]:{}),"type_".concat(e))}))}),t]})})}}}]);