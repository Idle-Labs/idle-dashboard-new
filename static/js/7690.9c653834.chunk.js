"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[7690,745,110],{63330:function(t,e,n){n.r(e),n.d(e,{AssetPage:function(){return b}});var s=n(29439),i=n(33965),a=n(95636),o=n(16120),r=n(95173),l=n(66288),c=n(62792),d=n(61617),u=n(15542),x=n(85267),m=n(92505),h=n(7386),p=n(60110),g=n(7276),f=n(88089),v=n(3498),j=n(4710),y=n(45263),b=function(){var t=(0,r.s0)(),e=(0,l.X)().isMobile,n=(0,x.m)(),b=n.params,w=n.location,C=n.searchParams,S=(0,g.useState)(0),I=(0,s.Z)(S,2),T=I[0],k=I[1],A=(0,g.useMemo)((function(){return C}),[C]),M=(0,s.Z)(A,2),P=M[0],z=M[1],D=(0,m.w)(),Z=D.isPortfolioLoaded,O=D.selectors,U=O.selectAssetById,B=O.selectVaultGauge,H=(0,g.useMemo)((function(){return Object.keys(a.A2).find((function(t){return a.A2[t].route===b.strategy}))}),[b]),G=(0,g.useMemo)((function(){return U&&U(b.asset)}),[U,b.asset]),L=(0,g.useMemo)((function(){return B&&B(b.asset)}),[B,b.asset]);(0,g.useEffect)((function(){if(Z&&U&&w)return G?void 0:t(w.pathname.replace("/".concat(b.asset),""))}),[Z,U,G,b.asset,w,t]);var _=(0,g.useMemo)((function(){var t=[{id:"earn",label:"navBar.earn",component:i.Earn,actions:[{type:"deposit",component:j.Deposit,label:"common.deposit",steps:[{type:"approve",component:j.Approve,label:"modals.approve.header"}]},{type:"withdraw",label:"common.withdraw",component:j.Withdraw,steps:[]}]}];return L&&t.push({id:"gauge",label:"navBar.gauge",component:o.GaugeStaking,actions:[{type:"stake",component:j.Deposit,label:"common.stake",steps:[{type:"approve",component:j.Approve,label:"modals.approve.header"}]},{type:"unstake",label:"common.unstake",component:j.Withdraw,steps:[]}]}),t}),[L]),F=(0,g.useMemo)((function(){return"gauge"===_[T].id&&L?L.id:null===G||void 0===G?void 0:G.id}),[_,T,G,L]),R=(0,g.useMemo)((function(){return _[T].component}),[_,T]),V=(0,g.useMemo)((function(){return P.get("tab")}),[P]);(0,g.useEffect)((function(){if(V){var t=_.find((function(t){return t.id.toString()===V.toString()}));if(t){var e=_.indexOf(t);k(e)}}else k(0)}),[_,V,k]);var K=(0,g.useCallback)((function(t){var e=_[t];e&&z("?tab=".concat(e.id))}),[_,z]),q=(0,g.useMemo)((function(){return(0,y.jsx)(f.mQ,{index:T,variant:"unstyled",width:["100%","auto"],children:(0,y.jsx)(f.td,{children:_.map((function(t,e){return(0,y.jsx)(u.Translation,{component:f.OK,width:["".concat(100/_.length,"%"),"auto"],translation:t.label,onClick:function(){return K(e)}},"tab_".concat(e))}))})})}),[_,K,T]);return(0,y.jsx)(h.AssetProvider,{wrapFlex:!0,assetId:b.asset,children:(0,y.jsxs)(v.xu,{width:"100%",children:[(0,y.jsx)(v.kC,{my:[10,14],width:"100%",id:"asset-top-header",direction:["column","row"],justifyContent:["center","space-between"],children:(0,y.jsxs)(v.Kq,{width:"100%",spacing:[7,10],alignItems:"center",justifyContent:"center",direction:["column","row"],children:[(0,y.jsx)(d.AssetLabel,{assetId:b.asset,fontSize:"h2"}),(0,y.jsxs)(v.Kq,{flex:1,direction:"row",width:["100%","auto"],borderBottom:"1px solid",borderColor:"divider",justifyContent:"space-between",children:[q,!e&&(0,y.jsx)(p.StrategyLabel,{strategy:H,color:"cta",textStyle:"italic"})]})]})}),(0,y.jsxs)(v.Ug,{width:"100%",spacing:[0,10],alignItems:"space-between",children:[(0,y.jsx)(v.Kq,{flex:1,mb:[20,0],spacing:10,width:["100%",.7],children:(0,y.jsx)(R,{})}),(0,y.jsx)(c.InteractiveComponent,{vaultId:null===G||void 0===G?void 0:G.id,assetId:F,actions:_[T].actions})]})]})})}},16120:function(t,e,n){n.r(e),n.d(e,{GaugeStaking:function(){return f}});var s=n(95636),i=n(86510),a=n(54447),o=n(7276),r=n(86059),l=n(15542),c=n(92505),d=n(85267),u=n(7386),x=n(3148),m=n(72258),h=n(3498),p=n(30422),g=n(45263),f=function(){var t,e,n,f,v,j=(0,d.m)().params,y=(0,c.w)().selectors,b=y.selectAssetById,w=y.selectVaultGauge,C=(0,o.useMemo)((function(){return b&&b(j.asset)}),[b,j.asset]),S=(0,o.useMemo)((function(){return C&&w&&w(C.id)}),[w,C]),I=(0,o.useMemo)((function(){return b&&S&&b(S.id)}),[S,b]),T=(0,o.useMemo)((function(){return Object.keys(s.A2).find((function(t){return s.A2[t].route===j.strategy}))}),[j]),k=(0,o.useMemo)((function(){return T&&s.A2[T].color}),[T]),A=(0,o.useMemo)((function(){if(!S)return null;var t=s.A2[S.type];return null!==t&&void 0!==t&&t.carouselItems?(0,g.jsx)(p.StrategyDescriptionCarousel,{color:k,strategy:S.type,delay:1e4}):null}),[S,k]),M=(0,o.useMemo)((function(){var t;return(null===I||void 0===I?void 0:I.vaultPosition)&&(0,i.gA)(null===I||void 0===I||null===(t=I.vaultPosition)||void 0===t?void 0:t.underlying.redeemable).div(I.totalSupply)}),[I]);return(0,g.jsxs)(h.gC,{spacing:10,width:"100%",children:[I.vaultPosition&&(0,g.jsx)(u.AssetProvider,{wrapFlex:!1,assetId:S.id,children:(0,g.jsxs)(h.MI,{width:"100%",columns:[2,4],spacing:[10,14],alignItems:"flex-start",children:[(0,g.jsxs)(h.gC,{spacing:2,justifyContent:"center",children:[(0,g.jsx)(l.Translation,{component:h.xv,translation:"defi.deposited",textStyle:"titleSmall"}),(0,g.jsxs)(h.Ug,{spacing:1,alignItems:"baseline",children:[(0,g.jsx)(u.AssetProvider.Deposited,{textStyle:"heading",fontSize:"h3"}),(0,g.jsx)(u.AssetProvider.Name,{textStyle:"heading",fontSize:"h3"})]})]}),(0,g.jsxs)(h.gC,{spacing:2,justifyContent:"center",children:[(0,g.jsx)(l.Translation,{component:h.xv,translation:"defi.share",textStyle:"titleSmall"}),(0,g.jsx)(u.AssetProvider.GaugeShare,{minValue:.01,textStyle:"heading",fontSize:"h3"})]}),(0,g.jsxs)(h.gC,{spacing:2,justifyContent:"center",children:[(0,g.jsx)(l.Translation,{component:h.xv,translation:"defi.idleDistribution",textStyle:"titleSmall"}),(0,g.jsxs)(h.Ug,{spacing:1,alignItems:"baseline",children:[(0,g.jsx)(u.AssetProvider.GaugeUserDistribution,{suffix:" ".concat(null===(t=S.rewardToken)||void 0===t?void 0:t.token),textStyle:"heading",fontSize:"h3"}),(0,g.jsx)(l.Translation,{component:h.xv,translation:["/","common.day"],textStyle:"captionSmall",textTransform:"lowercase"})]})]}),(0,g.jsxs)(h.gC,{spacing:2,justifyContent:"center",children:[(0,g.jsx)(l.Translation,{component:h.xv,translation:"defi.additionalRewards",textStyle:"titleSmall"}),(0,g.jsx)(h.gC,{spacing:2,children:(null===(e=S.multiRewardsTokens)||void 0===e?void 0:e.length)>0?Object.keys(null===(n=I.gaugeData)||void 0===n?void 0:n.rewards).map((function(t){var e=I.gaugeData.rewards[t];if(t===S.rewardToken.address)return null;var n=b(t);return(0,g.jsxs)(h.Ug,{spacing:1,alignItems:"baseline",children:[(0,g.jsx)(r.Amount,{value:e.rate.times(M),suffix:" ".concat(n.token),textStyle:"heading",fontSize:"h3"}),(0,g.jsx)(l.Translation,{component:h.xv,translation:["/","common.day"],textStyle:"captionSmall",textTransform:"lowercase"})]},"reward_".concat(t))})):(0,g.jsx)(h.xv,{textStyle:"heading",fontSize:"h3",children:"-"})})]})]})}),(0,g.jsxs)(h.gC,{spacing:6,width:"100%",alignItems:"flex-start",children:[(0,g.jsx)(l.Translation,{component:h.X6,as:"h3",size:"md",translation:"defi.rewards"}),(0,g.jsx)(h.gC,{spacing:4,width:"100%",children:(0,i.xb)(null===(f=I.gaugeData)||void 0===f?void 0:f.rewards)?null:Object.keys(null===(v=I.gaugeData)||void 0===v?void 0:v.rewards).map((function(t){var e=I.gaugeData.rewards[t],n=S.getClaimRewardsContractSendMethod(t);return(0,g.jsx)(u.AssetProvider,{wrapFlex:!1,assetId:t,children:(0,g.jsx)(a.Card,{p:6,px:8,width:"100%",children:(0,g.jsxs)(h.Kq,{width:"100%",spacing:[4,0],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,g.jsxs)(h.MI,{width:"100%",spacing:[6,0],columns:[2,4],children:[(0,g.jsxs)(h.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(l.Translation,{component:h.xv,translation:"defi.asset",textStyle:"captionSmall"}),(0,g.jsx)(u.AssetProvider.GeneralData,{size:"xs",field:"asset"})]}),(0,g.jsxs)(h.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(l.Translation,{component:h.xv,translation:"defi.apy",textStyle:"captionSmall"}),(0,g.jsx)(r.Amount.Percentage,{textStyle:"tableCell",value:e.apr})]}),(0,g.jsxs)(h.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(l.Translation,{component:h.xv,translation:"defi.dailyDistribution",textStyle:"captionSmall"}),(0,g.jsxs)(h.Ug,{spacing:1,width:"100%",children:[(0,g.jsx)(r.Amount,{textStyle:"tableCell",value:e.rate}),(0,g.jsx)(u.AssetProvider.Name,{textStyle:"tableCell"})]})]}),(0,g.jsxs)(h.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(l.Translation,{component:h.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,g.jsxs)(h.Ug,{spacing:1,width:"100%",children:[(0,g.jsx)(r.Amount,{textStyle:"tableCell",value:e.balance}),(0,g.jsx)(u.AssetProvider.Name,{textStyle:"tableCell"})]})]})]}),(0,g.jsx)(m.TransactionButton,{text:"defi.claim",vaultId:C.id,assetId:t,contractSendMethod:n,actionType:"claim",amount:e.balance.toString(),width:["100%","150px"],disabled:e.balance.lte(0)})]})})},"reward_".concat(t))}))})]}),(0,g.jsx)(x.AssetGeneralData,{assetId:null===S||void 0===S?void 0:S.id}),A]})}},62792:function(t,e,n){n.r(e),n.d(e,{InteractiveComponent:function(){return m}});var s=n(29439),i=n(7276),a=n(55967),o=n(66288),r=n(15542),l=n(3498),c=n(43127),d=n(18147),u=n(4710),x=n(45263),m=function(t){var e=t.assetId,n=t.vaultId,m=t.actions,h=(0,o.X)().isMobile,p=(0,i.useState)(!1),g=(0,s.Z)(p,2),f=g[0],v=g[1],j=(0,i.useState)(!1),y=(0,s.Z)(j,2),b=y[0],w=y[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(l.gC,{left:0,zIndex:[40,0],spacing:[0,6],id:"right-side",width:["100vw","27em"],height:["100vh","auto"],position:["fixed","relative"],top:[f?0:"100vh",0],bg:h?"rgba(0, 0, 0, 0.5)":void 0,sx:h?{transition:"top 0.3s ease-in-out"}:{},children:[(0,x.jsxs)(l.gC,{bottom:0,spacing:0,width:"100%",height:["100vh","auto"],position:["fixed","relative"],top:[f?0:"100vh",0],sx:h?{transition:"top 0.3s ease-in-out"}:{},children:[h&&(0,x.jsxs)(l.Ug,{px:4,py:2,bg:"card.bg",width:"100%",borderBottom:"1px solid",borderBottomColor:"divider",justifyContent:"space-between",children:[(0,x.jsx)(r.Translation,{alignItems:"center",display:"flex",variant:"unstyled",translation:"common.exit",component:c.zx,leftIcon:(0,x.jsx)(a.sG8,{size:24}),onClick:function(){return v(!1)}}),(0,x.jsx)(r.Translation,{alignItems:"center",display:"flex",variant:"unstyled",translation:["common.show","navBar.transactions"],component:c.zx,onClick:function(){return w(!0)}})]}),(0,x.jsx)(u.OperativeComponent,{flex:1,minHeight:h?"auto":"590px",borderRadius:h?0:void 0,assetId:e,actions:m})]}),(0,x.jsxs)(l.gC,{flex:1,bottom:0,spacing:0,width:"100%",height:["100vh","auto"],position:["fixed","relative"],top:[b?0:"100vh",0],sx:h?{transition:"top 0.3s ease-in-out"}:{},children:[h&&(0,x.jsxs)(l.Ug,{px:4,py:2,bg:"card.bg",width:"100%",borderBottom:"1px solid",borderBottomColor:"divider",justifyContent:"space-between",children:[(0,x.jsx)(r.Translation,{alignItems:"center",display:"flex",variant:"unstyled",translation:"common.back",component:c.zx,leftIcon:(0,x.jsx)(a.sG8,{size:24}),onClick:function(){return w(!1)}}),(0,x.jsx)(r.Translation,{textStyle:"ctaStatic",translation:"assets.assetDetails.assetHistory.transactionHistory",component:l.xv})]}),(0,x.jsx)(d.TransactionList,{assetIds:[n],fullHeightOnMobile:!0,maxH:["100%",600]})]})]}),h&&(0,x.jsx)(l.kC,{p:4,left:0,bottom:0,border:0,width:"100%",zIndex:[10,0],bg:"card.bgDark",position:"fixed",children:(0,x.jsx)(r.Translation,{component:c.zx,translation:["common.start","common.deposit"],variant:"ctaFull",onClick:function(){return v(!0)}})})]})}},80745:function(t,e,n){n.r(e),n.d(e,{Scrollable:function(){return l}});var s=n(1413),i=n(44925),a=(n(7276),n(3498)),o=n(45263),r=["children"],l=function(t){var e=t.children,n=(0,i.Z)(t,r);return(0,o.jsx)(a.kC,(0,s.Z)((0,s.Z)({flex:1,width:"100%",overflowY:"auto",overflowX:"hidden",direction:"column",alignItems:"flex-start"},n),{},{children:e}))}},60110:function(t,e,n){n.r(e),n.d(e,{StrategyLabel:function(){return d}});var s=n(1413),i=n(44925),a=(n(7276),n(12056)),o=n(15542),r=n(3498),l=n(45263),c=["strategy","customText"],d=function(t){var e=t.strategy,n=t.customText,d=(0,i.Z)(t,c);if(!e)return null;var u=a.A[e];return u?(0,l.jsxs)(r.Ug,{spacing:2,alignItems:"center",children:[(0,l.jsx)(o.Translation,(0,s.Z)({component:r.xv,translation:n||(null===u||void 0===u?void 0:u.label),textStyle:"ctaStatic"},d)),(0,l.jsx)(r.xu,{width:2,height:2,borderRadius:"50%",bg:u.color})]}):null}},18147:function(t,e,n){n.r(e),n.d(e,{TransactionList:function(){return S}});var s=n(1413),i=n(93433),a=n(29439),o=n(44925),r=n(7276),l=n(87099),c=n(86059),d=n(86510),u=n(54447),x=n(88935),m=n(80745),h=n(15542),p=n(92505),g=n(53293),f=n(7386),v=n(3498),j=n(89030),y=n(10658),b=n(45263),w=["assetIds","showTitleOnMobile","fullHeightOnMobile"],C=function(t){var e=t.transaction;return(0,b.jsx)(f.AssetProvider,{wrapFlex:!1,assetId:e.assetId,children:(0,b.jsxs)(v.gC,{mb:2,pb:4,spacing:4,width:"100%",alignItems:"flex-start",borderBottomWidth:"1px",borderBottomColor:"divider",children:[(0,b.jsxs)(v.Ug,{width:"100%",justifyContent:"space-between",children:[(0,b.jsx)(v.Ug,{spacing:3,direction:"row",alignItems:"center",children:(0,b.jsx)(h.Translation,{component:v.xv,translation:"transactionRow.".concat(e.action),textStyle:"captionSmall"})}),(0,b.jsx)(v.xv,{textStyle:"captionSmall",children:(0,d.p6)(1e3*+e.timeStamp,l.Cu)})]}),(0,b.jsxs)(v.Ug,{width:"100%",justifyContent:"space-between",children:[(0,b.jsxs)(v.Ug,{spacing:2,alignItems:"center",children:[(0,b.jsx)(f.AssetProvider.Icon,{size:"xs"}),(0,b.jsxs)(v.Ug,{spacing:1,alignItems:"center",children:[(0,b.jsx)(c.Amount,{value:e.underlyingAmount,decimals:4,textStyle:"tableCell"}),(0,b.jsx)(f.AssetProvider.Name,{textStyle:"tableCell"})]})]}),(0,b.jsx)(y.TransactionLink,{hash:e.hash})]})]})})},S=function(t){var e=t.assetIds,n=t.showTitleOnMobile,l=void 0!==n&&n,c=t.fullHeightOnMobile,f=void 0!==c&&c,y=(0,o.Z)(t,w),S=(0,x.Y)().account,I=(0,g.Z)(),T=(0,a.Z)(I,2),k=T[0],A=T[1],M=(0,p.w)(),P=M.isPortfolioLoaded,z=M.isVaultsPositionsLoaded,D=M.selectors,Z=D.selectVaultTransactions,O=D.selectVaultGauge,U=(0,r.useMemo)((function(){return S&&e&&Z&&O?e.reduce((function(t,e){var n=O(e),s=Z(e),a=n?Z(n.id):[];return[].concat((0,i.Z)(t),(0,i.Z)(s),(0,i.Z)(a))}),[]):[]}),[S,e,Z,O]),B=(0,r.useMemo)((function(){return P&&(!S||z)}),[P,S,z]),H=(0,r.useMemo)((function(){return B?U.length>0?(0,d.Pf)(U,"timeStamp","desc").map((function(t){return(0,b.jsx)(C,{transaction:t},"tx_".concat(t.hash))})):(0,b.jsx)(v.kC,{flex:1,minH:250,width:"100%",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(h.Translation,{component:v.xv,translation:"assets.assetDetails.assetHistory.emptyTransactions"})}):(0,b.jsxs)(v.gC,{spacing:4,width:"100%",children:[(0,b.jsx)(j.Od,{width:"100%",height:10}),(0,b.jsx)(j.Od,{width:"100%",height:10}),(0,b.jsx)(j.Od,{width:"100%",height:10}),(0,b.jsx)(j.Od,{width:"100%",height:10})]})}),[B,U]);return(0,b.jsx)(u.Card,(0,s.Z)((0,s.Z)({flex:1},y),{},{children:(0,b.jsxs)(v.gC,{flex:1,spacing:0,height:"100%",alignItems:"flex-start",ref:k,justifyContent:"flex-start",children:[(0,b.jsx)(h.Translation,{display:l?"block":["none","block"],component:u.Card.Heading,translation:"assets.assetDetails.assetHistory.transactionHistory"}),(0,b.jsx)(m.Scrollable,{maxH:[f?"100%":280,Math.max((null===A||void 0===A?void 0:A.height)||400)],children:H})]})}))}}}]);