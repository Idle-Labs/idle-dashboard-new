"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[7545,8194,494],{58194:function(e,t,n){n.r(t),n.d(t,{ReactTable:function(){return x}});var r=n(1413),i=n(29439),a=n(7276),s=n(55967),l=n(63591),o=n(96699),c=n(3498),d=n(26720),u=n(67503),f=n(45263),g=function(e){var t=e.column,n=(0,o.Fg)();return(0,f.jsxs)(c.kC,{alignItems:"center",layerStyle:"tableHeader",justifyContent:"space-between",children:[t.render("Header"),t.canSort&&(0,f.jsxs)(c.kC,{direction:"column",children:[(0,f.jsx)(s.rWj,{size:20,fill:t.isSorted&&t.isSortedDesc?n.colors.primary:n.colors.table.arrow,"aria-label":"sorted ascending",style:{position:"absolute"}}),(0,f.jsx)(s.Ix0,{size:20,fill:t.isSorted?t.isSortedDesc?n.colors.table.arrow:n.colors.primary:n.colors.table.arrow,"aria-label":"sorted descending",style:{marginTop:10}})]})]})},x=function(e){var t=e.columns,n=e.data,x=e.page,p=e.rowsPerPage,h=e.displayHeaders,m=void 0===h||h,v=e.onRowClick,j=e.onToggleRow,y=e.initialState,b=(0,o.Fg)(),w=(0,d.ff)("black","white"),C=(0,a.useState)(null),S=(0,i.Z)(C,2),A=S[0],T=S[1],k=(0,l.useTable)({columns:t,data:n,initialState:y},l.useSortBy),R=k.getTableProps,Z=k.getTableBodyProps,B=k.headerGroups,I=k.rows,M=k.prepareRow,P=(0,a.useCallback)((function(e){T((function(t){return t===e?null:e}))}),[T]);(0,a.useEffect)((function(){if(j)return j(A)}),[j,A]);var H=(0,a.useMemo)((function(){return p&&x?I.slice(p*(x-1),p*x):I}),[I,x,p]),E=(0,a.useMemo)((function(){return H.map((function(e,t){var n=!1;M(e);var i=t===H.length-1,l=i&&!A?{borderBottom:0}:{};return(0,f.jsxs)(f.Fragment,{children:[(0,a.createElement)(u.Tr,(0,r.Z)((0,r.Z)({},e.getRowProps()),{},{tabIndex:e.index,layerStyle:"tableRow",backgroundColor:A===e?"card.bgLight":"initial",onClick:function(){var t;return(null===(t=e.subRows)||void 0===t?void 0:t.length)>0?P(e):null===v||void 0===v?void 0:v(e)},cursor:v?"pointer":void 0,sx:l,key:t}),e.cells.map((function(t,i){var l,o=!n&&"none"!==t.column.display,d=i===e.cells.length-1;o&&(n=!0);var g=o?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:d?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,a.createElement)(u.Td,(0,r.Z)((0,r.Z)({},t.getCellProps()),{},{display:t.column.display,sx:g,key:i}),(0,f.jsxs)(c.Ug,{flex:1,width:"full",justifyContent:"space-between",children:[t.render("Cell"),d&&(null===(l=e.subRows)||void 0===l?void 0:l.length)>0&&(A===e?(0,f.jsx)(s.rWj,{size:24,color:b.colors.primary}):(0,f.jsx)(s.Ix0,{size:24,color:b.colors.primary}))]}))}))),A===e&&e.subRows.map((function(t,s){M(t);var l=s===e.subRows.length-1,o=i&&l?{borderBottom:0}:{};return(0,a.createElement)(u.Tr,(0,r.Z)((0,r.Z)({},t.getRowProps()),{},{tabIndex:t.index,layerStyle:"tableRow",backgroundColor:"button.bgHover",onClick:function(){return null===v||void 0===v?void 0:v(t)},cursor:v?"pointer":void 0,sx:o,key:s}),t.cells.map((function(e,i){var s=!n&&"none"!==e.column.display,l=i===t.cells.length-1;s&&(n=!0);var o=s?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:l?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,a.createElement)(u.Td,(0,r.Z)((0,r.Z)({},e.getCellProps()),{},{display:e.column.display,sx:o,key:i}),e.render("Cell"))})))}))]})}))}),[P,A,M,b,H,v]);return(0,f.jsxs)(u.iA,(0,r.Z)((0,r.Z)({variant:"clickable",size:{base:"sm",md:"md"}},R()),{},{children:[m&&(0,f.jsx)(u.hr,{children:B.map((function(e,t){var n=!1;return(0,a.createElement)(u.Tr,(0,r.Z)((0,r.Z)({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map((function(t,i){var s=!n&&"none"!==t.display,l=i===e.headers.length-1;s&&(n=!0);var o=s?{paddingLeft:0,paddingRight:4}:l?{paddingLeft:4,paddingRight:0}:{paddingLeft:4,paddingRight:4};return(0,a.createElement)(u.Th,(0,r.Z)((0,r.Z)({},t.getHeaderProps(t.getSortByToggleProps({title:void 0}))),{},{color:"gray.500",fontWeight:400,display:t.display,textAlign:t.textAlign,_hover:{color:t.canSort?w:"gray.500"},style:o,key:"th_".concat(i)}),(0,f.jsx)(g,{column:t}))})))}))}),(0,f.jsx)(u.p3,(0,r.Z)((0,r.Z)({},Z()),{},{children:E}))]}))}},60494:function(e,t,n){n.r(t),n.d(t,{SearchBar:function(){return u}});var r=n(29439),i=n(55967),a=n(79681),s=n(7276),l=n(66288),o=n(3498),c=n(3497),d=n(45263),u=function(e){var t=e.placeholder,n=e.handleSearchChange,u=(0,l.X)().theme,f=(0,a.qM)(),g=(0,s.useState)(""),x=(0,r.Z)(g,2),p=x[0],h=x[1];return(0,s.useEffect)((function(){n(p)}),[p,n]),(0,d.jsx)(o.Ug,{children:(0,d.jsxs)(c.BZ,{children:[(0,d.jsx)(c.II,{type:"text",placeholder:f(t),variant:"search",onChange:function(e){return h(e.target.value)}}),(0,d.jsx)(c.xH,{children:(0,d.jsx)(i.vU7,{size:24,color:u.colors.cta})})]})})}},87545:function(e,t,n){n.r(t),n.d(t,{Strategy:function(){return I},TableField:function(){return B}});var r=n(93433),i=n(1413),a=n(29439),s=n(54447),l=n(79681),o=n(95173),c=n(86059),d=n(55967),u=n(39807),f=n(66288),g=n(75349),x=n(60494),p=n(47174),h=n(58194),m=n(15542),v=n(85267),j=n(1669),y=n(12056),b=n(75712),w=n(7276),C=n(88129),S=n(99594),A=n(89030),T=n(3498),k=n(82137),R=n(2092),Z=n(45263),B=function(e){var t=e.field,n=e.row,r=e.value,i=n.original.id;return(0,Z.jsx)(A.N2,{noOfLines:2,isLoaded:!!r,children:(0,Z.jsx)(b.AssetProvider,{assetId:i,children:(0,Z.jsx)(b.AssetProvider.GeneralData,{section:"strategy",field:t})})})},I=function(){var e=(0,o.s0)(),t=(0,l.qM)(),n=(0,p.Y)().account,b=(0,f.X)().isMobile,I=(0,u.f)().openModal,M=(0,v.m)(),P=M.location,H=M.params,E=(0,w.useState)(null),_=(0,a.Z)(E,2),L=_[0],z=_[1],F=(0,w.useState)(null),O=(0,a.Z)(F,2),U=O[0],q=O[1],K=(0,w.useState)(null),N=(0,a.Z)(K,2),W=N[0],D=N[1],V=(0,w.useState)(null),X=(0,a.Z)(V,2),Y=X[0],G=X[1],J=(0,j.w)(),$=J.isPortfolioLoaded,Q=J.selectors,ee=Q.selectVaultsWithBalance,te=Q.selectVaultsAssetsByType,ne=Q.selectVaultsAssetsWithBalance,re=(0,w.useMemo)((function(){return Object.keys(y.A).find((function(e){return y.A[e].route===H.strategy}))}),[H]),ie=(0,w.useCallback)((function(t,n,r){return(0,S.fU)(n,r,t.original),e("".concat(null===P||void 0===P?void 0:P.pathname.replace(/\/$/,""),"/").concat(t.original.id))}),[e,P]),ae=(0,w.useMemo)((function(){return re&&y.A[re].columns}),[re]),se=(0,w.useMemo)((function(){return re&&ae?ae.map((function(e){var n=e.id,r=e.accessor,a=e.sortType,s="alpha"===a?S.YC:"numeric"===a?S._O:void 0;return{id:n,accessor:r,disableSortBy:!s,defaultCanSort:!!s,Header:t(e.title||"defi.".concat(n)),sortType:s?function(e,t){return s(e,t,r)}:void 0,Cell:function(t){var r=t.value,a=t.row;return e.extraFields&&e.extraFields.length>0?(0,Z.jsxs)(T.Kq,(0,i.Z)((0,i.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,Z.jsx)(B,{field:n,value:r,row:a}),e.extraFields.map((function(e){return(0,Z.jsx)(B,{field:e,value:r,row:a},"extraField_".concat(e))}))]})):(0,Z.jsx)(B,{field:n,value:r,row:a})}}})):[]}),[re,ae,t]),le=(0,w.useMemo)((function(){return re&&ae?ae.filter((function(e){return!e.tables||e.tables.includes("Deposited")})).map((function(e){var n=e.id,r=e.accessor,a=e.sortType,s="alpha"===a?S.YC:"numeric"===a?S._O:void 0;return{id:n,accessor:r,disableSortBy:!s,defaultCanSort:!!s,Header:t(e.title||"defi.".concat(n)),sortType:s?function(e,t){return s(e,t,r)}:void 0,Cell:function(t){var r=t.value,a=t.row;return e.extraFields&&e.extraFields.length>0?(0,Z.jsxs)(T.Kq,(0,i.Z)((0,i.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,Z.jsx)(B,{field:n,value:r,row:a}),e.extraFields.map((function(e){return(0,Z.jsx)(B,{field:e,value:r,row:a},"extraField_".concat(e))}))]})):(0,Z.jsx)(B,{field:n,value:r,row:a})}}})):[]}),[re,ae,t]),oe=(0,w.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,r.Z)(le),[{accessor:"balanceUsd",Header:t("defi.balance"),Cell:function(e){var t=e.value;return(0,Z.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:(0,Z.jsx)(c.Amount.Usd,{value:t,textStyle:"tableCell"})})},sortType:S._O},{accessor:"vaultPosition",Header:t("defi.realizedApy"),Cell:function(e){var t=e.value;return(0,Z.jsx)(A.N2,{noOfLines:2,isLoaded:!!t,children:t&&(0,Z.jsxs)(k.kN,{children:[(0,Z.jsx)(k.Jf,{children:(0,Z.jsxs)(T.kC,{direction:"row",alignItems:"center",children:[!t.realizedApy.isNaN()&&(0,Z.jsx)(k.uY,{type:"increase"}),(0,Z.jsx)(c.Amount.Percentage,{value:t.realizedApy,textStyle:"tableCell"})]})}),(0,Z.jsx)(c.Amount.Usd,{prefix:"+",value:t.usd.earnings,textStyle:"captionSmall"})]})})},sortType:function(e,t){return(0,S._O)(e,t,"vaultPosition.earningsPercentage")}}])}),[t,le]),ce=(0,w.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,r.Z)(se))}),[se]),de=(0,w.useMemo)((function(){return ee&&$?ne(re):[]}),[$,ee,ne,re]),ue=(0,w.useMemo)((function(){return te&&$?te(re).filter((function(e){return!de.map((function(e){return e.id})).includes(e.id)})):[]}),[$,te,de,re]),fe=(0,w.useMemo)((function(){return re?"".concat(re,"_deposited"):""}),[re]),ge=(0,w.useMemo)((function(){if(!re)return"";var e=t(y.A[re].label);return"".concat(e," - ").concat(t("defi.deposited"))}),[re,t]),xe=(0,w.useMemo)((function(){return re?"".concat(re,"_available"):""}),[re]),pe=(0,w.useMemo)((function(){if(!re)return"";var e=t(y.A[re].label);return"".concat(e," - ").concat(t("common.available"))}),[re,t]);(0,w.useEffect)((function(){if(re&&Y!==re&&de.length){var e=de.map((function(e){return(0,S.ym)(e,fe,ge)}));(0,S.y6)(fe,ge,e),G(re)}}),[n,re,t,fe,ge,de,Y,G]),(0,w.useEffect)((function(){if(re&&W!==re&&ue.length){var e=ue.map((function(e){return(0,S.ym)(e,xe,pe)}));(0,S.y6)(xe,pe,e),D(re)}}),[n,t,xe,pe,W,D,re,ue]);var he=(0,w.useMemo)((function(){if(!de.length)return null;var e=de.filter((function(e){return!U||!U.length||null!==new RegExp(U,"i").exec(e.name)}));return b?(0,Z.jsxs)(T.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,Z.jsx)(m.Translation,{translation:"defi.depositedAssets",component:T.X6,as:"h3",fontSize:"lg"}),(0,Z.jsx)(T.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:e.map((function(e){return e.id&&(0,Z.jsx)(g.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})]}):(0,Z.jsxs)(s.Card,{mt:10,children:[(0,Z.jsxs)(T.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between",children:[(0,Z.jsx)(m.Translation,{translation:"defi.depositedAssets",component:s.Card.Heading,fontSize:"lg"}),(0,Z.jsx)(x.SearchBar,{placeholder:"defi.searchToken",handleSearchChange:q})]}),(0,Z.jsx)(h.ReactTable,{columns:oe,data:e,initialState:{sortBy:[{id:"balanceUsd",desc:!1}]},onRowClick:function(e){return ie(e,fe,ge)}})]})}),[b,oe,U,q,fe,ge,de,ie]),me=(0,w.useMemo)((function(){if($&&!ue.length)return null;var e=ue.filter((function(e){return!L||!L.length||null!==new RegExp(L,"i").exec(e.name)}));return b?(0,Z.jsxs)(T.gC,{mt:20,spacing:6,width:"full",alignItems:"flex-start",children:[(0,Z.jsx)(m.Translation,{translation:"defi.availableAssets",component:T.X6,as:"h3",fontSize:"lg"}),(0,Z.jsx)(T.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:e.map((function(e){return e.id&&(0,Z.jsx)(g.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})]}):(0,Z.jsxs)(s.Card,{mt:10,children:[(0,Z.jsxs)(T.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between",children:[(0,Z.jsx)(m.Translation,{translation:"defi.availableAssets",component:s.Card.Heading,fontSize:"lg"}),(0,Z.jsx)(x.SearchBar,{placeholder:"defi.searchToken",handleSearchChange:z})]}),$?(0,Z.jsx)(h.ReactTable,{columns:ce,data:e,initialState:{sortBy:[{id:"tvl",desc:!1}]},onRowClick:function(e){return ie(e,xe,pe)}}):(0,Z.jsxs)(T.Kq,{children:[(0,Z.jsx)(A.Od,{}),(0,Z.jsx)(A.Od,{})]})]})}),[b,$,L,z,ce,xe,pe,ue,ie]),ve=(0,w.useMemo)((function(){var e,t,n,r;if(!re||!y.A[re].banner)return null;var i=null===(e=y.A[re].banner)||void 0===e?void 0:e.modal;return(0,Z.jsx)(s.Card.Dark,{p:[4,5],border:0,position:"relative",children:(0,Z.jsxs)(T.Kq,{width:"full",spacing:[2,3],alignItems:"center",justifyContent:"center",direction:["column","row"],children:[(0,Z.jsx)(m.Translation,{component:T.xu,width:"auto",textAlign:"center",translation:"common.new",layerStyle:"gradientBadge"}),(0,Z.jsx)(m.Translation,{textAlign:"center",translation:null===(t=y.A[re].banner)||void 0===t?void 0:t.text,isHtml:!0,textStyle:"caption"}),"BY"===re&&(0,Z.jsxs)(T.Ug,{spacing:2,children:[(0,Z.jsx)(R.Ee,{src:"images/strategies/AA.svg",width:6}),(0,Z.jsx)(R.Ee,{src:"images/strategies/BB.svg",width:6})]}),(null===(n=y.A[re].banner)||void 0===n?void 0:n.cta)&&(0,Z.jsxs)(T.Ug,{spacing:2,right:[0,6],alignItems:"center",justifyContent:"center",position:["relative","absolute"],children:[(0,Z.jsx)(m.Translation,{translation:null===(r=y.A[re].banner)||void 0===r?void 0:r.cta,textAlign:"center",textStyle:"cta",onClick:function(){return I(i)}}),(0,Z.jsx)(d.KEG,{})]})]})})}),[re,I]),je=(0,w.useMemo)((function(){return re?(0,Z.jsxs)(T.gC,{width:"full",spacing:10,children:[ve,(0,Z.jsxs)(T.Kq,{spacing:[8,0],direction:["column","row"],alignItems:["center","flex-start"],width:["100%","100%","100%","100%","70%"],children:[(0,Z.jsxs)(T.gC,{pr:[0,14],pt:[0,20],spacing:10,direction:"column",width:["100%","65%"],alignItems:["center","flex-start"],children:[(0,Z.jsx)(m.Translation,{isHtml:!0,translation:y.A[re].title||y.A[re].label,component:T.X6,fontFamily:"body",as:"h2",size:"3xl",fontWeight:"bold"}),!b&&(0,Z.jsx)(T.kC,{width:["100%","80%"],children:(0,Z.jsx)(m.Translation,{translation:y.A[re].description,textAlign:["center","left"]})}),!b&&(0,Z.jsx)(C.StrategyOverview,{strategies:[re]})]}),(0,Z.jsx)(R.Ee,{width:["60%","33%"],src:y.A[re].image}),b&&(0,Z.jsx)(m.Translation,{translation:y.A[re].description,textAlign:["center","left"]}),b&&(0,Z.jsx)(C.StrategyOverview,{strategies:[re]})]})]}):null}),[re,ve,b]);return(0,Z.jsxs)(T.kC,{mt:14,width:"100%",direction:"column",alignItems:"center",children:[je,he,me]})}}}]);