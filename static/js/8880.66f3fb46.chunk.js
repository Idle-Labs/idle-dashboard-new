"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[8880,5154,7972],{67044:function(t,e,n){n.r(e),n.d(e,{AssetGeneralData:function(){return p}});var a=n(71233),s=n(79153),i=n(24371),r=n(92508),o=n(96437),l=n(9579),c=n(7453),d=n(3666),u=n(27137),f=n(65304),x=n(52137),m=n(43680),v=n(37881),g=function(t){var e=t.generalData,n=(0,f.Fg)(),a=(0,r.qM)();return e.tooltip?(0,v.jsxs)(x.Ug,{spacing:1,alignItems:"center",children:[(0,v.jsx)(o.Translation,{component:x.xv,translation:e.label,textStyle:"captionSmall"}),(0,v.jsx)(m.u,{hasArrow:!0,placement:"top",label:a(e.tooltip),children:(0,v.jsx)(u.TooltipContent,{children:(0,v.jsx)(s.I5p,{color:n.colors.cta,size:16})})})]}):(0,v.jsx)(o.Translation,{component:x.xv,translation:e.label,textStyle:"captionSmall"})},p=function(t){var e=t.assetId,n=(0,l.w)().selectors.selectAssetById,s=(0,a.useMemo)((function(){return n&&n(e)}),[n,e]),r=(0,a.useMemo)((function(){return(null===s||void 0===s?void 0:s.type)&&c.A[s.type]}),[s]);return(0,v.jsx)(d.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,v.jsxs)(i.Card.Dark,{children:[(0,v.jsx)(x.MI,{spacing:[6,0],columns:[2,Math.min(null===r||void 0===r?void 0:r.generalDataFields.length,5)],children:(null===r||void 0===r?void 0:r.generalDataFields)&&(null===r||void 0===r?void 0:r.generalDataFields.slice(0,5).map((function(t){return(0,v.jsxs)(x.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,v.jsx)(g,{generalData:t}),(0,v.jsx)(d.AssetProvider.GeneralData,{section:"asset",field:t.field})]},"field_".concat(t.field))})))}),(null===r||void 0===r?void 0:r.generalDataFields)&&(null===r||void 0===r?void 0:r.generalDataFields.length)>5&&(0,v.jsx)(x.MI,{pt:6,mt:6,spacing:[6,0],columns:[2,Math.min(null===r||void 0===r?void 0:r.generalDataFields.length,5)],borderTop:"1px solid",borderTopColor:"divider",children:null===r||void 0===r?void 0:r.generalDataFields.slice(5).map((function(t){return(0,v.jsxs)(x.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,v.jsx)(g,{generalData:t}),(0,v.jsx)(d.AssetProvider.GeneralData,{section:"asset",field:t.field})]},"field_".concat(t.field))}))})]})})}},93825:function(t,e,n){n.r(e),n.d(e,{GaugeStaking:function(){return p}});var a=n(20235),s=n(12115),i=n(24371),r=n(71233),o=n(92016),l=n(96437),c=n(9579),d=n(2615),u=n(3666),f=n(67044),x=n(17394),m=n(52137),v=n(38486),g=n(37881),p=function(){var t,e,n,p,h,j=(0,d.m)().params,y=(0,c.w)(),S=(y.assetsData,y.selectors),C=S.selectAssetById,w=S.selectVaultGauge,b=(0,r.useMemo)((function(){return C&&C(j.asset)}),[C,j.asset]),I=(0,r.useMemo)((function(){return b&&w&&w(b.id)}),[w,b]),T=(0,r.useMemo)((function(){return C&&I&&C(I.id)}),[I,C]),M=(0,r.useMemo)((function(){return Object.keys(a.A2).find((function(t){return a.A2[t].route===j.strategy}))}),[j]),D=(0,r.useMemo)((function(){return M&&a.A2[M].color}),[M]),A=(0,r.useMemo)((function(){if(!I)return null;var t=a.A2[I.type];return null!==t&&void 0!==t&&t.carouselItems?(0,g.jsx)(v.StrategyDescriptionCarousel,{color:D,strategy:I.type,delay:1e4}):null}),[I,D]),k=(0,r.useMemo)((function(){var t;return(null===T||void 0===T?void 0:T.vaultPosition)&&(0,s.gA)(null===T||void 0===T||null===(t=T.vaultPosition)||void 0===t?void 0:t.underlying.redeemable).div(T.totalSupply)}),[T]);return(0,g.jsxs)(m.gC,{spacing:10,width:"100%",children:[T.vaultPosition&&(0,g.jsx)(u.AssetProvider,{wrapFlex:!1,assetId:I.id,children:(0,g.jsxs)(m.MI,{width:"100%",columns:[2,4],spacing:[10,14],alignItems:"flex-start",children:[(0,g.jsxs)(m.gC,{spacing:2,justifyContent:"center",children:[(0,g.jsx)(l.Translation,{component:m.xv,translation:"defi.deposited",textStyle:"titleSmall"}),(0,g.jsxs)(m.Ug,{spacing:1,alignItems:"baseline",children:[(0,g.jsx)(u.AssetProvider.Deposited,{textStyle:"heading",fontSize:"h3"}),(0,g.jsx)(u.AssetProvider.Name,{textStyle:"heading",fontSize:"h3"})]})]}),(0,g.jsxs)(m.gC,{spacing:2,justifyContent:"center",children:[(0,g.jsx)(l.Translation,{component:m.xv,translation:"defi.share",textStyle:"titleSmall"}),(0,g.jsx)(u.AssetProvider.GaugeShare,{textStyle:"heading",fontSize:"h3"})]}),(0,g.jsxs)(m.gC,{spacing:2,justifyContent:"center",children:[(0,g.jsx)(l.Translation,{component:m.xv,translation:"defi.idleDistribution",textStyle:"titleSmall"}),(0,g.jsxs)(m.Ug,{spacing:1,alignItems:"baseline",children:[(0,g.jsx)(u.AssetProvider.GaugeUserDistribution,{suffix:" ".concat(null===(t=I.rewardToken)||void 0===t?void 0:t.token),textStyle:"heading",fontSize:"h3"}),(0,g.jsx)(l.Translation,{component:m.xv,translation:["/","common.day"],textStyle:"captionSmall",textTransform:"lowercase"})]})]}),(0,g.jsxs)(m.gC,{spacing:2,justifyContent:"center",children:[(0,g.jsx)(l.Translation,{component:m.xv,translation:"defi.additionalRewards",textStyle:"titleSmall"}),(0,g.jsx)(m.gC,{spacing:2,children:(null===(e=I.multiRewardsTokens)||void 0===e?void 0:e.length)>0?Object.keys(null===(n=T.gaugeData)||void 0===n?void 0:n.rewards).map((function(t){var e=T.gaugeData.rewards[t];if(t===I.rewardToken.address)return null;var n=C(t);return(0,g.jsxs)(m.Ug,{spacing:1,alignItems:"baseline",children:[(0,g.jsx)(o.Amount,{value:e.rate.times(k),suffix:" ".concat(n.token),textStyle:"heading",fontSize:"h3"}),(0,g.jsx)(l.Translation,{component:m.xv,translation:["/","common.day"],textStyle:"captionSmall",textTransform:"lowercase"})]},"reward_".concat(t))})):(0,g.jsx)(m.xv,{textStyle:"heading",fontSize:"h3",children:"-"})})]})]})}),(0,g.jsxs)(m.gC,{spacing:6,width:"100%",alignItems:"flex-start",children:[(0,g.jsx)(l.Translation,{component:m.X6,as:"h3",size:"md",translation:"defi.rewards"}),(0,g.jsx)(m.gC,{spacing:4,width:"100%",children:(0,s.xb)(null===(p=T.gaugeData)||void 0===p?void 0:p.rewards)?null:Object.keys(null===(h=T.gaugeData)||void 0===h?void 0:h.rewards).map((function(t){var e=T.gaugeData.rewards[t],n=I.getClaimRewardsContractSendMethod(t);return(0,g.jsx)(u.AssetProvider,{wrapFlex:!1,assetId:t,children:(0,g.jsx)(i.Card,{p:6,px:8,width:"100%",children:(0,g.jsxs)(m.Kq,{width:"100%",spacing:[4,0],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,g.jsxs)(m.MI,{width:"100%",spacing:[6,0],columns:[2,4],children:[(0,g.jsxs)(m.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(l.Translation,{component:m.xv,translation:"defi.asset",textStyle:"captionSmall"}),(0,g.jsx)(u.AssetProvider.GeneralData,{size:"xs",field:"asset"})]}),(0,g.jsxs)(m.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(l.Translation,{component:m.xv,translation:"defi.apr",textStyle:"captionSmall"}),(0,g.jsx)(o.Amount.Percentage,{textStyle:"tableCell",value:e.apr})]}),(0,g.jsxs)(m.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(l.Translation,{component:m.xv,translation:"defi.dailyDistribution",textStyle:"captionSmall"}),(0,g.jsxs)(m.Ug,{spacing:1,width:"100%",children:[(0,g.jsx)(o.Amount,{textStyle:"tableCell",value:e.rate}),(0,g.jsx)(u.AssetProvider.Name,{textStyle:"tableCell"})]})]}),(0,g.jsxs)(m.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(l.Translation,{component:m.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,g.jsxs)(m.Ug,{spacing:1,width:"100%",children:[(0,g.jsx)(o.Amount,{textStyle:"tableCell",value:e.balance}),(0,g.jsx)(u.AssetProvider.Name,{textStyle:"tableCell"})]})]})]}),(0,g.jsx)(x.TransactionButton,{text:"defi.claim",vaultId:b.id,assetId:t,contractSendMethod:n,actionType:"claim",amount:e.balance.toString(),width:["100%","150px"],disabled:e.balance.lte(0)})]})})},"reward_".concat(t))}))})]}),(0,g.jsx)(f.AssetGeneralData,{assetId:null===I||void 0===I?void 0:I.id}),A]})}},17394:function(t,e,n){n.r(e),n.d(e,{TransactionButton:function(){return j},TransactionButtonValue:function(){return h}});var a=n(1413),s=n(29439),i=n(44925),r=(n(77972),n(79153)),o=n(70211),l=n(71233),c=n(96437),d=n(20549),u=n(65304),f=n(62655),x=n(52137),m=n(84219),v=n(37881),g=["text","amount","assetId","vaultId","actionType","contractSendMethod"],p=["text","amount","assetId","vaultId","actionType","contractSendMethod"],h=function(t){var e,n=t.text,o=(t.amount,t.assetId,t.vaultId,t.actionType,t.contractSendMethod),m=(0,i.Z)(t,g),p=(0,u.Fg)(),h=(0,l.useRef)(null),j=(0,l.useState)(null),y=(0,s.Z)(j,2),S=y[0],C=y[1],w=(0,d.R)(),b=w.state.transaction,I=w.cleanTransaction,T=(0,l.useMemo)((function(){var t;return JSON.stringify(null===b||void 0===b||null===(t=b.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(o._method)}),[b,o]),M=(0,l.useMemo)((function(){return T&&b.status&&["pending","success","failed"].includes(b.status)&&b.estimatedTime}),[b,T]),D=(0,l.useMemo)((function(){return M&&"pending"===b.status?b.estimatedTime:.5}),[M,b]),A=(0,l.useCallback)((function(){if(!b.timestamp||!b.estimatedTime)return null;var t=+b.timestamp+1e3*b.estimatedTime,e=Math.max(0,Math.ceil((t-Date.now())/1e3));C(e),e&&(h.current=setTimeout((function(){A()}),1e3))}),[b]);(0,l.useEffect)((function(){var t;"success"===b.status||"failed"===b.status?(h.current&&(clearInterval(h.current),h.current=null),"success"!==b.status&&4001===(null===(t=b.error)||void 0===t?void 0:t.code)||setTimeout((function(){I()}),4e3)):"pending"!==b.status||h.current||A()}),[b.status,A,I,null===(e=b.error)||void 0===e?void 0:e.code]);var k=(0,l.useMemo)((function(){var t;if(T)switch(null===b||void 0===b?void 0:b.status){case"created":return(0,v.jsx)(f.$,{size:"sm"});case"pending":return b.timestamp&&b.estimatedTime&&S?(0,v.jsxs)(x.xv,{textStyle:"ctaStatic",children:[S,"s"]}):(0,v.jsx)(f.$,{size:"sm"});case"success":return(0,v.jsx)(x.kC,(0,a.Z)((0,a.Z)({},m),{},{alignItems:"center",justifyContent:"center",children:(0,v.jsx)(r.ddU,{size:24,color:p.colors.green[400]})}));case"failed":if(4001!==(null===(t=b.error)||void 0===t?void 0:t.code))return(0,v.jsx)(x.kC,(0,a.Z)((0,a.Z)({},m),{},{alignItems:"center",justifyContent:"center",children:(0,v.jsx)(r.lTq,{size:24,color:p.colors.red[400]})}))}return(0,v.jsx)(c.Translation,{translation:n,textStyle:"ctaStatic"})}),[T,S,b,n,p,m]),_=(0,l.useMemo)((function(){switch(b.status){case"success":case"failed":return"transparent";default:return"primary"}}),[b]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.kC,{top:0,left:0,bottom:0,bg:_,overflow:"hidden",position:"absolute",alignItems:"center",justifyContent:"center",transition:"background 0.5s ease-in-out",sx:{animationIterationCount:1,animationFillMode:"forwards",animationTimingFunction:"ease-in-out",animationDuration:"".concat(D,"s"),animationName:M?"progress":"none",animationPlayState:M?"running":"stopped"},children:(0,v.jsx)(x.kC,{left:0,width:m.width,alignItems:"center",position:"absolute",justifyContent:"center",sx:{"> *":{color:"black !important",borderColor:"black !important"}},children:k})}),k]})},j=function(t){var e=t.text,n=t.amount,r=t.assetId,c=t.vaultId,u=t.actionType,f=t.contractSendMethod,x=(0,i.Z)(t,p),g=(0,o.Z)(),j=(0,s.Z)(g,2),y=j[0],S=j[1].width,C=(0,d.R)(),w=C.sendTransaction,b=C.state.transaction,I=(0,l.useMemo)((function(){var t;return JSON.stringify(null===b||void 0===b||null===(t=b.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(f._method)}),[b,f]),T=(0,l.useCallback)((function(){if("created"!==b.status&&"pending"!==b.status)return w(c,r,f,u,n)}),[b,c,r,f,u,n,w]),M=(0,l.useMemo)((function(){var t;if(!I)return"primary";switch(b.status){case"success":return"green.400";case"failed":return 4001!==(null===(t=b.error)||void 0===t?void 0:t.code)?"red.400":"primary";default:return"primary"}}),[I,b]);return(0,v.jsx)(m.zx,(0,a.Z)((0,a.Z)({py:2,px:10,overflow:"hidden",position:"relative",width:S||"auto",borderColor:M,onClick:function(){return T()},ref:y,variant:"ctaPrimaryOutline",transition:"border 0.5s ease-in-out"},x),{},{children:(0,v.jsx)(h,{text:e,vaultId:c,assetId:r,contractSendMethod:f,width:S})}))}},77972:function(t,e,n){n.r(e),e.default={}},5171:function(t,e,n){n.d(e,{_:function(){return d}});var a=n(73104),s=n(30433),i=n(75368),r=n(76201);function o(){var t=!1,e=[],n=new Set,o={subscribe:function(t){return n.add(t),function(){n.delete(t)}},start:function(a,s){if(t){var r=[];return n.forEach((function(t){r.push((0,i.d5)(t,a,{transitionOverride:s}))})),Promise.all(r)}return new Promise((function(t){e.push({animation:[a,s],resolve:t})}))},set:function(e){return(0,s.k)(t,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),n.forEach((function(t){(0,r.gg)(t,e)}))},stop:function(){n.forEach((function(t){(0,i.p_)(t)}))},mount:function(){return t=!0,e.forEach((function(t){var e=t.animation,n=t.resolve;o.start.apply(o,(0,a.__spreadArray)([],(0,a.__read)(e),!1)).then(n)})),function(){t=!1,o.stop()}}};return o}var l=n(71233),c=n(83308);var d=function(){var t=(0,c.h)(o);return(0,l.useEffect)(t.mount,[]),t}},91434:function(t,e,n){n.d(e,{c:function(){return l}});var a=n(73104),s=n(71233),i=n(78514),r=n(27552),o=n(83308);function l(t){var e=(0,o.h)((function(){return(0,i.B)(t)}));if((0,s.useContext)(r._).isStatic){var n=(0,a.__read)((0,s.useState)(t),2)[1];(0,s.useEffect)((function(){return e.onChange(n)}),[])}return e}}}]);
//# sourceMappingURL=8880.66f3fb46.chunk.js.map